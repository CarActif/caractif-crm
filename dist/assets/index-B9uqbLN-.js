var Od=e=>{throw TypeError(e)};var ol=(e,t,n)=>t.has(e)||Od("Cannot "+n);var _=(e,t,n)=>(ol(e,t,"read from private field"),n?n.call(e):t.get(e)),$=(e,t,n)=>t.has(e)?Od("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,n),O=(e,t,n,r)=>(ol(e,t,"write to private field"),r?r.call(e,n):t.set(e,n),n),H=(e,t,n)=>(ol(e,t,"access private method"),n);var so=(e,t,n,r)=>({set _(s){O(e,t,s,n)},get _(){return _(e,t,r)}});function Yv(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in e)){const i=Object.getOwnPropertyDescriptor(r,s);i&&Object.defineProperty(e,s,i.get?i:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();var vt=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Xv(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function Zv(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var n=function r(){return this instanceof r?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(r){var s=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(n,r,s.get?s:{enumerable:!0,get:function(){return e[r]}})}),n}var Vf={exports:{}},Ea={},Wf={exports:{}},q={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zi=Symbol.for("react.element"),ew=Symbol.for("react.portal"),tw=Symbol.for("react.fragment"),nw=Symbol.for("react.strict_mode"),rw=Symbol.for("react.profiler"),sw=Symbol.for("react.provider"),iw=Symbol.for("react.context"),ow=Symbol.for("react.forward_ref"),aw=Symbol.for("react.suspense"),lw=Symbol.for("react.memo"),uw=Symbol.for("react.lazy"),Rd=Symbol.iterator;function cw(e){return e===null||typeof e!="object"?null:(e=Rd&&e[Rd]||e["@@iterator"],typeof e=="function"?e:null)}var Kf={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Qf=Object.assign,Gf={};function Ps(e,t,n){this.props=e,this.context=t,this.refs=Gf,this.updater=n||Kf}Ps.prototype.isReactComponent={};Ps.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Ps.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Jf(){}Jf.prototype=Ps.prototype;function hc(e,t,n){this.props=e,this.context=t,this.refs=Gf,this.updater=n||Kf}var fc=hc.prototype=new Jf;fc.constructor=hc;Qf(fc,Ps.prototype);fc.isPureReactComponent=!0;var Ld=Array.isArray,Yf=Object.prototype.hasOwnProperty,mc={current:null},Xf={key:!0,ref:!0,__self:!0,__source:!0};function Zf(e,t,n){var r,s={},i=null,o=null;if(t!=null)for(r in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(i=""+t.key),t)Yf.call(t,r)&&!Xf.hasOwnProperty(r)&&(s[r]=t[r]);var l=arguments.length-2;if(l===1)s.children=n;else if(1<l){for(var u=Array(l),c=0;c<l;c++)u[c]=arguments[c+2];s.children=u}if(e&&e.defaultProps)for(r in l=e.defaultProps,l)s[r]===void 0&&(s[r]=l[r]);return{$$typeof:zi,type:e,key:i,ref:o,props:s,_owner:mc.current}}function dw(e,t){return{$$typeof:zi,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function pc(e){return typeof e=="object"&&e!==null&&e.$$typeof===zi}function hw(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var Id=/\/+/g;function al(e,t){return typeof e=="object"&&e!==null&&e.key!=null?hw(""+e.key):t.toString(36)}function Ao(e,t,n,r,s){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case zi:case ew:o=!0}}if(o)return o=e,s=s(o),e=r===""?"."+al(o,0):r,Ld(s)?(n="",e!=null&&(n=e.replace(Id,"$&/")+"/"),Ao(s,t,n,"",function(c){return c})):s!=null&&(pc(s)&&(s=dw(s,n+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(Id,"$&/")+"/")+e)),t.push(s)),1;if(o=0,r=r===""?".":r+":",Ld(e))for(var l=0;l<e.length;l++){i=e[l];var u=r+al(i,l);o+=Ao(i,t,n,u,s)}else if(u=cw(e),typeof u=="function")for(e=u.call(e),l=0;!(i=e.next()).done;)i=i.value,u=r+al(i,l++),o+=Ao(i,t,n,u,s);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function io(e,t,n){if(e==null)return e;var r=[],s=0;return Ao(e,r,"","",function(i){return t.call(n,i,s++)}),r}function fw(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var ze={current:null},Oo={transition:null},mw={ReactCurrentDispatcher:ze,ReactCurrentBatchConfig:Oo,ReactCurrentOwner:mc};function em(){throw Error("act(...) is not supported in production builds of React.")}q.Children={map:io,forEach:function(e,t,n){io(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return io(e,function(){t++}),t},toArray:function(e){return io(e,function(t){return t})||[]},only:function(e){if(!pc(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};q.Component=Ps;q.Fragment=tw;q.Profiler=rw;q.PureComponent=hc;q.StrictMode=nw;q.Suspense=aw;q.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=mw;q.act=em;q.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=Qf({},e.props),s=e.key,i=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,o=mc.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(u in t)Yf.call(t,u)&&!Xf.hasOwnProperty(u)&&(r[u]=t[u]===void 0&&l!==void 0?l[u]:t[u])}var u=arguments.length-2;if(u===1)r.children=n;else if(1<u){l=Array(u);for(var c=0;c<u;c++)l[c]=arguments[c+2];r.children=l}return{$$typeof:zi,type:e.type,key:s,ref:i,props:r,_owner:o}};q.createContext=function(e){return e={$$typeof:iw,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:sw,_context:e},e.Consumer=e};q.createElement=Zf;q.createFactory=function(e){var t=Zf.bind(null,e);return t.type=e,t};q.createRef=function(){return{current:null}};q.forwardRef=function(e){return{$$typeof:ow,render:e}};q.isValidElement=pc;q.lazy=function(e){return{$$typeof:uw,_payload:{_status:-1,_result:e},_init:fw}};q.memo=function(e,t){return{$$typeof:lw,type:e,compare:t===void 0?null:t}};q.startTransition=function(e){var t=Oo.transition;Oo.transition={};try{e()}finally{Oo.transition=t}};q.unstable_act=em;q.useCallback=function(e,t){return ze.current.useCallback(e,t)};q.useContext=function(e){return ze.current.useContext(e)};q.useDebugValue=function(){};q.useDeferredValue=function(e){return ze.current.useDeferredValue(e)};q.useEffect=function(e,t){return ze.current.useEffect(e,t)};q.useId=function(){return ze.current.useId()};q.useImperativeHandle=function(e,t,n){return ze.current.useImperativeHandle(e,t,n)};q.useInsertionEffect=function(e,t){return ze.current.useInsertionEffect(e,t)};q.useLayoutEffect=function(e,t){return ze.current.useLayoutEffect(e,t)};q.useMemo=function(e,t){return ze.current.useMemo(e,t)};q.useReducer=function(e,t,n){return ze.current.useReducer(e,t,n)};q.useRef=function(e){return ze.current.useRef(e)};q.useState=function(e){return ze.current.useState(e)};q.useSyncExternalStore=function(e,t,n){return ze.current.useSyncExternalStore(e,t,n)};q.useTransition=function(){return ze.current.useTransition()};q.version="18.3.1";Wf.exports=q;var k=Wf.exports;const vs=Xv(k),pw=Yv({__proto__:null,default:vs},[k]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gw=k,vw=Symbol.for("react.element"),ww=Symbol.for("react.fragment"),yw=Object.prototype.hasOwnProperty,xw=gw.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,bw={key:!0,ref:!0,__self:!0,__source:!0};function tm(e,t,n){var r,s={},i=null,o=null;n!==void 0&&(i=""+n),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(o=t.ref);for(r in t)yw.call(t,r)&&!bw.hasOwnProperty(r)&&(s[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)s[r]===void 0&&(s[r]=t[r]);return{$$typeof:vw,type:e,key:i,ref:o,props:s,_owner:xw.current}}Ea.Fragment=ww;Ea.jsx=tm;Ea.jsxs=tm;Vf.exports=Ea;var a=Vf.exports,Hl={},nm={exports:{}},ot={},rm={exports:{}},sm={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(T,F){var U=T.length;T.push(F);e:for(;0<U;){var oe=U-1>>>1,G=T[oe];if(0<s(G,F))T[oe]=F,T[U]=G,U=oe;else break e}}function n(T){return T.length===0?null:T[0]}function r(T){if(T.length===0)return null;var F=T[0],U=T.pop();if(U!==F){T[0]=U;e:for(var oe=0,G=T.length,un=G>>>1;oe<un;){var Qn=2*(oe+1)-1,il=T[Qn],Gn=Qn+1,ro=T[Gn];if(0>s(il,U))Gn<G&&0>s(ro,il)?(T[oe]=ro,T[Gn]=U,oe=Gn):(T[oe]=il,T[Qn]=U,oe=Qn);else if(Gn<G&&0>s(ro,U))T[oe]=ro,T[Gn]=U,oe=Gn;else break e}}return F}function s(T,F){var U=T.sortIndex-F.sortIndex;return U!==0?U:T.id-F.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var o=Date,l=o.now();e.unstable_now=function(){return o.now()-l}}var u=[],c=[],d=1,h=null,v=3,w=!1,g=!1,y=!1,b=typeof setTimeout=="function"?setTimeout:null,m=typeof clearTimeout=="function"?clearTimeout:null,f=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function p(T){for(var F=n(c);F!==null;){if(F.callback===null)r(c);else if(F.startTime<=T)r(c),F.sortIndex=F.expirationTime,t(u,F);else break;F=n(c)}}function x(T){if(y=!1,p(T),!g)if(n(u)!==null)g=!0,Te(j);else{var F=n(c);F!==null&&Bs(x,F.startTime-T)}}function j(T,F){g=!1,y&&(y=!1,m(P),P=-1),w=!0;var U=v;try{for(p(F),h=n(u);h!==null&&(!(h.expirationTime>F)||T&&!ie());){var oe=h.callback;if(typeof oe=="function"){h.callback=null,v=h.priorityLevel;var G=oe(h.expirationTime<=F);F=e.unstable_now(),typeof G=="function"?h.callback=G:h===n(u)&&r(u),p(F)}else r(u);h=n(u)}if(h!==null)var un=!0;else{var Qn=n(c);Qn!==null&&Bs(x,Qn.startTime-F),un=!1}return un}finally{h=null,v=U,w=!1}}var S=!1,N=null,P=-1,D=5,R=-1;function ie(){return!(e.unstable_now()-R<D)}function I(){if(N!==null){var T=e.unstable_now();R=T;var F=!0;try{F=N(!0,T)}finally{F?M():(S=!1,N=null)}}else S=!1}var M;if(typeof f=="function")M=function(){f(I)};else if(typeof MessageChannel<"u"){var fe=new MessageChannel,Se=fe.port2;fe.port1.onmessage=I,M=function(){Se.postMessage(null)}}else M=function(){b(I,0)};function Te(T){N=T,S||(S=!0,M())}function Bs(T,F){P=b(function(){T(e.unstable_now())},F)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(T){T.callback=null},e.unstable_continueExecution=function(){g||w||(g=!0,Te(j))},e.unstable_forceFrameRate=function(T){0>T||125<T?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):D=0<T?Math.floor(1e3/T):5},e.unstable_getCurrentPriorityLevel=function(){return v},e.unstable_getFirstCallbackNode=function(){return n(u)},e.unstable_next=function(T){switch(v){case 1:case 2:case 3:var F=3;break;default:F=v}var U=v;v=F;try{return T()}finally{v=U}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(T,F){switch(T){case 1:case 2:case 3:case 4:case 5:break;default:T=3}var U=v;v=T;try{return F()}finally{v=U}},e.unstable_scheduleCallback=function(T,F,U){var oe=e.unstable_now();switch(typeof U=="object"&&U!==null?(U=U.delay,U=typeof U=="number"&&0<U?oe+U:oe):U=oe,T){case 1:var G=-1;break;case 2:G=250;break;case 5:G=1073741823;break;case 4:G=1e4;break;default:G=5e3}return G=U+G,T={id:d++,callback:F,priorityLevel:T,startTime:U,expirationTime:G,sortIndex:-1},U>oe?(T.sortIndex=U,t(c,T),n(u)===null&&T===n(c)&&(y?(m(P),P=-1):y=!0,Bs(x,U-oe))):(T.sortIndex=G,t(u,T),g||w||(g=!0,Te(j))),T},e.unstable_shouldYield=ie,e.unstable_wrapCallback=function(T){var F=v;return function(){var U=v;v=F;try{return T.apply(this,arguments)}finally{v=U}}}})(sm);rm.exports=sm;var _w=rm.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var kw=k,st=_w;function E(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var im=new Set,pi={};function jr(e,t){ws(e,t),ws(e+"Capture",t)}function ws(e,t){for(pi[e]=t,e=0;e<t.length;e++)im.add(t[e])}var tn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Vl=Object.prototype.hasOwnProperty,jw=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,$d={},Md={};function Sw(e){return Vl.call(Md,e)?!0:Vl.call($d,e)?!1:jw.test(e)?Md[e]=!0:($d[e]=!0,!1)}function Cw(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function Ew(e,t,n,r){if(t===null||typeof t>"u"||Cw(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function qe(e,t,n,r,s,i,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=o}var Pe={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Pe[e]=new qe(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Pe[t]=new qe(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Pe[e]=new qe(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Pe[e]=new qe(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Pe[e]=new qe(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Pe[e]=new qe(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Pe[e]=new qe(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Pe[e]=new qe(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Pe[e]=new qe(e,5,!1,e.toLowerCase(),null,!1,!1)});var gc=/[\-:]([a-z])/g;function vc(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(gc,vc);Pe[t]=new qe(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(gc,vc);Pe[t]=new qe(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(gc,vc);Pe[t]=new qe(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Pe[e]=new qe(e,1,!1,e.toLowerCase(),null,!1,!1)});Pe.xlinkHref=new qe("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Pe[e]=new qe(e,1,!1,e.toLowerCase(),null,!0,!0)});function wc(e,t,n,r){var s=Pe.hasOwnProperty(t)?Pe[t]:null;(s!==null?s.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(Ew(t,n,s,r)&&(n=null),r||s===null?Sw(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):s.mustUseProperty?e[s.propertyName]=n===null?s.type===3?!1:"":n:(t=s.attributeName,r=s.attributeNamespace,n===null?e.removeAttribute(t):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var on=kw.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,oo=Symbol.for("react.element"),Mr=Symbol.for("react.portal"),Dr=Symbol.for("react.fragment"),yc=Symbol.for("react.strict_mode"),Wl=Symbol.for("react.profiler"),om=Symbol.for("react.provider"),am=Symbol.for("react.context"),xc=Symbol.for("react.forward_ref"),Kl=Symbol.for("react.suspense"),Ql=Symbol.for("react.suspense_list"),bc=Symbol.for("react.memo"),fn=Symbol.for("react.lazy"),lm=Symbol.for("react.offscreen"),Dd=Symbol.iterator;function Us(e){return e===null||typeof e!="object"?null:(e=Dd&&e[Dd]||e["@@iterator"],typeof e=="function"?e:null)}var ce=Object.assign,ll;function Ys(e){if(ll===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);ll=t&&t[1]||""}return`
`+ll+e}var ul=!1;function cl(e,t){if(!e||ul)return"";ul=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var s=c.stack.split(`
`),i=r.stack.split(`
`),o=s.length-1,l=i.length-1;1<=o&&0<=l&&s[o]!==i[l];)l--;for(;1<=o&&0<=l;o--,l--)if(s[o]!==i[l]){if(o!==1||l!==1)do if(o--,l--,0>l||s[o]!==i[l]){var u=`
`+s[o].replace(" at new "," at ");return e.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",e.displayName)),u}while(1<=o&&0<=l);break}}}finally{ul=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?Ys(e):""}function Nw(e){switch(e.tag){case 5:return Ys(e.type);case 16:return Ys("Lazy");case 13:return Ys("Suspense");case 19:return Ys("SuspenseList");case 0:case 2:case 15:return e=cl(e.type,!1),e;case 11:return e=cl(e.type.render,!1),e;case 1:return e=cl(e.type,!0),e;default:return""}}function Gl(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Dr:return"Fragment";case Mr:return"Portal";case Wl:return"Profiler";case yc:return"StrictMode";case Kl:return"Suspense";case Ql:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case am:return(e.displayName||"Context")+".Consumer";case om:return(e._context.displayName||"Context")+".Provider";case xc:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case bc:return t=e.displayName||null,t!==null?t:Gl(e.type)||"Memo";case fn:t=e._payload,e=e._init;try{return Gl(e(t))}catch{}}return null}function Pw(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Gl(t);case 8:return t===yc?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Un(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function um(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Tw(e){var t=um(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,i=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(o){r=""+o,i.call(this,o)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function ao(e){e._valueTracker||(e._valueTracker=Tw(e))}function cm(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=um(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function qo(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Jl(e,t){var n=t.checked;return ce({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function Fd(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=Un(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function dm(e,t){t=t.checked,t!=null&&wc(e,"checked",t,!1)}function Yl(e,t){dm(e,t);var n=Un(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Xl(e,t.type,n):t.hasOwnProperty("defaultValue")&&Xl(e,t.type,Un(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Bd(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function Xl(e,t,n){(t!=="number"||qo(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var Xs=Array.isArray;function Gr(e,t,n,r){if(e=e.options,t){t={};for(var s=0;s<n.length;s++)t["$"+n[s]]=!0;for(n=0;n<e.length;n++)s=t.hasOwnProperty("$"+e[n].value),e[n].selected!==s&&(e[n].selected=s),s&&r&&(e[n].defaultSelected=!0)}else{for(n=""+Un(n),t=null,s=0;s<e.length;s++){if(e[s].value===n){e[s].selected=!0,r&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function Zl(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(E(91));return ce({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Ud(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(E(92));if(Xs(n)){if(1<n.length)throw Error(E(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:Un(n)}}function hm(e,t){var n=Un(t.value),r=Un(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function zd(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function fm(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function eu(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?fm(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var lo,mm=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,s){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,s)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(lo=lo||document.createElement("div"),lo.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=lo.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function gi(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var ri={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Aw=["Webkit","ms","Moz","O"];Object.keys(ri).forEach(function(e){Aw.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),ri[t]=ri[e]})});function pm(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||ri.hasOwnProperty(e)&&ri[e]?(""+t).trim():t+"px"}function gm(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=pm(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,s):e[n]=s}}var Ow=ce({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function tu(e,t){if(t){if(Ow[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(E(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(E(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(E(61))}if(t.style!=null&&typeof t.style!="object")throw Error(E(62))}}function nu(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ru=null;function _c(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var su=null,Jr=null,Yr=null;function qd(e){if(e=Vi(e)){if(typeof su!="function")throw Error(E(280));var t=e.stateNode;t&&(t=Oa(t),su(e.stateNode,e.type,t))}}function vm(e){Jr?Yr?Yr.push(e):Yr=[e]:Jr=e}function wm(){if(Jr){var e=Jr,t=Yr;if(Yr=Jr=null,qd(e),t)for(e=0;e<t.length;e++)qd(t[e])}}function ym(e,t){return e(t)}function xm(){}var dl=!1;function bm(e,t,n){if(dl)return e(t,n);dl=!0;try{return ym(e,t,n)}finally{dl=!1,(Jr!==null||Yr!==null)&&(xm(),wm())}}function vi(e,t){var n=e.stateNode;if(n===null)return null;var r=Oa(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(E(231,t,typeof n));return n}var iu=!1;if(tn)try{var zs={};Object.defineProperty(zs,"passive",{get:function(){iu=!0}}),window.addEventListener("test",zs,zs),window.removeEventListener("test",zs,zs)}catch{iu=!1}function Rw(e,t,n,r,s,i,o,l,u){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(d){this.onError(d)}}var si=!1,Ho=null,Vo=!1,ou=null,Lw={onError:function(e){si=!0,Ho=e}};function Iw(e,t,n,r,s,i,o,l,u){si=!1,Ho=null,Rw.apply(Lw,arguments)}function $w(e,t,n,r,s,i,o,l,u){if(Iw.apply(this,arguments),si){if(si){var c=Ho;si=!1,Ho=null}else throw Error(E(198));Vo||(Vo=!0,ou=c)}}function Sr(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function _m(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Hd(e){if(Sr(e)!==e)throw Error(E(188))}function Mw(e){var t=e.alternate;if(!t){if(t=Sr(e),t===null)throw Error(E(188));return t!==e?null:e}for(var n=e,r=t;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return Hd(s),e;if(i===r)return Hd(s),t;i=i.sibling}throw Error(E(188))}if(n.return!==r.return)n=s,r=i;else{for(var o=!1,l=s.child;l;){if(l===n){o=!0,n=s,r=i;break}if(l===r){o=!0,r=s,n=i;break}l=l.sibling}if(!o){for(l=i.child;l;){if(l===n){o=!0,n=i,r=s;break}if(l===r){o=!0,r=i,n=s;break}l=l.sibling}if(!o)throw Error(E(189))}}if(n.alternate!==r)throw Error(E(190))}if(n.tag!==3)throw Error(E(188));return n.stateNode.current===n?e:t}function km(e){return e=Mw(e),e!==null?jm(e):null}function jm(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=jm(e);if(t!==null)return t;e=e.sibling}return null}var Sm=st.unstable_scheduleCallback,Vd=st.unstable_cancelCallback,Dw=st.unstable_shouldYield,Fw=st.unstable_requestPaint,pe=st.unstable_now,Bw=st.unstable_getCurrentPriorityLevel,kc=st.unstable_ImmediatePriority,Cm=st.unstable_UserBlockingPriority,Wo=st.unstable_NormalPriority,Uw=st.unstable_LowPriority,Em=st.unstable_IdlePriority,Na=null,Bt=null;function zw(e){if(Bt&&typeof Bt.onCommitFiberRoot=="function")try{Bt.onCommitFiberRoot(Na,e,void 0,(e.current.flags&128)===128)}catch{}}var Pt=Math.clz32?Math.clz32:Vw,qw=Math.log,Hw=Math.LN2;function Vw(e){return e>>>=0,e===0?32:31-(qw(e)/Hw|0)|0}var uo=64,co=4194304;function Zs(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Ko(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,s=e.suspendedLanes,i=e.pingedLanes,o=n&268435455;if(o!==0){var l=o&~s;l!==0?r=Zs(l):(i&=o,i!==0&&(r=Zs(i)))}else o=n&~s,o!==0?r=Zs(o):i!==0&&(r=Zs(i));if(r===0)return 0;if(t!==0&&t!==r&&!(t&s)&&(s=r&-r,i=t&-t,s>=i||s===16&&(i&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-Pt(t),s=1<<n,r|=e[n],t&=~s;return r}function Ww(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Kw(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,s=e.expirationTimes,i=e.pendingLanes;0<i;){var o=31-Pt(i),l=1<<o,u=s[o];u===-1?(!(l&n)||l&r)&&(s[o]=Ww(l,t)):u<=t&&(e.expiredLanes|=l),i&=~l}}function au(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Nm(){var e=uo;return uo<<=1,!(uo&4194240)&&(uo=64),e}function hl(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function qi(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Pt(t),e[t]=n}function Qw(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var s=31-Pt(n),i=1<<s;t[s]=0,r[s]=-1,e[s]=-1,n&=~i}}function jc(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-Pt(n),s=1<<r;s&t|e[r]&t&&(e[r]|=t),n&=~s}}var Y=0;function Pm(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Tm,Sc,Am,Om,Rm,lu=!1,ho=[],An=null,On=null,Rn=null,wi=new Map,yi=new Map,gn=[],Gw="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Wd(e,t){switch(e){case"focusin":case"focusout":An=null;break;case"dragenter":case"dragleave":On=null;break;case"mouseover":case"mouseout":Rn=null;break;case"pointerover":case"pointerout":wi.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":yi.delete(t.pointerId)}}function qs(e,t,n,r,s,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},t!==null&&(t=Vi(t),t!==null&&Sc(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function Jw(e,t,n,r,s){switch(t){case"focusin":return An=qs(An,e,t,n,r,s),!0;case"dragenter":return On=qs(On,e,t,n,r,s),!0;case"mouseover":return Rn=qs(Rn,e,t,n,r,s),!0;case"pointerover":var i=s.pointerId;return wi.set(i,qs(wi.get(i)||null,e,t,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,yi.set(i,qs(yi.get(i)||null,e,t,n,r,s)),!0}return!1}function Lm(e){var t=rr(e.target);if(t!==null){var n=Sr(t);if(n!==null){if(t=n.tag,t===13){if(t=_m(n),t!==null){e.blockedOn=t,Rm(e.priority,function(){Am(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Ro(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=uu(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);ru=r,n.target.dispatchEvent(r),ru=null}else return t=Vi(n),t!==null&&Sc(t),e.blockedOn=n,!1;t.shift()}return!0}function Kd(e,t,n){Ro(e)&&n.delete(t)}function Yw(){lu=!1,An!==null&&Ro(An)&&(An=null),On!==null&&Ro(On)&&(On=null),Rn!==null&&Ro(Rn)&&(Rn=null),wi.forEach(Kd),yi.forEach(Kd)}function Hs(e,t){e.blockedOn===t&&(e.blockedOn=null,lu||(lu=!0,st.unstable_scheduleCallback(st.unstable_NormalPriority,Yw)))}function xi(e){function t(s){return Hs(s,e)}if(0<ho.length){Hs(ho[0],e);for(var n=1;n<ho.length;n++){var r=ho[n];r.blockedOn===e&&(r.blockedOn=null)}}for(An!==null&&Hs(An,e),On!==null&&Hs(On,e),Rn!==null&&Hs(Rn,e),wi.forEach(t),yi.forEach(t),n=0;n<gn.length;n++)r=gn[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<gn.length&&(n=gn[0],n.blockedOn===null);)Lm(n),n.blockedOn===null&&gn.shift()}var Xr=on.ReactCurrentBatchConfig,Qo=!0;function Xw(e,t,n,r){var s=Y,i=Xr.transition;Xr.transition=null;try{Y=1,Cc(e,t,n,r)}finally{Y=s,Xr.transition=i}}function Zw(e,t,n,r){var s=Y,i=Xr.transition;Xr.transition=null;try{Y=4,Cc(e,t,n,r)}finally{Y=s,Xr.transition=i}}function Cc(e,t,n,r){if(Qo){var s=uu(e,t,n,r);if(s===null)_l(e,t,r,Go,n),Wd(e,r);else if(Jw(s,e,t,n,r))r.stopPropagation();else if(Wd(e,r),t&4&&-1<Gw.indexOf(e)){for(;s!==null;){var i=Vi(s);if(i!==null&&Tm(i),i=uu(e,t,n,r),i===null&&_l(e,t,r,Go,n),i===s)break;s=i}s!==null&&r.stopPropagation()}else _l(e,t,r,null,n)}}var Go=null;function uu(e,t,n,r){if(Go=null,e=_c(r),e=rr(e),e!==null)if(t=Sr(e),t===null)e=null;else if(n=t.tag,n===13){if(e=_m(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Go=e,null}function Im(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Bw()){case kc:return 1;case Cm:return 4;case Wo:case Uw:return 16;case Em:return 536870912;default:return 16}default:return 16}}var Cn=null,Ec=null,Lo=null;function $m(){if(Lo)return Lo;var e,t=Ec,n=t.length,r,s="value"in Cn?Cn.value:Cn.textContent,i=s.length;for(e=0;e<n&&t[e]===s[e];e++);var o=n-e;for(r=1;r<=o&&t[n-r]===s[i-r];r++);return Lo=s.slice(e,1<r?1-r:void 0)}function Io(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function fo(){return!0}function Qd(){return!1}function at(e){function t(n,r,s,i,o){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(n=e[l],this[l]=n?n(i):i[l]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?fo:Qd,this.isPropagationStopped=Qd,this}return ce(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=fo)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=fo)},persist:function(){},isPersistent:fo}),t}var Ts={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Nc=at(Ts),Hi=ce({},Ts,{view:0,detail:0}),ey=at(Hi),fl,ml,Vs,Pa=ce({},Hi,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Pc,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Vs&&(Vs&&e.type==="mousemove"?(fl=e.screenX-Vs.screenX,ml=e.screenY-Vs.screenY):ml=fl=0,Vs=e),fl)},movementY:function(e){return"movementY"in e?e.movementY:ml}}),Gd=at(Pa),ty=ce({},Pa,{dataTransfer:0}),ny=at(ty),ry=ce({},Hi,{relatedTarget:0}),pl=at(ry),sy=ce({},Ts,{animationName:0,elapsedTime:0,pseudoElement:0}),iy=at(sy),oy=ce({},Ts,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),ay=at(oy),ly=ce({},Ts,{data:0}),Jd=at(ly),uy={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},cy={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},dy={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function hy(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=dy[e])?!!t[e]:!1}function Pc(){return hy}var fy=ce({},Hi,{key:function(e){if(e.key){var t=uy[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Io(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?cy[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Pc,charCode:function(e){return e.type==="keypress"?Io(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Io(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),my=at(fy),py=ce({},Pa,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Yd=at(py),gy=ce({},Hi,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Pc}),vy=at(gy),wy=ce({},Ts,{propertyName:0,elapsedTime:0,pseudoElement:0}),yy=at(wy),xy=ce({},Pa,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),by=at(xy),_y=[9,13,27,32],Tc=tn&&"CompositionEvent"in window,ii=null;tn&&"documentMode"in document&&(ii=document.documentMode);var ky=tn&&"TextEvent"in window&&!ii,Mm=tn&&(!Tc||ii&&8<ii&&11>=ii),Xd=" ",Zd=!1;function Dm(e,t){switch(e){case"keyup":return _y.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Fm(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Fr=!1;function jy(e,t){switch(e){case"compositionend":return Fm(t);case"keypress":return t.which!==32?null:(Zd=!0,Xd);case"textInput":return e=t.data,e===Xd&&Zd?null:e;default:return null}}function Sy(e,t){if(Fr)return e==="compositionend"||!Tc&&Dm(e,t)?(e=$m(),Lo=Ec=Cn=null,Fr=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Mm&&t.locale!=="ko"?null:t.data;default:return null}}var Cy={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function eh(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Cy[e.type]:t==="textarea"}function Bm(e,t,n,r){vm(r),t=Jo(t,"onChange"),0<t.length&&(n=new Nc("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var oi=null,bi=null;function Ey(e){Ym(e,0)}function Ta(e){var t=zr(e);if(cm(t))return e}function Ny(e,t){if(e==="change")return t}var Um=!1;if(tn){var gl;if(tn){var vl="oninput"in document;if(!vl){var th=document.createElement("div");th.setAttribute("oninput","return;"),vl=typeof th.oninput=="function"}gl=vl}else gl=!1;Um=gl&&(!document.documentMode||9<document.documentMode)}function nh(){oi&&(oi.detachEvent("onpropertychange",zm),bi=oi=null)}function zm(e){if(e.propertyName==="value"&&Ta(bi)){var t=[];Bm(t,bi,e,_c(e)),bm(Ey,t)}}function Py(e,t,n){e==="focusin"?(nh(),oi=t,bi=n,oi.attachEvent("onpropertychange",zm)):e==="focusout"&&nh()}function Ty(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Ta(bi)}function Ay(e,t){if(e==="click")return Ta(t)}function Oy(e,t){if(e==="input"||e==="change")return Ta(t)}function Ry(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var At=typeof Object.is=="function"?Object.is:Ry;function _i(e,t){if(At(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!Vl.call(t,s)||!At(e[s],t[s]))return!1}return!0}function rh(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function sh(e,t){var n=rh(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=rh(n)}}function qm(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?qm(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Hm(){for(var e=window,t=qo();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=qo(e.document)}return t}function Ac(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function Ly(e){var t=Hm(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&qm(n.ownerDocument.documentElement,n)){if(r!==null&&Ac(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=n.textContent.length,i=Math.min(r.start,s);r=r.end===void 0?i:Math.min(r.end,s),!e.extend&&i>r&&(s=r,r=i,i=s),s=sh(n,i);var o=sh(n,r);s&&o&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),i>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Iy=tn&&"documentMode"in document&&11>=document.documentMode,Br=null,cu=null,ai=null,du=!1;function ih(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;du||Br==null||Br!==qo(r)||(r=Br,"selectionStart"in r&&Ac(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),ai&&_i(ai,r)||(ai=r,r=Jo(cu,"onSelect"),0<r.length&&(t=new Nc("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=Br)))}function mo(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Ur={animationend:mo("Animation","AnimationEnd"),animationiteration:mo("Animation","AnimationIteration"),animationstart:mo("Animation","AnimationStart"),transitionend:mo("Transition","TransitionEnd")},wl={},Vm={};tn&&(Vm=document.createElement("div").style,"AnimationEvent"in window||(delete Ur.animationend.animation,delete Ur.animationiteration.animation,delete Ur.animationstart.animation),"TransitionEvent"in window||delete Ur.transitionend.transition);function Aa(e){if(wl[e])return wl[e];if(!Ur[e])return e;var t=Ur[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in Vm)return wl[e]=t[n];return e}var Wm=Aa("animationend"),Km=Aa("animationiteration"),Qm=Aa("animationstart"),Gm=Aa("transitionend"),Jm=new Map,oh="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function qn(e,t){Jm.set(e,t),jr(t,[e])}for(var yl=0;yl<oh.length;yl++){var xl=oh[yl],$y=xl.toLowerCase(),My=xl[0].toUpperCase()+xl.slice(1);qn($y,"on"+My)}qn(Wm,"onAnimationEnd");qn(Km,"onAnimationIteration");qn(Qm,"onAnimationStart");qn("dblclick","onDoubleClick");qn("focusin","onFocus");qn("focusout","onBlur");qn(Gm,"onTransitionEnd");ws("onMouseEnter",["mouseout","mouseover"]);ws("onMouseLeave",["mouseout","mouseover"]);ws("onPointerEnter",["pointerout","pointerover"]);ws("onPointerLeave",["pointerout","pointerover"]);jr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));jr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));jr("onBeforeInput",["compositionend","keypress","textInput","paste"]);jr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));jr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));jr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ei="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Dy=new Set("cancel close invalid load scroll toggle".split(" ").concat(ei));function ah(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,$w(r,t,void 0,e),e.currentTarget=null}function Ym(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],s=r.event;r=r.listeners;e:{var i=void 0;if(t)for(var o=r.length-1;0<=o;o--){var l=r[o],u=l.instance,c=l.currentTarget;if(l=l.listener,u!==i&&s.isPropagationStopped())break e;ah(s,l,c),i=u}else for(o=0;o<r.length;o++){if(l=r[o],u=l.instance,c=l.currentTarget,l=l.listener,u!==i&&s.isPropagationStopped())break e;ah(s,l,c),i=u}}}if(Vo)throw e=ou,Vo=!1,ou=null,e}function te(e,t){var n=t[gu];n===void 0&&(n=t[gu]=new Set);var r=e+"__bubble";n.has(r)||(Xm(t,e,2,!1),n.add(r))}function bl(e,t,n){var r=0;t&&(r|=4),Xm(n,e,r,t)}var po="_reactListening"+Math.random().toString(36).slice(2);function ki(e){if(!e[po]){e[po]=!0,im.forEach(function(n){n!=="selectionchange"&&(Dy.has(n)||bl(n,!1,e),bl(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[po]||(t[po]=!0,bl("selectionchange",!1,t))}}function Xm(e,t,n,r){switch(Im(t)){case 1:var s=Xw;break;case 4:s=Zw;break;default:s=Cc}n=s.bind(null,t,n,e),s=void 0,!iu||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),r?s!==void 0?e.addEventListener(t,n,{capture:!0,passive:s}):e.addEventListener(t,n,!0):s!==void 0?e.addEventListener(t,n,{passive:s}):e.addEventListener(t,n,!1)}function _l(e,t,n,r,s){var i=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var l=r.stateNode.containerInfo;if(l===s||l.nodeType===8&&l.parentNode===s)break;if(o===4)for(o=r.return;o!==null;){var u=o.tag;if((u===3||u===4)&&(u=o.stateNode.containerInfo,u===s||u.nodeType===8&&u.parentNode===s))return;o=o.return}for(;l!==null;){if(o=rr(l),o===null)return;if(u=o.tag,u===5||u===6){r=i=o;continue e}l=l.parentNode}}r=r.return}bm(function(){var c=i,d=_c(n),h=[];e:{var v=Jm.get(e);if(v!==void 0){var w=Nc,g=e;switch(e){case"keypress":if(Io(n)===0)break e;case"keydown":case"keyup":w=my;break;case"focusin":g="focus",w=pl;break;case"focusout":g="blur",w=pl;break;case"beforeblur":case"afterblur":w=pl;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":w=Gd;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":w=ny;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":w=vy;break;case Wm:case Km:case Qm:w=iy;break;case Gm:w=yy;break;case"scroll":w=ey;break;case"wheel":w=by;break;case"copy":case"cut":case"paste":w=ay;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":w=Yd}var y=(t&4)!==0,b=!y&&e==="scroll",m=y?v!==null?v+"Capture":null:v;y=[];for(var f=c,p;f!==null;){p=f;var x=p.stateNode;if(p.tag===5&&x!==null&&(p=x,m!==null&&(x=vi(f,m),x!=null&&y.push(ji(f,x,p)))),b)break;f=f.return}0<y.length&&(v=new w(v,g,null,n,d),h.push({event:v,listeners:y}))}}if(!(t&7)){e:{if(v=e==="mouseover"||e==="pointerover",w=e==="mouseout"||e==="pointerout",v&&n!==ru&&(g=n.relatedTarget||n.fromElement)&&(rr(g)||g[nn]))break e;if((w||v)&&(v=d.window===d?d:(v=d.ownerDocument)?v.defaultView||v.parentWindow:window,w?(g=n.relatedTarget||n.toElement,w=c,g=g?rr(g):null,g!==null&&(b=Sr(g),g!==b||g.tag!==5&&g.tag!==6)&&(g=null)):(w=null,g=c),w!==g)){if(y=Gd,x="onMouseLeave",m="onMouseEnter",f="mouse",(e==="pointerout"||e==="pointerover")&&(y=Yd,x="onPointerLeave",m="onPointerEnter",f="pointer"),b=w==null?v:zr(w),p=g==null?v:zr(g),v=new y(x,f+"leave",w,n,d),v.target=b,v.relatedTarget=p,x=null,rr(d)===c&&(y=new y(m,f+"enter",g,n,d),y.target=p,y.relatedTarget=b,x=y),b=x,w&&g)t:{for(y=w,m=g,f=0,p=y;p;p=Tr(p))f++;for(p=0,x=m;x;x=Tr(x))p++;for(;0<f-p;)y=Tr(y),f--;for(;0<p-f;)m=Tr(m),p--;for(;f--;){if(y===m||m!==null&&y===m.alternate)break t;y=Tr(y),m=Tr(m)}y=null}else y=null;w!==null&&lh(h,v,w,y,!1),g!==null&&b!==null&&lh(h,b,g,y,!0)}}e:{if(v=c?zr(c):window,w=v.nodeName&&v.nodeName.toLowerCase(),w==="select"||w==="input"&&v.type==="file")var j=Ny;else if(eh(v))if(Um)j=Oy;else{j=Ty;var S=Py}else(w=v.nodeName)&&w.toLowerCase()==="input"&&(v.type==="checkbox"||v.type==="radio")&&(j=Ay);if(j&&(j=j(e,c))){Bm(h,j,n,d);break e}S&&S(e,v,c),e==="focusout"&&(S=v._wrapperState)&&S.controlled&&v.type==="number"&&Xl(v,"number",v.value)}switch(S=c?zr(c):window,e){case"focusin":(eh(S)||S.contentEditable==="true")&&(Br=S,cu=c,ai=null);break;case"focusout":ai=cu=Br=null;break;case"mousedown":du=!0;break;case"contextmenu":case"mouseup":case"dragend":du=!1,ih(h,n,d);break;case"selectionchange":if(Iy)break;case"keydown":case"keyup":ih(h,n,d)}var N;if(Tc)e:{switch(e){case"compositionstart":var P="onCompositionStart";break e;case"compositionend":P="onCompositionEnd";break e;case"compositionupdate":P="onCompositionUpdate";break e}P=void 0}else Fr?Dm(e,n)&&(P="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(P="onCompositionStart");P&&(Mm&&n.locale!=="ko"&&(Fr||P!=="onCompositionStart"?P==="onCompositionEnd"&&Fr&&(N=$m()):(Cn=d,Ec="value"in Cn?Cn.value:Cn.textContent,Fr=!0)),S=Jo(c,P),0<S.length&&(P=new Jd(P,e,null,n,d),h.push({event:P,listeners:S}),N?P.data=N:(N=Fm(n),N!==null&&(P.data=N)))),(N=ky?jy(e,n):Sy(e,n))&&(c=Jo(c,"onBeforeInput"),0<c.length&&(d=new Jd("onBeforeInput","beforeinput",null,n,d),h.push({event:d,listeners:c}),d.data=N))}Ym(h,t)})}function ji(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Jo(e,t){for(var n=t+"Capture",r=[];e!==null;){var s=e,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=vi(e,n),i!=null&&r.unshift(ji(e,i,s)),i=vi(e,t),i!=null&&r.push(ji(e,i,s))),e=e.return}return r}function Tr(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function lh(e,t,n,r,s){for(var i=t._reactName,o=[];n!==null&&n!==r;){var l=n,u=l.alternate,c=l.stateNode;if(u!==null&&u===r)break;l.tag===5&&c!==null&&(l=c,s?(u=vi(n,i),u!=null&&o.unshift(ji(n,u,l))):s||(u=vi(n,i),u!=null&&o.push(ji(n,u,l)))),n=n.return}o.length!==0&&e.push({event:t,listeners:o})}var Fy=/\r\n?/g,By=/\u0000|\uFFFD/g;function uh(e){return(typeof e=="string"?e:""+e).replace(Fy,`
`).replace(By,"")}function go(e,t,n){if(t=uh(t),uh(e)!==t&&n)throw Error(E(425))}function Yo(){}var hu=null,fu=null;function mu(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var pu=typeof setTimeout=="function"?setTimeout:void 0,Uy=typeof clearTimeout=="function"?clearTimeout:void 0,ch=typeof Promise=="function"?Promise:void 0,zy=typeof queueMicrotask=="function"?queueMicrotask:typeof ch<"u"?function(e){return ch.resolve(null).then(e).catch(qy)}:pu;function qy(e){setTimeout(function(){throw e})}function kl(e,t){var n=t,r=0;do{var s=n.nextSibling;if(e.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){e.removeChild(s),xi(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);xi(t)}function Ln(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function dh(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var As=Math.random().toString(36).slice(2),Ft="__reactFiber$"+As,Si="__reactProps$"+As,nn="__reactContainer$"+As,gu="__reactEvents$"+As,Hy="__reactListeners$"+As,Vy="__reactHandles$"+As;function rr(e){var t=e[Ft];if(t)return t;for(var n=e.parentNode;n;){if(t=n[nn]||n[Ft]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=dh(e);e!==null;){if(n=e[Ft])return n;e=dh(e)}return t}e=n,n=e.parentNode}return null}function Vi(e){return e=e[Ft]||e[nn],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function zr(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(E(33))}function Oa(e){return e[Si]||null}var vu=[],qr=-1;function Hn(e){return{current:e}}function re(e){0>qr||(e.current=vu[qr],vu[qr]=null,qr--)}function Z(e,t){qr++,vu[qr]=e.current,e.current=t}var zn={},Le=Hn(zn),Ye=Hn(!1),vr=zn;function ys(e,t){var n=e.type.contextTypes;if(!n)return zn;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in n)s[i]=t[i];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function Xe(e){return e=e.childContextTypes,e!=null}function Xo(){re(Ye),re(Le)}function hh(e,t,n){if(Le.current!==zn)throw Error(E(168));Z(Le,t),Z(Ye,n)}function Zm(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in t))throw Error(E(108,Pw(e)||"Unknown",s));return ce({},n,r)}function Zo(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||zn,vr=Le.current,Z(Le,e),Z(Ye,Ye.current),!0}function fh(e,t,n){var r=e.stateNode;if(!r)throw Error(E(169));n?(e=Zm(e,t,vr),r.__reactInternalMemoizedMergedChildContext=e,re(Ye),re(Le),Z(Le,e)):re(Ye),Z(Ye,n)}var Kt=null,Ra=!1,jl=!1;function ep(e){Kt===null?Kt=[e]:Kt.push(e)}function Wy(e){Ra=!0,ep(e)}function Vn(){if(!jl&&Kt!==null){jl=!0;var e=0,t=Y;try{var n=Kt;for(Y=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}Kt=null,Ra=!1}catch(s){throw Kt!==null&&(Kt=Kt.slice(e+1)),Sm(kc,Vn),s}finally{Y=t,jl=!1}}return null}var Hr=[],Vr=0,ea=null,ta=0,ft=[],mt=0,wr=null,Jt=1,Yt="";function Zn(e,t){Hr[Vr++]=ta,Hr[Vr++]=ea,ea=e,ta=t}function tp(e,t,n){ft[mt++]=Jt,ft[mt++]=Yt,ft[mt++]=wr,wr=e;var r=Jt;e=Yt;var s=32-Pt(r)-1;r&=~(1<<s),n+=1;var i=32-Pt(t)+s;if(30<i){var o=s-s%5;i=(r&(1<<o)-1).toString(32),r>>=o,s-=o,Jt=1<<32-Pt(t)+s|n<<s|r,Yt=i+e}else Jt=1<<i|n<<s|r,Yt=e}function Oc(e){e.return!==null&&(Zn(e,1),tp(e,1,0))}function Rc(e){for(;e===ea;)ea=Hr[--Vr],Hr[Vr]=null,ta=Hr[--Vr],Hr[Vr]=null;for(;e===wr;)wr=ft[--mt],ft[mt]=null,Yt=ft[--mt],ft[mt]=null,Jt=ft[--mt],ft[mt]=null}var rt=null,nt=null,se=!1,Nt=null;function np(e,t){var n=pt(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function mh(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,rt=e,nt=Ln(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,rt=e,nt=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=wr!==null?{id:Jt,overflow:Yt}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=pt(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,rt=e,nt=null,!0):!1;default:return!1}}function wu(e){return(e.mode&1)!==0&&(e.flags&128)===0}function yu(e){if(se){var t=nt;if(t){var n=t;if(!mh(e,t)){if(wu(e))throw Error(E(418));t=Ln(n.nextSibling);var r=rt;t&&mh(e,t)?np(r,n):(e.flags=e.flags&-4097|2,se=!1,rt=e)}}else{if(wu(e))throw Error(E(418));e.flags=e.flags&-4097|2,se=!1,rt=e}}}function ph(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;rt=e}function vo(e){if(e!==rt)return!1;if(!se)return ph(e),se=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!mu(e.type,e.memoizedProps)),t&&(t=nt)){if(wu(e))throw rp(),Error(E(418));for(;t;)np(e,t),t=Ln(t.nextSibling)}if(ph(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(E(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){nt=Ln(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}nt=null}}else nt=rt?Ln(e.stateNode.nextSibling):null;return!0}function rp(){for(var e=nt;e;)e=Ln(e.nextSibling)}function xs(){nt=rt=null,se=!1}function Lc(e){Nt===null?Nt=[e]:Nt.push(e)}var Ky=on.ReactCurrentBatchConfig;function Ws(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(E(309));var r=n.stateNode}if(!r)throw Error(E(147,e));var s=r,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(o){var l=s.refs;o===null?delete l[i]:l[i]=o},t._stringRef=i,t)}if(typeof e!="string")throw Error(E(284));if(!n._owner)throw Error(E(290,e))}return e}function wo(e,t){throw e=Object.prototype.toString.call(t),Error(E(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function gh(e){var t=e._init;return t(e._payload)}function sp(e){function t(m,f){if(e){var p=m.deletions;p===null?(m.deletions=[f],m.flags|=16):p.push(f)}}function n(m,f){if(!e)return null;for(;f!==null;)t(m,f),f=f.sibling;return null}function r(m,f){for(m=new Map;f!==null;)f.key!==null?m.set(f.key,f):m.set(f.index,f),f=f.sibling;return m}function s(m,f){return m=Dn(m,f),m.index=0,m.sibling=null,m}function i(m,f,p){return m.index=p,e?(p=m.alternate,p!==null?(p=p.index,p<f?(m.flags|=2,f):p):(m.flags|=2,f)):(m.flags|=1048576,f)}function o(m){return e&&m.alternate===null&&(m.flags|=2),m}function l(m,f,p,x){return f===null||f.tag!==6?(f=Al(p,m.mode,x),f.return=m,f):(f=s(f,p),f.return=m,f)}function u(m,f,p,x){var j=p.type;return j===Dr?d(m,f,p.props.children,x,p.key):f!==null&&(f.elementType===j||typeof j=="object"&&j!==null&&j.$$typeof===fn&&gh(j)===f.type)?(x=s(f,p.props),x.ref=Ws(m,f,p),x.return=m,x):(x=zo(p.type,p.key,p.props,null,m.mode,x),x.ref=Ws(m,f,p),x.return=m,x)}function c(m,f,p,x){return f===null||f.tag!==4||f.stateNode.containerInfo!==p.containerInfo||f.stateNode.implementation!==p.implementation?(f=Ol(p,m.mode,x),f.return=m,f):(f=s(f,p.children||[]),f.return=m,f)}function d(m,f,p,x,j){return f===null||f.tag!==7?(f=pr(p,m.mode,x,j),f.return=m,f):(f=s(f,p),f.return=m,f)}function h(m,f,p){if(typeof f=="string"&&f!==""||typeof f=="number")return f=Al(""+f,m.mode,p),f.return=m,f;if(typeof f=="object"&&f!==null){switch(f.$$typeof){case oo:return p=zo(f.type,f.key,f.props,null,m.mode,p),p.ref=Ws(m,null,f),p.return=m,p;case Mr:return f=Ol(f,m.mode,p),f.return=m,f;case fn:var x=f._init;return h(m,x(f._payload),p)}if(Xs(f)||Us(f))return f=pr(f,m.mode,p,null),f.return=m,f;wo(m,f)}return null}function v(m,f,p,x){var j=f!==null?f.key:null;if(typeof p=="string"&&p!==""||typeof p=="number")return j!==null?null:l(m,f,""+p,x);if(typeof p=="object"&&p!==null){switch(p.$$typeof){case oo:return p.key===j?u(m,f,p,x):null;case Mr:return p.key===j?c(m,f,p,x):null;case fn:return j=p._init,v(m,f,j(p._payload),x)}if(Xs(p)||Us(p))return j!==null?null:d(m,f,p,x,null);wo(m,p)}return null}function w(m,f,p,x,j){if(typeof x=="string"&&x!==""||typeof x=="number")return m=m.get(p)||null,l(f,m,""+x,j);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case oo:return m=m.get(x.key===null?p:x.key)||null,u(f,m,x,j);case Mr:return m=m.get(x.key===null?p:x.key)||null,c(f,m,x,j);case fn:var S=x._init;return w(m,f,p,S(x._payload),j)}if(Xs(x)||Us(x))return m=m.get(p)||null,d(f,m,x,j,null);wo(f,x)}return null}function g(m,f,p,x){for(var j=null,S=null,N=f,P=f=0,D=null;N!==null&&P<p.length;P++){N.index>P?(D=N,N=null):D=N.sibling;var R=v(m,N,p[P],x);if(R===null){N===null&&(N=D);break}e&&N&&R.alternate===null&&t(m,N),f=i(R,f,P),S===null?j=R:S.sibling=R,S=R,N=D}if(P===p.length)return n(m,N),se&&Zn(m,P),j;if(N===null){for(;P<p.length;P++)N=h(m,p[P],x),N!==null&&(f=i(N,f,P),S===null?j=N:S.sibling=N,S=N);return se&&Zn(m,P),j}for(N=r(m,N);P<p.length;P++)D=w(N,m,P,p[P],x),D!==null&&(e&&D.alternate!==null&&N.delete(D.key===null?P:D.key),f=i(D,f,P),S===null?j=D:S.sibling=D,S=D);return e&&N.forEach(function(ie){return t(m,ie)}),se&&Zn(m,P),j}function y(m,f,p,x){var j=Us(p);if(typeof j!="function")throw Error(E(150));if(p=j.call(p),p==null)throw Error(E(151));for(var S=j=null,N=f,P=f=0,D=null,R=p.next();N!==null&&!R.done;P++,R=p.next()){N.index>P?(D=N,N=null):D=N.sibling;var ie=v(m,N,R.value,x);if(ie===null){N===null&&(N=D);break}e&&N&&ie.alternate===null&&t(m,N),f=i(ie,f,P),S===null?j=ie:S.sibling=ie,S=ie,N=D}if(R.done)return n(m,N),se&&Zn(m,P),j;if(N===null){for(;!R.done;P++,R=p.next())R=h(m,R.value,x),R!==null&&(f=i(R,f,P),S===null?j=R:S.sibling=R,S=R);return se&&Zn(m,P),j}for(N=r(m,N);!R.done;P++,R=p.next())R=w(N,m,P,R.value,x),R!==null&&(e&&R.alternate!==null&&N.delete(R.key===null?P:R.key),f=i(R,f,P),S===null?j=R:S.sibling=R,S=R);return e&&N.forEach(function(I){return t(m,I)}),se&&Zn(m,P),j}function b(m,f,p,x){if(typeof p=="object"&&p!==null&&p.type===Dr&&p.key===null&&(p=p.props.children),typeof p=="object"&&p!==null){switch(p.$$typeof){case oo:e:{for(var j=p.key,S=f;S!==null;){if(S.key===j){if(j=p.type,j===Dr){if(S.tag===7){n(m,S.sibling),f=s(S,p.props.children),f.return=m,m=f;break e}}else if(S.elementType===j||typeof j=="object"&&j!==null&&j.$$typeof===fn&&gh(j)===S.type){n(m,S.sibling),f=s(S,p.props),f.ref=Ws(m,S,p),f.return=m,m=f;break e}n(m,S);break}else t(m,S);S=S.sibling}p.type===Dr?(f=pr(p.props.children,m.mode,x,p.key),f.return=m,m=f):(x=zo(p.type,p.key,p.props,null,m.mode,x),x.ref=Ws(m,f,p),x.return=m,m=x)}return o(m);case Mr:e:{for(S=p.key;f!==null;){if(f.key===S)if(f.tag===4&&f.stateNode.containerInfo===p.containerInfo&&f.stateNode.implementation===p.implementation){n(m,f.sibling),f=s(f,p.children||[]),f.return=m,m=f;break e}else{n(m,f);break}else t(m,f);f=f.sibling}f=Ol(p,m.mode,x),f.return=m,m=f}return o(m);case fn:return S=p._init,b(m,f,S(p._payload),x)}if(Xs(p))return g(m,f,p,x);if(Us(p))return y(m,f,p,x);wo(m,p)}return typeof p=="string"&&p!==""||typeof p=="number"?(p=""+p,f!==null&&f.tag===6?(n(m,f.sibling),f=s(f,p),f.return=m,m=f):(n(m,f),f=Al(p,m.mode,x),f.return=m,m=f),o(m)):n(m,f)}return b}var bs=sp(!0),ip=sp(!1),na=Hn(null),ra=null,Wr=null,Ic=null;function $c(){Ic=Wr=ra=null}function Mc(e){var t=na.current;re(na),e._currentValue=t}function xu(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Zr(e,t){ra=e,Ic=Wr=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Je=!0),e.firstContext=null)}function wt(e){var t=e._currentValue;if(Ic!==e)if(e={context:e,memoizedValue:t,next:null},Wr===null){if(ra===null)throw Error(E(308));Wr=e,ra.dependencies={lanes:0,firstContext:e}}else Wr=Wr.next=e;return t}var sr=null;function Dc(e){sr===null?sr=[e]:sr.push(e)}function op(e,t,n,r){var s=t.interleaved;return s===null?(n.next=n,Dc(t)):(n.next=s.next,s.next=n),t.interleaved=n,rn(e,r)}function rn(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var mn=!1;function Fc(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function ap(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Xt(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function In(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,W&2){var s=r.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),r.pending=t,rn(e,n)}return s=r.interleaved,s===null?(t.next=t,Dc(r)):(t.next=s.next,s.next=t),r.interleaved=t,rn(e,n)}function $o(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,jc(e,n)}}function vh(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?s=i=o:i=i.next=o,n=n.next}while(n!==null);i===null?s=i=t:i=i.next=t}else s=i=t;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function sa(e,t,n,r){var s=e.updateQueue;mn=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,l=s.shared.pending;if(l!==null){s.shared.pending=null;var u=l,c=u.next;u.next=null,o===null?i=c:o.next=c,o=u;var d=e.alternate;d!==null&&(d=d.updateQueue,l=d.lastBaseUpdate,l!==o&&(l===null?d.firstBaseUpdate=c:l.next=c,d.lastBaseUpdate=u))}if(i!==null){var h=s.baseState;o=0,d=c=u=null,l=i;do{var v=l.lane,w=l.eventTime;if((r&v)===v){d!==null&&(d=d.next={eventTime:w,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var g=e,y=l;switch(v=t,w=n,y.tag){case 1:if(g=y.payload,typeof g=="function"){h=g.call(w,h,v);break e}h=g;break e;case 3:g.flags=g.flags&-65537|128;case 0:if(g=y.payload,v=typeof g=="function"?g.call(w,h,v):g,v==null)break e;h=ce({},h,v);break e;case 2:mn=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,v=s.effects,v===null?s.effects=[l]:v.push(l))}else w={eventTime:w,lane:v,tag:l.tag,payload:l.payload,callback:l.callback,next:null},d===null?(c=d=w,u=h):d=d.next=w,o|=v;if(l=l.next,l===null){if(l=s.shared.pending,l===null)break;v=l,l=v.next,v.next=null,s.lastBaseUpdate=v,s.shared.pending=null}}while(!0);if(d===null&&(u=h),s.baseState=u,s.firstBaseUpdate=c,s.lastBaseUpdate=d,t=s.shared.interleaved,t!==null){s=t;do o|=s.lane,s=s.next;while(s!==t)}else i===null&&(s.shared.lanes=0);xr|=o,e.lanes=o,e.memoizedState=h}}function wh(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(E(191,s));s.call(r)}}}var Wi={},Ut=Hn(Wi),Ci=Hn(Wi),Ei=Hn(Wi);function ir(e){if(e===Wi)throw Error(E(174));return e}function Bc(e,t){switch(Z(Ei,t),Z(Ci,e),Z(Ut,Wi),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:eu(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=eu(t,e)}re(Ut),Z(Ut,t)}function _s(){re(Ut),re(Ci),re(Ei)}function lp(e){ir(Ei.current);var t=ir(Ut.current),n=eu(t,e.type);t!==n&&(Z(Ci,e),Z(Ut,n))}function Uc(e){Ci.current===e&&(re(Ut),re(Ci))}var ae=Hn(0);function ia(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Sl=[];function zc(){for(var e=0;e<Sl.length;e++)Sl[e]._workInProgressVersionPrimary=null;Sl.length=0}var Mo=on.ReactCurrentDispatcher,Cl=on.ReactCurrentBatchConfig,yr=0,le=null,we=null,_e=null,oa=!1,li=!1,Ni=0,Qy=0;function Ae(){throw Error(E(321))}function qc(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!At(e[n],t[n]))return!1;return!0}function Hc(e,t,n,r,s,i){if(yr=i,le=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Mo.current=e===null||e.memoizedState===null?Xy:Zy,e=n(r,s),li){i=0;do{if(li=!1,Ni=0,25<=i)throw Error(E(301));i+=1,_e=we=null,t.updateQueue=null,Mo.current=e0,e=n(r,s)}while(li)}if(Mo.current=aa,t=we!==null&&we.next!==null,yr=0,_e=we=le=null,oa=!1,t)throw Error(E(300));return e}function Vc(){var e=Ni!==0;return Ni=0,e}function Lt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return _e===null?le.memoizedState=_e=e:_e=_e.next=e,_e}function yt(){if(we===null){var e=le.alternate;e=e!==null?e.memoizedState:null}else e=we.next;var t=_e===null?le.memoizedState:_e.next;if(t!==null)_e=t,we=e;else{if(e===null)throw Error(E(310));we=e,e={memoizedState:we.memoizedState,baseState:we.baseState,baseQueue:we.baseQueue,queue:we.queue,next:null},_e===null?le.memoizedState=_e=e:_e=_e.next=e}return _e}function Pi(e,t){return typeof t=="function"?t(e):t}function El(e){var t=yt(),n=t.queue;if(n===null)throw Error(E(311));n.lastRenderedReducer=e;var r=we,s=r.baseQueue,i=n.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}r.baseQueue=s=i,n.pending=null}if(s!==null){i=s.next,r=r.baseState;var l=o=null,u=null,c=i;do{var d=c.lane;if((yr&d)===d)u!==null&&(u=u.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:e(r,c.action);else{var h={lane:d,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};u===null?(l=u=h,o=r):u=u.next=h,le.lanes|=d,xr|=d}c=c.next}while(c!==null&&c!==i);u===null?o=r:u.next=l,At(r,t.memoizedState)||(Je=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=u,n.lastRenderedState=r}if(e=n.interleaved,e!==null){s=e;do i=s.lane,le.lanes|=i,xr|=i,s=s.next;while(s!==e)}else s===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Nl(e){var t=yt(),n=t.queue;if(n===null)throw Error(E(311));n.lastRenderedReducer=e;var r=n.dispatch,s=n.pending,i=t.memoizedState;if(s!==null){n.pending=null;var o=s=s.next;do i=e(i,o.action),o=o.next;while(o!==s);At(i,t.memoizedState)||(Je=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),n.lastRenderedState=i}return[i,r]}function up(){}function cp(e,t){var n=le,r=yt(),s=t(),i=!At(r.memoizedState,s);if(i&&(r.memoizedState=s,Je=!0),r=r.queue,Wc(fp.bind(null,n,r,e),[e]),r.getSnapshot!==t||i||_e!==null&&_e.memoizedState.tag&1){if(n.flags|=2048,Ti(9,hp.bind(null,n,r,s,t),void 0,null),ke===null)throw Error(E(349));yr&30||dp(n,t,s)}return s}function dp(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=le.updateQueue,t===null?(t={lastEffect:null,stores:null},le.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function hp(e,t,n,r){t.value=n,t.getSnapshot=r,mp(t)&&pp(e)}function fp(e,t,n){return n(function(){mp(t)&&pp(e)})}function mp(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!At(e,n)}catch{return!0}}function pp(e){var t=rn(e,1);t!==null&&Tt(t,e,1,-1)}function yh(e){var t=Lt();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Pi,lastRenderedState:e},t.queue=e,e=e.dispatch=Yy.bind(null,le,e),[t.memoizedState,e]}function Ti(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=le.updateQueue,t===null?(t={lastEffect:null,stores:null},le.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function gp(){return yt().memoizedState}function Do(e,t,n,r){var s=Lt();le.flags|=e,s.memoizedState=Ti(1|t,n,void 0,r===void 0?null:r)}function La(e,t,n,r){var s=yt();r=r===void 0?null:r;var i=void 0;if(we!==null){var o=we.memoizedState;if(i=o.destroy,r!==null&&qc(r,o.deps)){s.memoizedState=Ti(t,n,i,r);return}}le.flags|=e,s.memoizedState=Ti(1|t,n,i,r)}function xh(e,t){return Do(8390656,8,e,t)}function Wc(e,t){return La(2048,8,e,t)}function vp(e,t){return La(4,2,e,t)}function wp(e,t){return La(4,4,e,t)}function yp(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function xp(e,t,n){return n=n!=null?n.concat([e]):null,La(4,4,yp.bind(null,t,e),n)}function Kc(){}function bp(e,t){var n=yt();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&qc(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function _p(e,t){var n=yt();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&qc(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function kp(e,t,n){return yr&21?(At(n,t)||(n=Nm(),le.lanes|=n,xr|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Je=!0),e.memoizedState=n)}function Gy(e,t){var n=Y;Y=n!==0&&4>n?n:4,e(!0);var r=Cl.transition;Cl.transition={};try{e(!1),t()}finally{Y=n,Cl.transition=r}}function jp(){return yt().memoizedState}function Jy(e,t,n){var r=Mn(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Sp(e))Cp(t,n);else if(n=op(e,t,n,r),n!==null){var s=Be();Tt(n,e,r,s),Ep(n,t,r)}}function Yy(e,t,n){var r=Mn(e),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Sp(e))Cp(t,s);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var o=t.lastRenderedState,l=i(o,n);if(s.hasEagerState=!0,s.eagerState=l,At(l,o)){var u=t.interleaved;u===null?(s.next=s,Dc(t)):(s.next=u.next,u.next=s),t.interleaved=s;return}}catch{}finally{}n=op(e,t,s,r),n!==null&&(s=Be(),Tt(n,e,r,s),Ep(n,t,r))}}function Sp(e){var t=e.alternate;return e===le||t!==null&&t===le}function Cp(e,t){li=oa=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Ep(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,jc(e,n)}}var aa={readContext:wt,useCallback:Ae,useContext:Ae,useEffect:Ae,useImperativeHandle:Ae,useInsertionEffect:Ae,useLayoutEffect:Ae,useMemo:Ae,useReducer:Ae,useRef:Ae,useState:Ae,useDebugValue:Ae,useDeferredValue:Ae,useTransition:Ae,useMutableSource:Ae,useSyncExternalStore:Ae,useId:Ae,unstable_isNewReconciler:!1},Xy={readContext:wt,useCallback:function(e,t){return Lt().memoizedState=[e,t===void 0?null:t],e},useContext:wt,useEffect:xh,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,Do(4194308,4,yp.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Do(4194308,4,e,t)},useInsertionEffect:function(e,t){return Do(4,2,e,t)},useMemo:function(e,t){var n=Lt();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Lt();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=Jy.bind(null,le,e),[r.memoizedState,e]},useRef:function(e){var t=Lt();return e={current:e},t.memoizedState=e},useState:yh,useDebugValue:Kc,useDeferredValue:function(e){return Lt().memoizedState=e},useTransition:function(){var e=yh(!1),t=e[0];return e=Gy.bind(null,e[1]),Lt().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=le,s=Lt();if(se){if(n===void 0)throw Error(E(407));n=n()}else{if(n=t(),ke===null)throw Error(E(349));yr&30||dp(r,t,n)}s.memoizedState=n;var i={value:n,getSnapshot:t};return s.queue=i,xh(fp.bind(null,r,i,e),[e]),r.flags|=2048,Ti(9,hp.bind(null,r,i,n,t),void 0,null),n},useId:function(){var e=Lt(),t=ke.identifierPrefix;if(se){var n=Yt,r=Jt;n=(r&~(1<<32-Pt(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=Ni++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=Qy++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Zy={readContext:wt,useCallback:bp,useContext:wt,useEffect:Wc,useImperativeHandle:xp,useInsertionEffect:vp,useLayoutEffect:wp,useMemo:_p,useReducer:El,useRef:gp,useState:function(){return El(Pi)},useDebugValue:Kc,useDeferredValue:function(e){var t=yt();return kp(t,we.memoizedState,e)},useTransition:function(){var e=El(Pi)[0],t=yt().memoizedState;return[e,t]},useMutableSource:up,useSyncExternalStore:cp,useId:jp,unstable_isNewReconciler:!1},e0={readContext:wt,useCallback:bp,useContext:wt,useEffect:Wc,useImperativeHandle:xp,useInsertionEffect:vp,useLayoutEffect:wp,useMemo:_p,useReducer:Nl,useRef:gp,useState:function(){return Nl(Pi)},useDebugValue:Kc,useDeferredValue:function(e){var t=yt();return we===null?t.memoizedState=e:kp(t,we.memoizedState,e)},useTransition:function(){var e=Nl(Pi)[0],t=yt().memoizedState;return[e,t]},useMutableSource:up,useSyncExternalStore:cp,useId:jp,unstable_isNewReconciler:!1};function kt(e,t){if(e&&e.defaultProps){t=ce({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function bu(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:ce({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Ia={isMounted:function(e){return(e=e._reactInternals)?Sr(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Be(),s=Mn(e),i=Xt(r,s);i.payload=t,n!=null&&(i.callback=n),t=In(e,i,s),t!==null&&(Tt(t,e,s,r),$o(t,e,s))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Be(),s=Mn(e),i=Xt(r,s);i.tag=1,i.payload=t,n!=null&&(i.callback=n),t=In(e,i,s),t!==null&&(Tt(t,e,s,r),$o(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Be(),r=Mn(e),s=Xt(n,r);s.tag=2,t!=null&&(s.callback=t),t=In(e,s,r),t!==null&&(Tt(t,e,r,n),$o(t,e,r))}};function bh(e,t,n,r,s,i,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,i,o):t.prototype&&t.prototype.isPureReactComponent?!_i(n,r)||!_i(s,i):!0}function Np(e,t,n){var r=!1,s=zn,i=t.contextType;return typeof i=="object"&&i!==null?i=wt(i):(s=Xe(t)?vr:Le.current,r=t.contextTypes,i=(r=r!=null)?ys(e,s):zn),t=new t(n,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Ia,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=i),t}function _h(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Ia.enqueueReplaceState(t,t.state,null)}function _u(e,t,n,r){var s=e.stateNode;s.props=n,s.state=e.memoizedState,s.refs={},Fc(e);var i=t.contextType;typeof i=="object"&&i!==null?s.context=wt(i):(i=Xe(t)?vr:Le.current,s.context=ys(e,i)),s.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(bu(e,t,i,n),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&Ia.enqueueReplaceState(s,s.state,null),sa(e,n,s,r),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function ks(e,t){try{var n="",r=t;do n+=Nw(r),r=r.return;while(r);var s=n}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:s,digest:null}}function Pl(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function ku(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var t0=typeof WeakMap=="function"?WeakMap:Map;function Pp(e,t,n){n=Xt(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){ua||(ua=!0,Ru=r),ku(e,t)},n}function Tp(e,t,n){n=Xt(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var s=t.value;n.payload=function(){return r(s)},n.callback=function(){ku(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){ku(e,t),typeof r!="function"&&($n===null?$n=new Set([this]):$n.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),n}function kh(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new t0;var s=new Set;r.set(t,s)}else s=r.get(t),s===void 0&&(s=new Set,r.set(t,s));s.has(n)||(s.add(n),e=p0.bind(null,e,t,n),t.then(e,e))}function jh(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Sh(e,t,n,r,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=Xt(-1,1),t.tag=2,In(n,t,1))),n.lanes|=1),e)}var n0=on.ReactCurrentOwner,Je=!1;function Fe(e,t,n,r){t.child=e===null?ip(t,null,n,r):bs(t,e.child,n,r)}function Ch(e,t,n,r,s){n=n.render;var i=t.ref;return Zr(t,s),r=Hc(e,t,n,r,i,s),n=Vc(),e!==null&&!Je?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,sn(e,t,s)):(se&&n&&Oc(t),t.flags|=1,Fe(e,t,r,s),t.child)}function Eh(e,t,n,r,s){if(e===null){var i=n.type;return typeof i=="function"&&!td(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=i,Ap(e,t,i,r,s)):(e=zo(n.type,null,r,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&s)){var o=i.memoizedProps;if(n=n.compare,n=n!==null?n:_i,n(o,r)&&e.ref===t.ref)return sn(e,t,s)}return t.flags|=1,e=Dn(i,r),e.ref=t.ref,e.return=t,t.child=e}function Ap(e,t,n,r,s){if(e!==null){var i=e.memoizedProps;if(_i(i,r)&&e.ref===t.ref)if(Je=!1,t.pendingProps=r=i,(e.lanes&s)!==0)e.flags&131072&&(Je=!0);else return t.lanes=e.lanes,sn(e,t,s)}return ju(e,t,n,r,s)}function Op(e,t,n){var r=t.pendingProps,s=r.children,i=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Z(Qr,tt),tt|=n;else{if(!(n&1073741824))return e=i!==null?i.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Z(Qr,tt),tt|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,Z(Qr,tt),tt|=r}else i!==null?(r=i.baseLanes|n,t.memoizedState=null):r=n,Z(Qr,tt),tt|=r;return Fe(e,t,s,n),t.child}function Rp(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function ju(e,t,n,r,s){var i=Xe(n)?vr:Le.current;return i=ys(t,i),Zr(t,s),n=Hc(e,t,n,r,i,s),r=Vc(),e!==null&&!Je?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,sn(e,t,s)):(se&&r&&Oc(t),t.flags|=1,Fe(e,t,n,s),t.child)}function Nh(e,t,n,r,s){if(Xe(n)){var i=!0;Zo(t)}else i=!1;if(Zr(t,s),t.stateNode===null)Fo(e,t),Np(t,n,r),_u(t,n,r,s),r=!0;else if(e===null){var o=t.stateNode,l=t.memoizedProps;o.props=l;var u=o.context,c=n.contextType;typeof c=="object"&&c!==null?c=wt(c):(c=Xe(n)?vr:Le.current,c=ys(t,c));var d=n.getDerivedStateFromProps,h=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==r||u!==c)&&_h(t,o,r,c),mn=!1;var v=t.memoizedState;o.state=v,sa(t,r,o,s),u=t.memoizedState,l!==r||v!==u||Ye.current||mn?(typeof d=="function"&&(bu(t,n,d,r),u=t.memoizedState),(l=mn||bh(t,n,l,r,v,u,c))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=u),o.props=r,o.state=u,o.context=c,r=l):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,ap(e,t),l=t.memoizedProps,c=t.type===t.elementType?l:kt(t.type,l),o.props=c,h=t.pendingProps,v=o.context,u=n.contextType,typeof u=="object"&&u!==null?u=wt(u):(u=Xe(n)?vr:Le.current,u=ys(t,u));var w=n.getDerivedStateFromProps;(d=typeof w=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==h||v!==u)&&_h(t,o,r,u),mn=!1,v=t.memoizedState,o.state=v,sa(t,r,o,s);var g=t.memoizedState;l!==h||v!==g||Ye.current||mn?(typeof w=="function"&&(bu(t,n,w,r),g=t.memoizedState),(c=mn||bh(t,n,c,r,v,g,u)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,g,u),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,g,u)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&v===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&v===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=g),o.props=r,o.state=g,o.context=u,r=c):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&v===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&v===e.memoizedState||(t.flags|=1024),r=!1)}return Su(e,t,n,r,i,s)}function Su(e,t,n,r,s,i){Rp(e,t);var o=(t.flags&128)!==0;if(!r&&!o)return s&&fh(t,n,!1),sn(e,t,i);r=t.stateNode,n0.current=t;var l=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&o?(t.child=bs(t,e.child,null,i),t.child=bs(t,null,l,i)):Fe(e,t,l,i),t.memoizedState=r.state,s&&fh(t,n,!0),t.child}function Lp(e){var t=e.stateNode;t.pendingContext?hh(e,t.pendingContext,t.pendingContext!==t.context):t.context&&hh(e,t.context,!1),Bc(e,t.containerInfo)}function Ph(e,t,n,r,s){return xs(),Lc(s),t.flags|=256,Fe(e,t,n,r),t.child}var Cu={dehydrated:null,treeContext:null,retryLane:0};function Eu(e){return{baseLanes:e,cachePool:null,transitions:null}}function Ip(e,t,n){var r=t.pendingProps,s=ae.current,i=!1,o=(t.flags&128)!==0,l;if((l=o)||(l=e!==null&&e.memoizedState===null?!1:(s&2)!==0),l?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),Z(ae,s&1),e===null)return yu(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=r.children,e=r.fallback,i?(r=t.mode,i=t.child,o={mode:"hidden",children:o},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=Da(o,r,0,null),e=pr(e,r,n,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=Eu(n),t.memoizedState=Cu,e):Qc(t,o));if(s=e.memoizedState,s!==null&&(l=s.dehydrated,l!==null))return r0(e,t,o,r,l,s,n);if(i){i=r.fallback,o=t.mode,s=e.child,l=s.sibling;var u={mode:"hidden",children:r.children};return!(o&1)&&t.child!==s?(r=t.child,r.childLanes=0,r.pendingProps=u,t.deletions=null):(r=Dn(s,u),r.subtreeFlags=s.subtreeFlags&14680064),l!==null?i=Dn(l,i):(i=pr(i,o,n,null),i.flags|=2),i.return=t,r.return=t,r.sibling=i,t.child=r,r=i,i=t.child,o=e.child.memoizedState,o=o===null?Eu(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=e.childLanes&~n,t.memoizedState=Cu,r}return i=e.child,e=i.sibling,r=Dn(i,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function Qc(e,t){return t=Da({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function yo(e,t,n,r){return r!==null&&Lc(r),bs(t,e.child,null,n),e=Qc(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function r0(e,t,n,r,s,i,o){if(n)return t.flags&256?(t.flags&=-257,r=Pl(Error(E(422))),yo(e,t,o,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=r.fallback,s=t.mode,r=Da({mode:"visible",children:r.children},s,0,null),i=pr(i,s,o,null),i.flags|=2,r.return=t,i.return=t,r.sibling=i,t.child=r,t.mode&1&&bs(t,e.child,null,o),t.child.memoizedState=Eu(o),t.memoizedState=Cu,i);if(!(t.mode&1))return yo(e,t,o,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var l=r.dgst;return r=l,i=Error(E(419)),r=Pl(i,r,void 0),yo(e,t,o,r)}if(l=(o&e.childLanes)!==0,Je||l){if(r=ke,r!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,rn(e,s),Tt(r,e,s,-1))}return ed(),r=Pl(Error(E(421))),yo(e,t,o,r)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=g0.bind(null,e),s._reactRetry=t,null):(e=i.treeContext,nt=Ln(s.nextSibling),rt=t,se=!0,Nt=null,e!==null&&(ft[mt++]=Jt,ft[mt++]=Yt,ft[mt++]=wr,Jt=e.id,Yt=e.overflow,wr=t),t=Qc(t,r.children),t.flags|=4096,t)}function Th(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),xu(e.return,t,n)}function Tl(e,t,n,r,s){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function $p(e,t,n){var r=t.pendingProps,s=r.revealOrder,i=r.tail;if(Fe(e,t,r.children,n),r=ae.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Th(e,n,t);else if(e.tag===19)Th(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Z(ae,r),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(n=t.child,s=null;n!==null;)e=n.alternate,e!==null&&ia(e)===null&&(s=n),n=n.sibling;n=s,n===null?(s=t.child,t.child=null):(s=n.sibling,n.sibling=null),Tl(t,!1,s,n,i);break;case"backwards":for(n=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&ia(e)===null){t.child=s;break}e=s.sibling,s.sibling=n,n=s,s=e}Tl(t,!0,n,null,i);break;case"together":Tl(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Fo(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function sn(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),xr|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(E(153));if(t.child!==null){for(e=t.child,n=Dn(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Dn(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function s0(e,t,n){switch(t.tag){case 3:Lp(t),xs();break;case 5:lp(t);break;case 1:Xe(t.type)&&Zo(t);break;case 4:Bc(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,s=t.memoizedProps.value;Z(na,r._currentValue),r._currentValue=s;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(Z(ae,ae.current&1),t.flags|=128,null):n&t.child.childLanes?Ip(e,t,n):(Z(ae,ae.current&1),e=sn(e,t,n),e!==null?e.sibling:null);Z(ae,ae.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return $p(e,t,n);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),Z(ae,ae.current),r)break;return null;case 22:case 23:return t.lanes=0,Op(e,t,n)}return sn(e,t,n)}var Mp,Nu,Dp,Fp;Mp=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Nu=function(){};Dp=function(e,t,n,r){var s=e.memoizedProps;if(s!==r){e=t.stateNode,ir(Ut.current);var i=null;switch(n){case"input":s=Jl(e,s),r=Jl(e,r),i=[];break;case"select":s=ce({},s,{value:void 0}),r=ce({},r,{value:void 0}),i=[];break;case"textarea":s=Zl(e,s),r=Zl(e,r),i=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=Yo)}tu(n,r);var o;n=null;for(c in s)if(!r.hasOwnProperty(c)&&s.hasOwnProperty(c)&&s[c]!=null)if(c==="style"){var l=s[c];for(o in l)l.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(pi.hasOwnProperty(c)?i||(i=[]):(i=i||[]).push(c,null));for(c in r){var u=r[c];if(l=s!=null?s[c]:void 0,r.hasOwnProperty(c)&&u!==l&&(u!=null||l!=null))if(c==="style")if(l){for(o in l)!l.hasOwnProperty(o)||u&&u.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in u)u.hasOwnProperty(o)&&l[o]!==u[o]&&(n||(n={}),n[o]=u[o])}else n||(i||(i=[]),i.push(c,n)),n=u;else c==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,l=l?l.__html:void 0,u!=null&&l!==u&&(i=i||[]).push(c,u)):c==="children"?typeof u!="string"&&typeof u!="number"||(i=i||[]).push(c,""+u):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(pi.hasOwnProperty(c)?(u!=null&&c==="onScroll"&&te("scroll",e),i||l===u||(i=[])):(i=i||[]).push(c,u))}n&&(i=i||[]).push("style",n);var c=i;(t.updateQueue=c)&&(t.flags|=4)}};Fp=function(e,t,n,r){n!==r&&(t.flags|=4)};function Ks(e,t){if(!se)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Oe(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function i0(e,t,n){var r=t.pendingProps;switch(Rc(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Oe(t),null;case 1:return Xe(t.type)&&Xo(),Oe(t),null;case 3:return r=t.stateNode,_s(),re(Ye),re(Le),zc(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(vo(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Nt!==null&&($u(Nt),Nt=null))),Nu(e,t),Oe(t),null;case 5:Uc(t);var s=ir(Ei.current);if(n=t.type,e!==null&&t.stateNode!=null)Dp(e,t,n,r,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(E(166));return Oe(t),null}if(e=ir(Ut.current),vo(t)){r=t.stateNode,n=t.type;var i=t.memoizedProps;switch(r[Ft]=t,r[Si]=i,e=(t.mode&1)!==0,n){case"dialog":te("cancel",r),te("close",r);break;case"iframe":case"object":case"embed":te("load",r);break;case"video":case"audio":for(s=0;s<ei.length;s++)te(ei[s],r);break;case"source":te("error",r);break;case"img":case"image":case"link":te("error",r),te("load",r);break;case"details":te("toggle",r);break;case"input":Fd(r,i),te("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},te("invalid",r);break;case"textarea":Ud(r,i),te("invalid",r)}tu(n,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var l=i[o];o==="children"?typeof l=="string"?r.textContent!==l&&(i.suppressHydrationWarning!==!0&&go(r.textContent,l,e),s=["children",l]):typeof l=="number"&&r.textContent!==""+l&&(i.suppressHydrationWarning!==!0&&go(r.textContent,l,e),s=["children",""+l]):pi.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&te("scroll",r)}switch(n){case"input":ao(r),Bd(r,i,!0);break;case"textarea":ao(r),zd(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=Yo)}r=s,t.updateQueue=r,r!==null&&(t.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=fm(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=o.createElement(n,{is:r.is}):(e=o.createElement(n),n==="select"&&(o=e,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):e=o.createElementNS(e,n),e[Ft]=t,e[Si]=r,Mp(e,t,!1,!1),t.stateNode=e;e:{switch(o=nu(n,r),n){case"dialog":te("cancel",e),te("close",e),s=r;break;case"iframe":case"object":case"embed":te("load",e),s=r;break;case"video":case"audio":for(s=0;s<ei.length;s++)te(ei[s],e);s=r;break;case"source":te("error",e),s=r;break;case"img":case"image":case"link":te("error",e),te("load",e),s=r;break;case"details":te("toggle",e),s=r;break;case"input":Fd(e,r),s=Jl(e,r),te("invalid",e);break;case"option":s=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},s=ce({},r,{value:void 0}),te("invalid",e);break;case"textarea":Ud(e,r),s=Zl(e,r),te("invalid",e);break;default:s=r}tu(n,s),l=s;for(i in l)if(l.hasOwnProperty(i)){var u=l[i];i==="style"?gm(e,u):i==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,u!=null&&mm(e,u)):i==="children"?typeof u=="string"?(n!=="textarea"||u!=="")&&gi(e,u):typeof u=="number"&&gi(e,""+u):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(pi.hasOwnProperty(i)?u!=null&&i==="onScroll"&&te("scroll",e):u!=null&&wc(e,i,u,o))}switch(n){case"input":ao(e),Bd(e,r,!1);break;case"textarea":ao(e),zd(e);break;case"option":r.value!=null&&e.setAttribute("value",""+Un(r.value));break;case"select":e.multiple=!!r.multiple,i=r.value,i!=null?Gr(e,!!r.multiple,i,!1):r.defaultValue!=null&&Gr(e,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=Yo)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Oe(t),null;case 6:if(e&&t.stateNode!=null)Fp(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(E(166));if(n=ir(Ei.current),ir(Ut.current),vo(t)){if(r=t.stateNode,n=t.memoizedProps,r[Ft]=t,(i=r.nodeValue!==n)&&(e=rt,e!==null))switch(e.tag){case 3:go(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&go(r.nodeValue,n,(e.mode&1)!==0)}i&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Ft]=t,t.stateNode=r}return Oe(t),null;case 13:if(re(ae),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(se&&nt!==null&&t.mode&1&&!(t.flags&128))rp(),xs(),t.flags|=98560,i=!1;else if(i=vo(t),r!==null&&r.dehydrated!==null){if(e===null){if(!i)throw Error(E(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(E(317));i[Ft]=t}else xs(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Oe(t),i=!1}else Nt!==null&&($u(Nt),Nt=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||ae.current&1?ye===0&&(ye=3):ed())),t.updateQueue!==null&&(t.flags|=4),Oe(t),null);case 4:return _s(),Nu(e,t),e===null&&ki(t.stateNode.containerInfo),Oe(t),null;case 10:return Mc(t.type._context),Oe(t),null;case 17:return Xe(t.type)&&Xo(),Oe(t),null;case 19:if(re(ae),i=t.memoizedState,i===null)return Oe(t),null;if(r=(t.flags&128)!==0,o=i.rendering,o===null)if(r)Ks(i,!1);else{if(ye!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=ia(e),o!==null){for(t.flags|=128,Ks(i,!1),r=o.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)i=n,e=r,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,e=o.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Z(ae,ae.current&1|2),t.child}e=e.sibling}i.tail!==null&&pe()>js&&(t.flags|=128,r=!0,Ks(i,!1),t.lanes=4194304)}else{if(!r)if(e=ia(o),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),Ks(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!se)return Oe(t),null}else 2*pe()-i.renderingStartTime>js&&n!==1073741824&&(t.flags|=128,r=!0,Ks(i,!1),t.lanes=4194304);i.isBackwards?(o.sibling=t.child,t.child=o):(n=i.last,n!==null?n.sibling=o:t.child=o,i.last=o)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=pe(),t.sibling=null,n=ae.current,Z(ae,r?n&1|2:n&1),t):(Oe(t),null);case 22:case 23:return Zc(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?tt&1073741824&&(Oe(t),t.subtreeFlags&6&&(t.flags|=8192)):Oe(t),null;case 24:return null;case 25:return null}throw Error(E(156,t.tag))}function o0(e,t){switch(Rc(t),t.tag){case 1:return Xe(t.type)&&Xo(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return _s(),re(Ye),re(Le),zc(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Uc(t),null;case 13:if(re(ae),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(E(340));xs()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return re(ae),null;case 4:return _s(),null;case 10:return Mc(t.type._context),null;case 22:case 23:return Zc(),null;case 24:return null;default:return null}}var xo=!1,Re=!1,a0=typeof WeakSet=="function"?WeakSet:Set,A=null;function Kr(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){he(e,t,r)}else n.current=null}function Pu(e,t,n){try{n()}catch(r){he(e,t,r)}}var Ah=!1;function l0(e,t){if(hu=Qo,e=Hm(),Ac(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var o=0,l=-1,u=-1,c=0,d=0,h=e,v=null;t:for(;;){for(var w;h!==n||s!==0&&h.nodeType!==3||(l=o+s),h!==i||r!==0&&h.nodeType!==3||(u=o+r),h.nodeType===3&&(o+=h.nodeValue.length),(w=h.firstChild)!==null;)v=h,h=w;for(;;){if(h===e)break t;if(v===n&&++c===s&&(l=o),v===i&&++d===r&&(u=o),(w=h.nextSibling)!==null)break;h=v,v=h.parentNode}h=w}n=l===-1||u===-1?null:{start:l,end:u}}else n=null}n=n||{start:0,end:0}}else n=null;for(fu={focusedElem:e,selectionRange:n},Qo=!1,A=t;A!==null;)if(t=A,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,A=e;else for(;A!==null;){t=A;try{var g=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(g!==null){var y=g.memoizedProps,b=g.memoizedState,m=t.stateNode,f=m.getSnapshotBeforeUpdate(t.elementType===t.type?y:kt(t.type,y),b);m.__reactInternalSnapshotBeforeUpdate=f}break;case 3:var p=t.stateNode.containerInfo;p.nodeType===1?p.textContent="":p.nodeType===9&&p.documentElement&&p.removeChild(p.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(E(163))}}catch(x){he(t,t.return,x)}if(e=t.sibling,e!==null){e.return=t.return,A=e;break}A=t.return}return g=Ah,Ah=!1,g}function ui(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&e)===e){var i=s.destroy;s.destroy=void 0,i!==void 0&&Pu(t,n,i)}s=s.next}while(s!==r)}}function $a(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function Tu(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function Bp(e){var t=e.alternate;t!==null&&(e.alternate=null,Bp(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Ft],delete t[Si],delete t[gu],delete t[Hy],delete t[Vy])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Up(e){return e.tag===5||e.tag===3||e.tag===4}function Oh(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Up(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Au(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Yo));else if(r!==4&&(e=e.child,e!==null))for(Au(e,t,n),e=e.sibling;e!==null;)Au(e,t,n),e=e.sibling}function Ou(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(Ou(e,t,n),e=e.sibling;e!==null;)Ou(e,t,n),e=e.sibling}var Ce=null,Ct=!1;function cn(e,t,n){for(n=n.child;n!==null;)zp(e,t,n),n=n.sibling}function zp(e,t,n){if(Bt&&typeof Bt.onCommitFiberUnmount=="function")try{Bt.onCommitFiberUnmount(Na,n)}catch{}switch(n.tag){case 5:Re||Kr(n,t);case 6:var r=Ce,s=Ct;Ce=null,cn(e,t,n),Ce=r,Ct=s,Ce!==null&&(Ct?(e=Ce,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):Ce.removeChild(n.stateNode));break;case 18:Ce!==null&&(Ct?(e=Ce,n=n.stateNode,e.nodeType===8?kl(e.parentNode,n):e.nodeType===1&&kl(e,n),xi(e)):kl(Ce,n.stateNode));break;case 4:r=Ce,s=Ct,Ce=n.stateNode.containerInfo,Ct=!0,cn(e,t,n),Ce=r,Ct=s;break;case 0:case 11:case 14:case 15:if(!Re&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&Pu(n,t,o),s=s.next}while(s!==r)}cn(e,t,n);break;case 1:if(!Re&&(Kr(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(l){he(n,t,l)}cn(e,t,n);break;case 21:cn(e,t,n);break;case 22:n.mode&1?(Re=(r=Re)||n.memoizedState!==null,cn(e,t,n),Re=r):cn(e,t,n);break;default:cn(e,t,n)}}function Rh(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new a0),t.forEach(function(r){var s=v0.bind(null,e,r);n.has(r)||(n.add(r),r.then(s,s))})}}function bt(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var i=e,o=t,l=o;e:for(;l!==null;){switch(l.tag){case 5:Ce=l.stateNode,Ct=!1;break e;case 3:Ce=l.stateNode.containerInfo,Ct=!0;break e;case 4:Ce=l.stateNode.containerInfo,Ct=!0;break e}l=l.return}if(Ce===null)throw Error(E(160));zp(i,o,s),Ce=null,Ct=!1;var u=s.alternate;u!==null&&(u.return=null),s.return=null}catch(c){he(s,t,c)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)qp(t,e),t=t.sibling}function qp(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(bt(t,e),Ot(e),r&4){try{ui(3,e,e.return),$a(3,e)}catch(y){he(e,e.return,y)}try{ui(5,e,e.return)}catch(y){he(e,e.return,y)}}break;case 1:bt(t,e),Ot(e),r&512&&n!==null&&Kr(n,n.return);break;case 5:if(bt(t,e),Ot(e),r&512&&n!==null&&Kr(n,n.return),e.flags&32){var s=e.stateNode;try{gi(s,"")}catch(y){he(e,e.return,y)}}if(r&4&&(s=e.stateNode,s!=null)){var i=e.memoizedProps,o=n!==null?n.memoizedProps:i,l=e.type,u=e.updateQueue;if(e.updateQueue=null,u!==null)try{l==="input"&&i.type==="radio"&&i.name!=null&&dm(s,i),nu(l,o);var c=nu(l,i);for(o=0;o<u.length;o+=2){var d=u[o],h=u[o+1];d==="style"?gm(s,h):d==="dangerouslySetInnerHTML"?mm(s,h):d==="children"?gi(s,h):wc(s,d,h,c)}switch(l){case"input":Yl(s,i);break;case"textarea":hm(s,i);break;case"select":var v=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var w=i.value;w!=null?Gr(s,!!i.multiple,w,!1):v!==!!i.multiple&&(i.defaultValue!=null?Gr(s,!!i.multiple,i.defaultValue,!0):Gr(s,!!i.multiple,i.multiple?[]:"",!1))}s[Si]=i}catch(y){he(e,e.return,y)}}break;case 6:if(bt(t,e),Ot(e),r&4){if(e.stateNode===null)throw Error(E(162));s=e.stateNode,i=e.memoizedProps;try{s.nodeValue=i}catch(y){he(e,e.return,y)}}break;case 3:if(bt(t,e),Ot(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{xi(t.containerInfo)}catch(y){he(e,e.return,y)}break;case 4:bt(t,e),Ot(e);break;case 13:bt(t,e),Ot(e),s=e.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(Yc=pe())),r&4&&Rh(e);break;case 22:if(d=n!==null&&n.memoizedState!==null,e.mode&1?(Re=(c=Re)||d,bt(t,e),Re=c):bt(t,e),Ot(e),r&8192){if(c=e.memoizedState!==null,(e.stateNode.isHidden=c)&&!d&&e.mode&1)for(A=e,d=e.child;d!==null;){for(h=A=d;A!==null;){switch(v=A,w=v.child,v.tag){case 0:case 11:case 14:case 15:ui(4,v,v.return);break;case 1:Kr(v,v.return);var g=v.stateNode;if(typeof g.componentWillUnmount=="function"){r=v,n=v.return;try{t=r,g.props=t.memoizedProps,g.state=t.memoizedState,g.componentWillUnmount()}catch(y){he(r,n,y)}}break;case 5:Kr(v,v.return);break;case 22:if(v.memoizedState!==null){Ih(h);continue}}w!==null?(w.return=v,A=w):Ih(h)}d=d.sibling}e:for(d=null,h=e;;){if(h.tag===5){if(d===null){d=h;try{s=h.stateNode,c?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(l=h.stateNode,u=h.memoizedProps.style,o=u!=null&&u.hasOwnProperty("display")?u.display:null,l.style.display=pm("display",o))}catch(y){he(e,e.return,y)}}}else if(h.tag===6){if(d===null)try{h.stateNode.nodeValue=c?"":h.memoizedProps}catch(y){he(e,e.return,y)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===e)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;h.sibling===null;){if(h.return===null||h.return===e)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:bt(t,e),Ot(e),r&4&&Rh(e);break;case 21:break;default:bt(t,e),Ot(e)}}function Ot(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(Up(n)){var r=n;break e}n=n.return}throw Error(E(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(gi(s,""),r.flags&=-33);var i=Oh(e);Ou(e,i,s);break;case 3:case 4:var o=r.stateNode.containerInfo,l=Oh(e);Au(e,l,o);break;default:throw Error(E(161))}}catch(u){he(e,e.return,u)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function u0(e,t,n){A=e,Hp(e)}function Hp(e,t,n){for(var r=(e.mode&1)!==0;A!==null;){var s=A,i=s.child;if(s.tag===22&&r){var o=s.memoizedState!==null||xo;if(!o){var l=s.alternate,u=l!==null&&l.memoizedState!==null||Re;l=xo;var c=Re;if(xo=o,(Re=u)&&!c)for(A=s;A!==null;)o=A,u=o.child,o.tag===22&&o.memoizedState!==null?$h(s):u!==null?(u.return=o,A=u):$h(s);for(;i!==null;)A=i,Hp(i),i=i.sibling;A=s,xo=l,Re=c}Lh(e)}else s.subtreeFlags&8772&&i!==null?(i.return=s,A=i):Lh(e)}}function Lh(e){for(;A!==null;){var t=A;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Re||$a(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!Re)if(n===null)r.componentDidMount();else{var s=t.elementType===t.type?n.memoizedProps:kt(t.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&wh(t,i,r);break;case 3:var o=t.updateQueue;if(o!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}wh(t,o,n)}break;case 5:var l=t.stateNode;if(n===null&&t.flags&4){n=l;var u=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":u.autoFocus&&n.focus();break;case"img":u.src&&(n.src=u.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var c=t.alternate;if(c!==null){var d=c.memoizedState;if(d!==null){var h=d.dehydrated;h!==null&&xi(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(E(163))}Re||t.flags&512&&Tu(t)}catch(v){he(t,t.return,v)}}if(t===e){A=null;break}if(n=t.sibling,n!==null){n.return=t.return,A=n;break}A=t.return}}function Ih(e){for(;A!==null;){var t=A;if(t===e){A=null;break}var n=t.sibling;if(n!==null){n.return=t.return,A=n;break}A=t.return}}function $h(e){for(;A!==null;){var t=A;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{$a(4,t)}catch(u){he(t,n,u)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var s=t.return;try{r.componentDidMount()}catch(u){he(t,s,u)}}var i=t.return;try{Tu(t)}catch(u){he(t,i,u)}break;case 5:var o=t.return;try{Tu(t)}catch(u){he(t,o,u)}}}catch(u){he(t,t.return,u)}if(t===e){A=null;break}var l=t.sibling;if(l!==null){l.return=t.return,A=l;break}A=t.return}}var c0=Math.ceil,la=on.ReactCurrentDispatcher,Gc=on.ReactCurrentOwner,gt=on.ReactCurrentBatchConfig,W=0,ke=null,ve=null,Ne=0,tt=0,Qr=Hn(0),ye=0,Ai=null,xr=0,Ma=0,Jc=0,ci=null,Qe=null,Yc=0,js=1/0,Vt=null,ua=!1,Ru=null,$n=null,bo=!1,En=null,ca=0,di=0,Lu=null,Bo=-1,Uo=0;function Be(){return W&6?pe():Bo!==-1?Bo:Bo=pe()}function Mn(e){return e.mode&1?W&2&&Ne!==0?Ne&-Ne:Ky.transition!==null?(Uo===0&&(Uo=Nm()),Uo):(e=Y,e!==0||(e=window.event,e=e===void 0?16:Im(e.type)),e):1}function Tt(e,t,n,r){if(50<di)throw di=0,Lu=null,Error(E(185));qi(e,n,r),(!(W&2)||e!==ke)&&(e===ke&&(!(W&2)&&(Ma|=n),ye===4&&vn(e,Ne)),Ze(e,r),n===1&&W===0&&!(t.mode&1)&&(js=pe()+500,Ra&&Vn()))}function Ze(e,t){var n=e.callbackNode;Kw(e,t);var r=Ko(e,e===ke?Ne:0);if(r===0)n!==null&&Vd(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&Vd(n),t===1)e.tag===0?Wy(Mh.bind(null,e)):ep(Mh.bind(null,e)),zy(function(){!(W&6)&&Vn()}),n=null;else{switch(Pm(r)){case 1:n=kc;break;case 4:n=Cm;break;case 16:n=Wo;break;case 536870912:n=Em;break;default:n=Wo}n=Xp(n,Vp.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function Vp(e,t){if(Bo=-1,Uo=0,W&6)throw Error(E(327));var n=e.callbackNode;if(es()&&e.callbackNode!==n)return null;var r=Ko(e,e===ke?Ne:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=da(e,r);else{t=r;var s=W;W|=2;var i=Kp();(ke!==e||Ne!==t)&&(Vt=null,js=pe()+500,mr(e,t));do try{f0();break}catch(l){Wp(e,l)}while(!0);$c(),la.current=i,W=s,ve!==null?t=0:(ke=null,Ne=0,t=ye)}if(t!==0){if(t===2&&(s=au(e),s!==0&&(r=s,t=Iu(e,s))),t===1)throw n=Ai,mr(e,0),vn(e,r),Ze(e,pe()),n;if(t===6)vn(e,r);else{if(s=e.current.alternate,!(r&30)&&!d0(s)&&(t=da(e,r),t===2&&(i=au(e),i!==0&&(r=i,t=Iu(e,i))),t===1))throw n=Ai,mr(e,0),vn(e,r),Ze(e,pe()),n;switch(e.finishedWork=s,e.finishedLanes=r,t){case 0:case 1:throw Error(E(345));case 2:er(e,Qe,Vt);break;case 3:if(vn(e,r),(r&130023424)===r&&(t=Yc+500-pe(),10<t)){if(Ko(e,0)!==0)break;if(s=e.suspendedLanes,(s&r)!==r){Be(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=pu(er.bind(null,e,Qe,Vt),t);break}er(e,Qe,Vt);break;case 4:if(vn(e,r),(r&4194240)===r)break;for(t=e.eventTimes,s=-1;0<r;){var o=31-Pt(r);i=1<<o,o=t[o],o>s&&(s=o),r&=~i}if(r=s,r=pe()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*c0(r/1960))-r,10<r){e.timeoutHandle=pu(er.bind(null,e,Qe,Vt),r);break}er(e,Qe,Vt);break;case 5:er(e,Qe,Vt);break;default:throw Error(E(329))}}}return Ze(e,pe()),e.callbackNode===n?Vp.bind(null,e):null}function Iu(e,t){var n=ci;return e.current.memoizedState.isDehydrated&&(mr(e,t).flags|=256),e=da(e,t),e!==2&&(t=Qe,Qe=n,t!==null&&$u(t)),e}function $u(e){Qe===null?Qe=e:Qe.push.apply(Qe,e)}function d0(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!At(i(),s))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function vn(e,t){for(t&=~Jc,t&=~Ma,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Pt(t),r=1<<n;e[n]=-1,t&=~r}}function Mh(e){if(W&6)throw Error(E(327));es();var t=Ko(e,0);if(!(t&1))return Ze(e,pe()),null;var n=da(e,t);if(e.tag!==0&&n===2){var r=au(e);r!==0&&(t=r,n=Iu(e,r))}if(n===1)throw n=Ai,mr(e,0),vn(e,t),Ze(e,pe()),n;if(n===6)throw Error(E(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,er(e,Qe,Vt),Ze(e,pe()),null}function Xc(e,t){var n=W;W|=1;try{return e(t)}finally{W=n,W===0&&(js=pe()+500,Ra&&Vn())}}function br(e){En!==null&&En.tag===0&&!(W&6)&&es();var t=W;W|=1;var n=gt.transition,r=Y;try{if(gt.transition=null,Y=1,e)return e()}finally{Y=r,gt.transition=n,W=t,!(W&6)&&Vn()}}function Zc(){tt=Qr.current,re(Qr)}function mr(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,Uy(n)),ve!==null)for(n=ve.return;n!==null;){var r=n;switch(Rc(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Xo();break;case 3:_s(),re(Ye),re(Le),zc();break;case 5:Uc(r);break;case 4:_s();break;case 13:re(ae);break;case 19:re(ae);break;case 10:Mc(r.type._context);break;case 22:case 23:Zc()}n=n.return}if(ke=e,ve=e=Dn(e.current,null),Ne=tt=t,ye=0,Ai=null,Jc=Ma=xr=0,Qe=ci=null,sr!==null){for(t=0;t<sr.length;t++)if(n=sr[t],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,i=n.pending;if(i!==null){var o=i.next;i.next=s,r.next=o}n.pending=r}sr=null}return e}function Wp(e,t){do{var n=ve;try{if($c(),Mo.current=aa,oa){for(var r=le.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}oa=!1}if(yr=0,_e=we=le=null,li=!1,Ni=0,Gc.current=null,n===null||n.return===null){ye=1,Ai=t,ve=null;break}e:{var i=e,o=n.return,l=n,u=t;if(t=Ne,l.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){var c=u,d=l,h=d.tag;if(!(d.mode&1)&&(h===0||h===11||h===15)){var v=d.alternate;v?(d.updateQueue=v.updateQueue,d.memoizedState=v.memoizedState,d.lanes=v.lanes):(d.updateQueue=null,d.memoizedState=null)}var w=jh(o);if(w!==null){w.flags&=-257,Sh(w,o,l,i,t),w.mode&1&&kh(i,c,t),t=w,u=c;var g=t.updateQueue;if(g===null){var y=new Set;y.add(u),t.updateQueue=y}else g.add(u);break e}else{if(!(t&1)){kh(i,c,t),ed();break e}u=Error(E(426))}}else if(se&&l.mode&1){var b=jh(o);if(b!==null){!(b.flags&65536)&&(b.flags|=256),Sh(b,o,l,i,t),Lc(ks(u,l));break e}}i=u=ks(u,l),ye!==4&&(ye=2),ci===null?ci=[i]:ci.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var m=Pp(i,u,t);vh(i,m);break e;case 1:l=u;var f=i.type,p=i.stateNode;if(!(i.flags&128)&&(typeof f.getDerivedStateFromError=="function"||p!==null&&typeof p.componentDidCatch=="function"&&($n===null||!$n.has(p)))){i.flags|=65536,t&=-t,i.lanes|=t;var x=Tp(i,l,t);vh(i,x);break e}}i=i.return}while(i!==null)}Gp(n)}catch(j){t=j,ve===n&&n!==null&&(ve=n=n.return);continue}break}while(!0)}function Kp(){var e=la.current;return la.current=aa,e===null?aa:e}function ed(){(ye===0||ye===3||ye===2)&&(ye=4),ke===null||!(xr&268435455)&&!(Ma&268435455)||vn(ke,Ne)}function da(e,t){var n=W;W|=2;var r=Kp();(ke!==e||Ne!==t)&&(Vt=null,mr(e,t));do try{h0();break}catch(s){Wp(e,s)}while(!0);if($c(),W=n,la.current=r,ve!==null)throw Error(E(261));return ke=null,Ne=0,ye}function h0(){for(;ve!==null;)Qp(ve)}function f0(){for(;ve!==null&&!Dw();)Qp(ve)}function Qp(e){var t=Yp(e.alternate,e,tt);e.memoizedProps=e.pendingProps,t===null?Gp(e):ve=t,Gc.current=null}function Gp(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=o0(n,t),n!==null){n.flags&=32767,ve=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{ye=6,ve=null;return}}else if(n=i0(n,t,tt),n!==null){ve=n;return}if(t=t.sibling,t!==null){ve=t;return}ve=t=e}while(t!==null);ye===0&&(ye=5)}function er(e,t,n){var r=Y,s=gt.transition;try{gt.transition=null,Y=1,m0(e,t,n,r)}finally{gt.transition=s,Y=r}return null}function m0(e,t,n,r){do es();while(En!==null);if(W&6)throw Error(E(327));n=e.finishedWork;var s=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(E(177));e.callbackNode=null,e.callbackPriority=0;var i=n.lanes|n.childLanes;if(Qw(e,i),e===ke&&(ve=ke=null,Ne=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||bo||(bo=!0,Xp(Wo,function(){return es(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=gt.transition,gt.transition=null;var o=Y;Y=1;var l=W;W|=4,Gc.current=null,l0(e,n),qp(n,e),Ly(fu),Qo=!!hu,fu=hu=null,e.current=n,u0(n),Fw(),W=l,Y=o,gt.transition=i}else e.current=n;if(bo&&(bo=!1,En=e,ca=s),i=e.pendingLanes,i===0&&($n=null),zw(n.stateNode),Ze(e,pe()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)s=t[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(ua)throw ua=!1,e=Ru,Ru=null,e;return ca&1&&e.tag!==0&&es(),i=e.pendingLanes,i&1?e===Lu?di++:(di=0,Lu=e):di=0,Vn(),null}function es(){if(En!==null){var e=Pm(ca),t=gt.transition,n=Y;try{if(gt.transition=null,Y=16>e?16:e,En===null)var r=!1;else{if(e=En,En=null,ca=0,W&6)throw Error(E(331));var s=W;for(W|=4,A=e.current;A!==null;){var i=A,o=i.child;if(A.flags&16){var l=i.deletions;if(l!==null){for(var u=0;u<l.length;u++){var c=l[u];for(A=c;A!==null;){var d=A;switch(d.tag){case 0:case 11:case 15:ui(8,d,i)}var h=d.child;if(h!==null)h.return=d,A=h;else for(;A!==null;){d=A;var v=d.sibling,w=d.return;if(Bp(d),d===c){A=null;break}if(v!==null){v.return=w,A=v;break}A=w}}}var g=i.alternate;if(g!==null){var y=g.child;if(y!==null){g.child=null;do{var b=y.sibling;y.sibling=null,y=b}while(y!==null)}}A=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,A=o;else e:for(;A!==null;){if(i=A,i.flags&2048)switch(i.tag){case 0:case 11:case 15:ui(9,i,i.return)}var m=i.sibling;if(m!==null){m.return=i.return,A=m;break e}A=i.return}}var f=e.current;for(A=f;A!==null;){o=A;var p=o.child;if(o.subtreeFlags&2064&&p!==null)p.return=o,A=p;else e:for(o=f;A!==null;){if(l=A,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:$a(9,l)}}catch(j){he(l,l.return,j)}if(l===o){A=null;break e}var x=l.sibling;if(x!==null){x.return=l.return,A=x;break e}A=l.return}}if(W=s,Vn(),Bt&&typeof Bt.onPostCommitFiberRoot=="function")try{Bt.onPostCommitFiberRoot(Na,e)}catch{}r=!0}return r}finally{Y=n,gt.transition=t}}return!1}function Dh(e,t,n){t=ks(n,t),t=Pp(e,t,1),e=In(e,t,1),t=Be(),e!==null&&(qi(e,1,t),Ze(e,t))}function he(e,t,n){if(e.tag===3)Dh(e,e,n);else for(;t!==null;){if(t.tag===3){Dh(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&($n===null||!$n.has(r))){e=ks(n,e),e=Tp(t,e,1),t=In(t,e,1),e=Be(),t!==null&&(qi(t,1,e),Ze(t,e));break}}t=t.return}}function p0(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=Be(),e.pingedLanes|=e.suspendedLanes&n,ke===e&&(Ne&n)===n&&(ye===4||ye===3&&(Ne&130023424)===Ne&&500>pe()-Yc?mr(e,0):Jc|=n),Ze(e,t)}function Jp(e,t){t===0&&(e.mode&1?(t=co,co<<=1,!(co&130023424)&&(co=4194304)):t=1);var n=Be();e=rn(e,t),e!==null&&(qi(e,t,n),Ze(e,n))}function g0(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),Jp(e,n)}function v0(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,s=e.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(E(314))}r!==null&&r.delete(t),Jp(e,n)}var Yp;Yp=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||Ye.current)Je=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return Je=!1,s0(e,t,n);Je=!!(e.flags&131072)}else Je=!1,se&&t.flags&1048576&&tp(t,ta,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Fo(e,t),e=t.pendingProps;var s=ys(t,Le.current);Zr(t,n),s=Hc(null,t,r,e,s,n);var i=Vc();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Xe(r)?(i=!0,Zo(t)):i=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,Fc(t),s.updater=Ia,t.stateNode=s,s._reactInternals=t,_u(t,r,e,n),t=Su(null,t,r,!0,i,n)):(t.tag=0,se&&i&&Oc(t),Fe(null,t,s,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Fo(e,t),e=t.pendingProps,s=r._init,r=s(r._payload),t.type=r,s=t.tag=y0(r),e=kt(r,e),s){case 0:t=ju(null,t,r,e,n);break e;case 1:t=Nh(null,t,r,e,n);break e;case 11:t=Ch(null,t,r,e,n);break e;case 14:t=Eh(null,t,r,kt(r.type,e),n);break e}throw Error(E(306,r,""))}return t;case 0:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:kt(r,s),ju(e,t,r,s,n);case 1:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:kt(r,s),Nh(e,t,r,s,n);case 3:e:{if(Lp(t),e===null)throw Error(E(387));r=t.pendingProps,i=t.memoizedState,s=i.element,ap(e,t),sa(t,r,null,n);var o=t.memoizedState;if(r=o.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){s=ks(Error(E(423)),t),t=Ph(e,t,r,n,s);break e}else if(r!==s){s=ks(Error(E(424)),t),t=Ph(e,t,r,n,s);break e}else for(nt=Ln(t.stateNode.containerInfo.firstChild),rt=t,se=!0,Nt=null,n=ip(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(xs(),r===s){t=sn(e,t,n);break e}Fe(e,t,r,n)}t=t.child}return t;case 5:return lp(t),e===null&&yu(t),r=t.type,s=t.pendingProps,i=e!==null?e.memoizedProps:null,o=s.children,mu(r,s)?o=null:i!==null&&mu(r,i)&&(t.flags|=32),Rp(e,t),Fe(e,t,o,n),t.child;case 6:return e===null&&yu(t),null;case 13:return Ip(e,t,n);case 4:return Bc(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=bs(t,null,r,n):Fe(e,t,r,n),t.child;case 11:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:kt(r,s),Ch(e,t,r,s,n);case 7:return Fe(e,t,t.pendingProps,n),t.child;case 8:return Fe(e,t,t.pendingProps.children,n),t.child;case 12:return Fe(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,s=t.pendingProps,i=t.memoizedProps,o=s.value,Z(na,r._currentValue),r._currentValue=o,i!==null)if(At(i.value,o)){if(i.children===s.children&&!Ye.current){t=sn(e,t,n);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var l=i.dependencies;if(l!==null){o=i.child;for(var u=l.firstContext;u!==null;){if(u.context===r){if(i.tag===1){u=Xt(-1,n&-n),u.tag=2;var c=i.updateQueue;if(c!==null){c=c.shared;var d=c.pending;d===null?u.next=u:(u.next=d.next,d.next=u),c.pending=u}}i.lanes|=n,u=i.alternate,u!==null&&(u.lanes|=n),xu(i.return,n,t),l.lanes|=n;break}u=u.next}}else if(i.tag===10)o=i.type===t.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(E(341));o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),xu(o,n,t),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===t){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}Fe(e,t,s.children,n),t=t.child}return t;case 9:return s=t.type,r=t.pendingProps.children,Zr(t,n),s=wt(s),r=r(s),t.flags|=1,Fe(e,t,r,n),t.child;case 14:return r=t.type,s=kt(r,t.pendingProps),s=kt(r.type,s),Eh(e,t,r,s,n);case 15:return Ap(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:kt(r,s),Fo(e,t),t.tag=1,Xe(r)?(e=!0,Zo(t)):e=!1,Zr(t,n),Np(t,r,s),_u(t,r,s,n),Su(null,t,r,!0,e,n);case 19:return $p(e,t,n);case 22:return Op(e,t,n)}throw Error(E(156,t.tag))};function Xp(e,t){return Sm(e,t)}function w0(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function pt(e,t,n,r){return new w0(e,t,n,r)}function td(e){return e=e.prototype,!(!e||!e.isReactComponent)}function y0(e){if(typeof e=="function")return td(e)?1:0;if(e!=null){if(e=e.$$typeof,e===xc)return 11;if(e===bc)return 14}return 2}function Dn(e,t){var n=e.alternate;return n===null?(n=pt(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function zo(e,t,n,r,s,i){var o=2;if(r=e,typeof e=="function")td(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case Dr:return pr(n.children,s,i,t);case yc:o=8,s|=8;break;case Wl:return e=pt(12,n,t,s|2),e.elementType=Wl,e.lanes=i,e;case Kl:return e=pt(13,n,t,s),e.elementType=Kl,e.lanes=i,e;case Ql:return e=pt(19,n,t,s),e.elementType=Ql,e.lanes=i,e;case lm:return Da(n,s,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case om:o=10;break e;case am:o=9;break e;case xc:o=11;break e;case bc:o=14;break e;case fn:o=16,r=null;break e}throw Error(E(130,e==null?e:typeof e,""))}return t=pt(o,n,t,s),t.elementType=e,t.type=r,t.lanes=i,t}function pr(e,t,n,r){return e=pt(7,e,r,t),e.lanes=n,e}function Da(e,t,n,r){return e=pt(22,e,r,t),e.elementType=lm,e.lanes=n,e.stateNode={isHidden:!1},e}function Al(e,t,n){return e=pt(6,e,null,t),e.lanes=n,e}function Ol(e,t,n){return t=pt(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function x0(e,t,n,r,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=hl(0),this.expirationTimes=hl(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=hl(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function nd(e,t,n,r,s,i,o,l,u){return e=new x0(e,t,n,l,u),t===1?(t=1,i===!0&&(t|=8)):t=0,i=pt(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Fc(i),e}function b0(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Mr,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function Zp(e){if(!e)return zn;e=e._reactInternals;e:{if(Sr(e)!==e||e.tag!==1)throw Error(E(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Xe(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(E(171))}if(e.tag===1){var n=e.type;if(Xe(n))return Zm(e,n,t)}return t}function eg(e,t,n,r,s,i,o,l,u){return e=nd(n,r,!0,e,s,i,o,l,u),e.context=Zp(null),n=e.current,r=Be(),s=Mn(n),i=Xt(r,s),i.callback=t??null,In(n,i,s),e.current.lanes=s,qi(e,s,r),Ze(e,r),e}function Fa(e,t,n,r){var s=t.current,i=Be(),o=Mn(s);return n=Zp(n),t.context===null?t.context=n:t.pendingContext=n,t=Xt(i,o),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=In(s,t,o),e!==null&&(Tt(e,s,o,i),$o(e,s,o)),o}function ha(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Fh(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function rd(e,t){Fh(e,t),(e=e.alternate)&&Fh(e,t)}function _0(){return null}var tg=typeof reportError=="function"?reportError:function(e){console.error(e)};function sd(e){this._internalRoot=e}Ba.prototype.render=sd.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(E(409));Fa(e,t,null,null)};Ba.prototype.unmount=sd.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;br(function(){Fa(null,e,null,null)}),t[nn]=null}};function Ba(e){this._internalRoot=e}Ba.prototype.unstable_scheduleHydration=function(e){if(e){var t=Om();e={blockedOn:null,target:e,priority:t};for(var n=0;n<gn.length&&t!==0&&t<gn[n].priority;n++);gn.splice(n,0,e),n===0&&Lm(e)}};function id(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Ua(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Bh(){}function k0(e,t,n,r,s){if(s){if(typeof r=="function"){var i=r;r=function(){var c=ha(o);i.call(c)}}var o=eg(t,r,e,0,null,!1,!1,"",Bh);return e._reactRootContainer=o,e[nn]=o.current,ki(e.nodeType===8?e.parentNode:e),br(),o}for(;s=e.lastChild;)e.removeChild(s);if(typeof r=="function"){var l=r;r=function(){var c=ha(u);l.call(c)}}var u=nd(e,0,!1,null,null,!1,!1,"",Bh);return e._reactRootContainer=u,e[nn]=u.current,ki(e.nodeType===8?e.parentNode:e),br(function(){Fa(t,u,n,r)}),u}function za(e,t,n,r,s){var i=n._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var l=s;s=function(){var u=ha(o);l.call(u)}}Fa(t,o,e,s)}else o=k0(n,t,e,s,r);return ha(o)}Tm=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=Zs(t.pendingLanes);n!==0&&(jc(t,n|1),Ze(t,pe()),!(W&6)&&(js=pe()+500,Vn()))}break;case 13:br(function(){var r=rn(e,1);if(r!==null){var s=Be();Tt(r,e,1,s)}}),rd(e,1)}};Sc=function(e){if(e.tag===13){var t=rn(e,134217728);if(t!==null){var n=Be();Tt(t,e,134217728,n)}rd(e,134217728)}};Am=function(e){if(e.tag===13){var t=Mn(e),n=rn(e,t);if(n!==null){var r=Be();Tt(n,e,t,r)}rd(e,t)}};Om=function(){return Y};Rm=function(e,t){var n=Y;try{return Y=e,t()}finally{Y=n}};su=function(e,t,n){switch(t){case"input":if(Yl(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var s=Oa(r);if(!s)throw Error(E(90));cm(r),Yl(r,s)}}}break;case"textarea":hm(e,n);break;case"select":t=n.value,t!=null&&Gr(e,!!n.multiple,t,!1)}};ym=Xc;xm=br;var j0={usingClientEntryPoint:!1,Events:[Vi,zr,Oa,vm,wm,Xc]},Qs={findFiberByHostInstance:rr,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},S0={bundleType:Qs.bundleType,version:Qs.version,rendererPackageName:Qs.rendererPackageName,rendererConfig:Qs.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:on.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=km(e),e===null?null:e.stateNode},findFiberByHostInstance:Qs.findFiberByHostInstance||_0,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var _o=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!_o.isDisabled&&_o.supportsFiber)try{Na=_o.inject(S0),Bt=_o}catch{}}ot.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=j0;ot.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!id(t))throw Error(E(200));return b0(e,t,null,n)};ot.createRoot=function(e,t){if(!id(e))throw Error(E(299));var n=!1,r="",s=tg;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=nd(e,1,!1,null,null,n,!1,r,s),e[nn]=t.current,ki(e.nodeType===8?e.parentNode:e),new sd(t)};ot.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(E(188)):(e=Object.keys(e).join(","),Error(E(268,e)));return e=km(t),e=e===null?null:e.stateNode,e};ot.flushSync=function(e){return br(e)};ot.hydrate=function(e,t,n){if(!Ua(t))throw Error(E(200));return za(null,e,t,!0,n)};ot.hydrateRoot=function(e,t,n){if(!id(e))throw Error(E(405));var r=n!=null&&n.hydratedSources||null,s=!1,i="",o=tg;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),t=eg(t,null,e,1,n??null,s,!1,i,o),e[nn]=t.current,ki(e),r)for(e=0;e<r.length;e++)n=r[e],s=n._getVersion,s=s(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,s]:t.mutableSourceEagerHydrationData.push(n,s);return new Ba(t)};ot.render=function(e,t,n){if(!Ua(t))throw Error(E(200));return za(null,e,t,!1,n)};ot.unmountComponentAtNode=function(e){if(!Ua(e))throw Error(E(40));return e._reactRootContainer?(br(function(){za(null,null,e,!1,function(){e._reactRootContainer=null,e[nn]=null})}),!0):!1};ot.unstable_batchedUpdates=Xc;ot.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Ua(n))throw Error(E(200));if(e==null||e._reactInternals===void 0)throw Error(E(38));return za(e,t,n,!1,r)};ot.version="18.3.1-next-f1338f8080-20240426";function ng(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(ng)}catch(e){console.error(e)}}ng(),nm.exports=ot;var C0=nm.exports,Uh=C0;Hl.createRoot=Uh.createRoot,Hl.hydrateRoot=Uh.hydrateRoot;const E0="modulepreload",N0=function(e){return"/"+e},zh={},Ki=function(t,n,r){let s=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),l=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));s=Promise.allSettled(n.map(u=>{if(u=N0(u),u in zh)return;zh[u]=!0;const c=u.endsWith(".css"),d=c?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${u}"]${d}`))return;const h=document.createElement("link");if(h.rel=c?"stylesheet":E0,c||(h.as="script"),h.crossOrigin="",h.href=u,l&&h.setAttribute("nonce",l),document.head.appendChild(h),c)return new Promise((v,w)=>{h.addEventListener("load",v),h.addEventListener("error",()=>w(new Error(`Unable to preload CSS for ${u}`)))})}))}function i(o){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=o,window.dispatchEvent(l),!l.defaultPrevented)throw o}return s.then(o=>{for(const l of o||[])l.status==="rejected"&&i(l.reason);return t().catch(i)})},P0=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>Ki(async()=>{const{default:r}=await Promise.resolve().then(()=>Os);return{default:r}},void 0).then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)};class od extends Error{constructor(t,n="FunctionsError",r){super(t),this.name=n,this.context=r}}class T0 extends od{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class A0 extends od{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class O0 extends od{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var Mu;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(Mu||(Mu={}));var R0=function(e,t,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function l(d){try{c(r.next(d))}catch(h){o(h)}}function u(d){try{c(r.throw(d))}catch(h){o(h)}}function c(d){d.done?i(d.value):s(d.value).then(l,u)}c((r=r.apply(e,t||[])).next())})};class L0{constructor(t,{headers:n={},customFetch:r,region:s=Mu.Any}={}){this.url=t,this.headers=n,this.region=s,this.fetch=P0(r)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t,n={}){var r;return R0(this,void 0,void 0,function*(){try{const{headers:s,method:i,body:o}=n;let l={},{region:u}=n;u||(u=this.region),u&&u!=="any"&&(l["x-region"]=u);let c;o&&(s&&!Object.prototype.hasOwnProperty.call(s,"Content-Type")||!s)&&(typeof Blob<"u"&&o instanceof Blob||o instanceof ArrayBuffer?(l["Content-Type"]="application/octet-stream",c=o):typeof o=="string"?(l["Content-Type"]="text/plain",c=o):typeof FormData<"u"&&o instanceof FormData?c=o:(l["Content-Type"]="application/json",c=JSON.stringify(o)));const d=yield this.fetch(`${this.url}/${t}`,{method:i||"POST",headers:Object.assign(Object.assign(Object.assign({},l),this.headers),s),body:c}).catch(g=>{throw new T0(g)}),h=d.headers.get("x-relay-error");if(h&&h==="true")throw new A0(d);if(!d.ok)throw new O0(d);let v=((r=d.headers.get("Content-Type"))!==null&&r!==void 0?r:"text/plain").split(";")[0].trim(),w;return v==="application/json"?w=yield d.json():v==="application/octet-stream"?w=yield d.blob():v==="text/event-stream"?w=d:v==="multipart/form-data"?w=yield d.formData():w=yield d.text(),{data:w,error:null}}catch(s){return{data:null,error:s}}})}}var Ge={},ad={},qa={},Qi={},Ha={},Va={},I0=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},Ss=I0();const $0=Ss.fetch,rg=Ss.fetch.bind(Ss),sg=Ss.Headers,M0=Ss.Request,D0=Ss.Response,Os=Object.freeze(Object.defineProperty({__proto__:null,Headers:sg,Request:M0,Response:D0,default:rg,fetch:$0},Symbol.toStringTag,{value:"Module"})),F0=Zv(Os);var Wa={};Object.defineProperty(Wa,"__esModule",{value:!0});let B0=class extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}};Wa.default=B0;var ig=vt&&vt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Va,"__esModule",{value:!0});const U0=ig(F0),z0=ig(Wa);let q0=class{constructor(t){this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=t.headers,this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=t.shouldThrowOnError,this.signal=t.signal,this.isMaybeSingle=t.isMaybeSingle,t.fetch?this.fetch=t.fetch:typeof fetch>"u"?this.fetch=U0.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,n){return this.headers=Object.assign({},this.headers),this.headers[t]=n,this}then(t,n){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const r=this.fetch;let s=r(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async i=>{var o,l,u;let c=null,d=null,h=null,v=i.status,w=i.statusText;if(i.ok){if(this.method!=="HEAD"){const m=await i.text();m===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?d=m:d=JSON.parse(m))}const y=(o=this.headers.Prefer)===null||o===void 0?void 0:o.match(/count=(exact|planned|estimated)/),b=(l=i.headers.get("content-range"))===null||l===void 0?void 0:l.split("/");y&&b&&b.length>1&&(h=parseInt(b[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(d)&&(d.length>1?(c={code:"PGRST116",details:`Results contain ${d.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},d=null,h=null,v=406,w="Not Acceptable"):d.length===1?d=d[0]:d=null)}else{const y=await i.text();try{c=JSON.parse(y),Array.isArray(c)&&i.status===404&&(d=[],c=null,v=200,w="OK")}catch{i.status===404&&y===""?(v=204,w="No Content"):c={message:y}}if(c&&this.isMaybeSingle&&(!((u=c==null?void 0:c.details)===null||u===void 0)&&u.includes("0 rows"))&&(c=null,v=200,w="OK"),c&&this.shouldThrowOnError)throw new z0.default(c)}return{error:c,data:d,count:h,status:v,statusText:w}});return this.shouldThrowOnError||(s=s.catch(i=>{var o,l,u;return{error:{message:`${(o=i==null?void 0:i.name)!==null&&o!==void 0?o:"FetchError"}: ${i==null?void 0:i.message}`,details:`${(l=i==null?void 0:i.stack)!==null&&l!==void 0?l:""}`,hint:"",code:`${(u=i==null?void 0:i.code)!==null&&u!==void 0?u:""}`},data:null,count:null,status:0,statusText:""}})),s.then(t,n)}returns(){return this}overrideTypes(){return this}};Va.default=q0;var H0=vt&&vt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Ha,"__esModule",{value:!0});const V0=H0(Va);let W0=class extends V0.default{select(t){let n=!1;const r=(t??"*").split("").map(s=>/\s/.test(s)&&!n?"":(s==='"'&&(n=!n),s)).join("");return this.url.searchParams.set("select",r),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(t,{ascending:n=!0,nullsFirst:r,foreignTable:s,referencedTable:i=s}={}){const o=i?`${i}.order`:"order",l=this.url.searchParams.get(o);return this.url.searchParams.set(o,`${l?`${l},`:""}${t}.${n?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:n,referencedTable:r=n}={}){const s=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(s,`${t}`),this}range(t,n,{foreignTable:r,referencedTable:s=r}={}){const i=typeof s>"u"?"offset":`${s}.offset`,o=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(i,`${t}`),this.url.searchParams.set(o,`${n-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:t=!1,verbose:n=!1,settings:r=!1,buffers:s=!1,wal:i=!1,format:o="text"}={}){var l;const u=[t?"analyze":null,n?"verbose":null,r?"settings":null,s?"buffers":null,i?"wal":null].filter(Boolean).join("|"),c=(l=this.headers.Accept)!==null&&l!==void 0?l:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${o}; for="${c}"; options=${u};`,o==="json"?this:this}rollback(){var t;return((t=this.headers.Prefer)!==null&&t!==void 0?t:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}};Ha.default=W0;var K0=vt&&vt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Qi,"__esModule",{value:!0});const Q0=K0(Ha);let G0=class extends Q0.default{eq(t,n){return this.url.searchParams.append(t,`eq.${n}`),this}neq(t,n){return this.url.searchParams.append(t,`neq.${n}`),this}gt(t,n){return this.url.searchParams.append(t,`gt.${n}`),this}gte(t,n){return this.url.searchParams.append(t,`gte.${n}`),this}lt(t,n){return this.url.searchParams.append(t,`lt.${n}`),this}lte(t,n){return this.url.searchParams.append(t,`lte.${n}`),this}like(t,n){return this.url.searchParams.append(t,`like.${n}`),this}likeAllOf(t,n){return this.url.searchParams.append(t,`like(all).{${n.join(",")}}`),this}likeAnyOf(t,n){return this.url.searchParams.append(t,`like(any).{${n.join(",")}}`),this}ilike(t,n){return this.url.searchParams.append(t,`ilike.${n}`),this}ilikeAllOf(t,n){return this.url.searchParams.append(t,`ilike(all).{${n.join(",")}}`),this}ilikeAnyOf(t,n){return this.url.searchParams.append(t,`ilike(any).{${n.join(",")}}`),this}is(t,n){return this.url.searchParams.append(t,`is.${n}`),this}in(t,n){const r=Array.from(new Set(n)).map(s=>typeof s=="string"&&new RegExp("[,()]").test(s)?`"${s}"`:`${s}`).join(",");return this.url.searchParams.append(t,`in.(${r})`),this}contains(t,n){return typeof n=="string"?this.url.searchParams.append(t,`cs.${n}`):Array.isArray(n)?this.url.searchParams.append(t,`cs.{${n.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(n)}`),this}containedBy(t,n){return typeof n=="string"?this.url.searchParams.append(t,`cd.${n}`):Array.isArray(n)?this.url.searchParams.append(t,`cd.{${n.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(n)}`),this}rangeGt(t,n){return this.url.searchParams.append(t,`sr.${n}`),this}rangeGte(t,n){return this.url.searchParams.append(t,`nxl.${n}`),this}rangeLt(t,n){return this.url.searchParams.append(t,`sl.${n}`),this}rangeLte(t,n){return this.url.searchParams.append(t,`nxr.${n}`),this}rangeAdjacent(t,n){return this.url.searchParams.append(t,`adj.${n}`),this}overlaps(t,n){return typeof n=="string"?this.url.searchParams.append(t,`ov.${n}`):this.url.searchParams.append(t,`ov.{${n.join(",")}}`),this}textSearch(t,n,{config:r,type:s}={}){let i="";s==="plain"?i="pl":s==="phrase"?i="ph":s==="websearch"&&(i="w");const o=r===void 0?"":`(${r})`;return this.url.searchParams.append(t,`${i}fts${o}.${n}`),this}match(t){return Object.entries(t).forEach(([n,r])=>{this.url.searchParams.append(n,`eq.${r}`)}),this}not(t,n,r){return this.url.searchParams.append(t,`not.${n}.${r}`),this}or(t,{foreignTable:n,referencedTable:r=n}={}){const s=r?`${r}.or`:"or";return this.url.searchParams.append(s,`(${t})`),this}filter(t,n,r){return this.url.searchParams.append(t,`${n}.${r}`),this}};Qi.default=G0;var J0=vt&&vt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(qa,"__esModule",{value:!0});const Gs=J0(Qi);let Y0=class{constructor(t,{headers:n={},schema:r,fetch:s}){this.url=t,this.headers=n,this.schema=r,this.fetch=s}select(t,{head:n=!1,count:r}={}){const s=n?"HEAD":"GET";let i=!1;const o=(t??"*").split("").map(l=>/\s/.test(l)&&!i?"":(l==='"'&&(i=!i),l)).join("");return this.url.searchParams.set("select",o),r&&(this.headers.Prefer=`count=${r}`),new Gs.default({method:s,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(t,{count:n,defaultToNull:r=!0}={}){const s="POST",i=[];if(this.headers.Prefer&&i.push(this.headers.Prefer),n&&i.push(`count=${n}`),r||i.push("missing=default"),this.headers.Prefer=i.join(","),Array.isArray(t)){const o=t.reduce((l,u)=>l.concat(Object.keys(u)),[]);if(o.length>0){const l=[...new Set(o)].map(u=>`"${u}"`);this.url.searchParams.set("columns",l.join(","))}}return new Gs.default({method:s,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}upsert(t,{onConflict:n,ignoreDuplicates:r=!1,count:s,defaultToNull:i=!0}={}){const o="POST",l=[`resolution=${r?"ignore":"merge"}-duplicates`];if(n!==void 0&&this.url.searchParams.set("on_conflict",n),this.headers.Prefer&&l.push(this.headers.Prefer),s&&l.push(`count=${s}`),i||l.push("missing=default"),this.headers.Prefer=l.join(","),Array.isArray(t)){const u=t.reduce((c,d)=>c.concat(Object.keys(d)),[]);if(u.length>0){const c=[...new Set(u)].map(d=>`"${d}"`);this.url.searchParams.set("columns",c.join(","))}}return new Gs.default({method:o,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}update(t,{count:n}={}){const r="PATCH",s=[];return this.headers.Prefer&&s.push(this.headers.Prefer),n&&s.push(`count=${n}`),this.headers.Prefer=s.join(","),new Gs.default({method:r,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}delete({count:t}={}){const n="DELETE",r=[];return t&&r.push(`count=${t}`),this.headers.Prefer&&r.unshift(this.headers.Prefer),this.headers.Prefer=r.join(","),new Gs.default({method:n,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}};qa.default=Y0;var Ka={},Qa={};Object.defineProperty(Qa,"__esModule",{value:!0});Qa.version=void 0;Qa.version="0.0.0-automated";Object.defineProperty(Ka,"__esModule",{value:!0});Ka.DEFAULT_HEADERS=void 0;const X0=Qa;Ka.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${X0.version}`};var og=vt&&vt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(ad,"__esModule",{value:!0});const Z0=og(qa),ex=og(Qi),tx=Ka;let nx=class ag{constructor(t,{headers:n={},schema:r,fetch:s}={}){this.url=t,this.headers=Object.assign(Object.assign({},tx.DEFAULT_HEADERS),n),this.schemaName=r,this.fetch=s}from(t){const n=new URL(`${this.url}/${t}`);return new Z0.default(n,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new ag(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,n={},{head:r=!1,get:s=!1,count:i}={}){let o;const l=new URL(`${this.url}/rpc/${t}`);let u;r||s?(o=r?"HEAD":"GET",Object.entries(n).filter(([d,h])=>h!==void 0).map(([d,h])=>[d,Array.isArray(h)?`{${h.join(",")}}`:`${h}`]).forEach(([d,h])=>{l.searchParams.append(d,h)})):(o="POST",u=n);const c=Object.assign({},this.headers);return i&&(c.Prefer=`count=${i}`),new ex.default({method:o,url:l,headers:c,schema:this.schemaName,body:u,fetch:this.fetch,allowEmpty:!1})}};ad.default=nx;var Rs=vt&&vt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Ge,"__esModule",{value:!0});Ge.PostgrestError=Ge.PostgrestBuilder=Ge.PostgrestTransformBuilder=Ge.PostgrestFilterBuilder=Ge.PostgrestQueryBuilder=Ge.PostgrestClient=void 0;const lg=Rs(ad);Ge.PostgrestClient=lg.default;const ug=Rs(qa);Ge.PostgrestQueryBuilder=ug.default;const cg=Rs(Qi);Ge.PostgrestFilterBuilder=cg.default;const dg=Rs(Ha);Ge.PostgrestTransformBuilder=dg.default;const hg=Rs(Va);Ge.PostgrestBuilder=hg.default;const fg=Rs(Wa);Ge.PostgrestError=fg.default;var rx=Ge.default={PostgrestClient:lg.default,PostgrestQueryBuilder:ug.default,PostgrestFilterBuilder:cg.default,PostgrestTransformBuilder:dg.default,PostgrestBuilder:hg.default,PostgrestError:fg.default};const{PostgrestClient:sx,PostgrestQueryBuilder:vS,PostgrestFilterBuilder:wS,PostgrestTransformBuilder:yS,PostgrestBuilder:xS,PostgrestError:bS}=rx;let Du;typeof window>"u"?Du=require("ws"):Du=window.WebSocket;const ix="2.11.10",ox={"X-Client-Info":`realtime-js/${ix}`},ax="1.0.0",mg=1e4,lx=1e3;var ts;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(ts||(ts={}));var $e;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})($e||($e={}));var Et;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(Et||(Et={}));var Fu;(function(e){e.websocket="websocket"})(Fu||(Fu={}));var nr;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(nr||(nr={}));class ux{constructor(){this.HEADER_LENGTH=1}decode(t,n){return t.constructor===ArrayBuffer?n(this._binaryDecode(t)):n(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const n=new DataView(t),r=new TextDecoder;return this._decodeBroadcast(t,n,r)}_decodeBroadcast(t,n,r){const s=n.getUint8(1),i=n.getUint8(2);let o=this.HEADER_LENGTH+2;const l=r.decode(t.slice(o,o+s));o=o+s;const u=r.decode(t.slice(o,o+i));o=o+i;const c=JSON.parse(r.decode(t.slice(o,t.byteLength)));return{ref:null,topic:l,event:u,payload:c}}}let pg=class{constructor(t,n){this.callback=t,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}};var X;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(X||(X={}));const qh=(e,t,n={})=>{var r;const s=(r=n.skipTypes)!==null&&r!==void 0?r:[];return Object.keys(t).reduce((i,o)=>(i[o]=cx(o,e,t,s),i),{})},cx=(e,t,n,r)=>{const s=t.find(l=>l.name===e),i=s==null?void 0:s.type,o=n[e];return i&&!r.includes(i)?gg(i,o):Bu(o)},gg=(e,t)=>{if(e.charAt(0)==="_"){const n=e.slice(1,e.length);return mx(t,n)}switch(e){case X.bool:return dx(t);case X.float4:case X.float8:case X.int2:case X.int4:case X.int8:case X.numeric:case X.oid:return hx(t);case X.json:case X.jsonb:return fx(t);case X.timestamp:return px(t);case X.abstime:case X.date:case X.daterange:case X.int4range:case X.int8range:case X.money:case X.reltime:case X.text:case X.time:case X.timestamptz:case X.timetz:case X.tsrange:case X.tstzrange:return Bu(t);default:return Bu(t)}},Bu=e=>e,dx=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},hx=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},fx=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},mx=(e,t)=>{if(typeof e!="string")return e;const n=e.length-1,r=e[n];if(e[0]==="{"&&r==="}"){let i;const o=e.slice(1,n);try{i=JSON.parse("["+o+"]")}catch{i=o?o.split(","):[]}return i.map(l=>gg(t,l))}return e},px=e=>typeof e=="string"?e.replace(" ","T"):e,vg=e=>{let t=e;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")};class Rl{constructor(t,n,r={},s=mg){this.channel=t,this.event=n,this.payload=r,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,n){var r;return this._hasReceived(t)&&n((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:t,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:n}){this.recHooks.filter(r=>r.status===t).forEach(r=>r.callback(n))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var Hh;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(Hh||(Hh={}));class hi{constructor(t,n){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},s=>{const{onJoin:i,onLeave:o,onSync:l}=this.caller;this.joinRef=this.channel._joinRef(),this.state=hi.syncState(this.state,s,i,o),this.pendingDiffs.forEach(u=>{this.state=hi.syncDiff(this.state,u,i,o)}),this.pendingDiffs=[],l()}),this.channel._on(r.diff,{},s=>{const{onJoin:i,onLeave:o,onSync:l}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=hi.syncDiff(this.state,s,i,o),l())}),this.onJoin((s,i,o)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:i,newPresences:o})}),this.onLeave((s,i,o)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:i,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,n,r,s){const i=this.cloneDeep(t),o=this.transformState(n),l={},u={};return this.map(i,(c,d)=>{o[c]||(u[c]=d)}),this.map(o,(c,d)=>{const h=i[c];if(h){const v=d.map(b=>b.presence_ref),w=h.map(b=>b.presence_ref),g=d.filter(b=>w.indexOf(b.presence_ref)<0),y=h.filter(b=>v.indexOf(b.presence_ref)<0);g.length>0&&(l[c]=g),y.length>0&&(u[c]=y)}else l[c]=d}),this.syncDiff(i,{joins:l,leaves:u},r,s)}static syncDiff(t,n,r,s){const{joins:i,leaves:o}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return r||(r=()=>{}),s||(s=()=>{}),this.map(i,(l,u)=>{var c;const d=(c=t[l])!==null&&c!==void 0?c:[];if(t[l]=this.cloneDeep(u),d.length>0){const h=t[l].map(w=>w.presence_ref),v=d.filter(w=>h.indexOf(w.presence_ref)<0);t[l].unshift(...v)}r(l,d,u)}),this.map(o,(l,u)=>{let c=t[l];if(!c)return;const d=u.map(h=>h.presence_ref);c=c.filter(h=>d.indexOf(h.presence_ref)<0),t[l]=c,s(l,c,u),c.length===0&&delete t[l]}),t}static map(t,n){return Object.getOwnPropertyNames(t).map(r=>n(r,t[r]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((n,r)=>{const s=t[r];return"metas"in s?n[r]=s.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):n[r]=s,n},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Vh;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(Vh||(Vh={}));var Wh;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(Wh||(Wh={}));var Wt;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(Wt||(Wt={}));class ld{constructor(t,n={config:{}},r){this.topic=t,this.params=n,this.socket=r,this.bindings={},this.state=$e.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new Rl(this,Et.join,this.params,this.timeout),this.rejoinTimer=new pg(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=$e.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(s=>s.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=$e.closed,this.socket._remove(this)}),this._onError(s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=$e.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=$e.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Et.reply,{},(s,i)=>{this._trigger(this._replyEventName(i),s)}),this.presence=new hi(this),this.broadcastEndpointURL=vg(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(t,n=this.timeout){var r,s;if(this.socket.isConnected()||this.socket.connect(),this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";{const{config:{broadcast:i,presence:o,private:l}}=this.params;this._onError(d=>t==null?void 0:t(Wt.CHANNEL_ERROR,d)),this._onClose(()=>t==null?void 0:t(Wt.CLOSED));const u={},c={broadcast:i,presence:o,postgres_changes:(s=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(d=>d.filter))!==null&&s!==void 0?s:[],private:l};this.socket.accessTokenValue&&(u.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:c},u)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:d})=>{var h;if(this.socket.setAuth(),d===void 0){t==null||t(Wt.SUBSCRIBED);return}else{const v=this.bindings.postgres_changes,w=(h=v==null?void 0:v.length)!==null&&h!==void 0?h:0,g=[];for(let y=0;y<w;y++){const b=v[y],{filter:{event:m,schema:f,table:p,filter:x}}=b,j=d&&d[y];if(j&&j.event===m&&j.schema===f&&j.table===p&&j.filter===x)g.push(Object.assign(Object.assign({},b),{id:j.id}));else{this.unsubscribe(),this.state=$e.errored,t==null||t(Wt.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=g,t&&t(Wt.SUBSCRIBED);return}}).receive("error",d=>{this.state=$e.errored,t==null||t(Wt.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(d).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(Wt.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,n={}){return await this.send({type:"presence",event:"track",payload:t},n.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,n,r){return this._on(t,n,r)}async send(t,n={}){var r,s;if(!this._canPush()&&t.type==="broadcast"){const{event:i,payload:o}=t,u={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:o,private:this.private}]})};try{const c=await this._fetchWithTimeout(this.broadcastEndpointURL,u,(r=n.timeout)!==null&&r!==void 0?r:this.timeout);return await((s=c.body)===null||s===void 0?void 0:s.cancel()),c.ok?"ok":"error"}catch(c){return c.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var o,l,u;const c=this._push(t.type,t,n.timeout||this.timeout);t.type==="broadcast"&&!(!((u=(l=(o=this.params)===null||o===void 0?void 0:o.config)===null||l===void 0?void 0:l.broadcast)===null||u===void 0)&&u.ack)&&i("ok"),c.receive("ok",()=>i("ok")),c.receive("error",()=>i("error")),c.receive("timeout",()=>i("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=$e.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Et.close,"leave",this._joinRef())};return this.joinPush.destroy(),new Promise(r=>{const s=new Rl(this,Et.leave,{},t);s.receive("ok",()=>{n(),r("ok")}).receive("timeout",()=>{n(),r("timed out")}).receive("error",()=>{r("error")}),s.send(),this._canPush()||s.trigger("ok",{})})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.rejoinTimer&&clearTimeout(this.rejoinTimer.timer),this.joinPush.destroy()}async _fetchWithTimeout(t,n,r){const s=new AbortController,i=setTimeout(()=>s.abort(),r),o=await this.socket.fetch(t,Object.assign(Object.assign({},n),{signal:s.signal}));return clearTimeout(i),o}_push(t,n,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new Rl(this,t,n,r);return this._canPush()?s.send():(s.startTimeout(),this.pushBuffer.push(s)),s}_onMessage(t,n,r){return n}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,n,r){var s,i;const o=t.toLocaleLowerCase(),{close:l,error:u,leave:c,join:d}=Et;if(r&&[l,u,c,d].indexOf(o)>=0&&r!==this._joinRef())return;let v=this._onMessage(o,n,r);if(n&&!v)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(w=>{var g,y,b;return((g=w.filter)===null||g===void 0?void 0:g.event)==="*"||((b=(y=w.filter)===null||y===void 0?void 0:y.event)===null||b===void 0?void 0:b.toLocaleLowerCase())===o}).map(w=>w.callback(v,r)):(i=this.bindings[o])===null||i===void 0||i.filter(w=>{var g,y,b,m,f,p;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in w){const x=w.id,j=(g=w.filter)===null||g===void 0?void 0:g.event;return x&&((y=n.ids)===null||y===void 0?void 0:y.includes(x))&&(j==="*"||(j==null?void 0:j.toLocaleLowerCase())===((b=n.data)===null||b===void 0?void 0:b.type.toLocaleLowerCase()))}else{const x=(f=(m=w==null?void 0:w.filter)===null||m===void 0?void 0:m.event)===null||f===void 0?void 0:f.toLocaleLowerCase();return x==="*"||x===((p=n==null?void 0:n.event)===null||p===void 0?void 0:p.toLocaleLowerCase())}else return w.type.toLocaleLowerCase()===o}).map(w=>{if(typeof v=="object"&&"ids"in v){const g=v.data,{schema:y,table:b,commit_timestamp:m,type:f,errors:p}=g;v=Object.assign(Object.assign({},{schema:y,table:b,commit_timestamp:m,eventType:f,new:{},old:{},errors:p}),this._getPayloadRecords(g))}w.callback(v,r)})}_isClosed(){return this.state===$e.closed}_isJoined(){return this.state===$e.joined}_isJoining(){return this.state===$e.joining}_isLeaving(){return this.state===$e.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,n,r){const s=t.toLocaleLowerCase(),i={type:s,filter:n,callback:r};return this.bindings[s]?this.bindings[s].push(i):this.bindings[s]=[i],this}_off(t,n){const r=t.toLocaleLowerCase();return this.bindings[r]=this.bindings[r].filter(s=>{var i;return!(((i=s.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===r&&ld.isEqual(s.filter,n))}),this}static isEqual(t,n){if(Object.keys(t).length!==Object.keys(n).length)return!1;for(const r in t)if(t[r]!==n[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(Et.close,{},t)}_onError(t){this._on(Et.error,{},n=>t(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=$e.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const n={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(n.new=qh(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(n.old=qh(t.columns,t.old_record)),n}}const Kh=()=>{},gx=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class vx{constructor(t,n){var r;this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers=ox,this.params={},this.timeout=mg,this.heartbeatIntervalMs=25e3,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Kh,this.ref=0,this.logger=Kh,this.conn=null,this.sendBuffer=[],this.serializer=new ux,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=i=>{let o;return i?o=i:typeof fetch>"u"?o=(...l)=>Ki(async()=>{const{default:u}=await Promise.resolve().then(()=>Os);return{default:u}},void 0).then(({default:u})=>u(...l)):o=fetch,(...l)=>o(...l)},this.endPoint=`${t}/${Fu.websocket}`,this.httpEndpoint=vg(t),n!=null&&n.transport?this.transport=n.transport:this.transport=null,n!=null&&n.params&&(this.params=n.params),n!=null&&n.headers&&(this.headers=Object.assign(Object.assign({},this.headers),n.headers)),n!=null&&n.timeout&&(this.timeout=n.timeout),n!=null&&n.logger&&(this.logger=n.logger),(n!=null&&n.logLevel||n!=null&&n.log_level)&&(this.logLevel=n.logLevel||n.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),n!=null&&n.heartbeatIntervalMs&&(this.heartbeatIntervalMs=n.heartbeatIntervalMs);const s=(r=n==null?void 0:n.params)===null||r===void 0?void 0:r.apikey;if(s&&(this.accessTokenValue=s,this.apiKey=s),this.reconnectAfterMs=n!=null&&n.reconnectAfterMs?n.reconnectAfterMs:i=>[1e3,2e3,5e3,1e4][i-1]||1e4,this.encode=n!=null&&n.encode?n.encode:(i,o)=>o(JSON.stringify(i)),this.decode=n!=null&&n.decode?n.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new pg(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(n==null?void 0:n.fetch),n!=null&&n.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(n==null?void 0:n.worker)||!1,this.workerUrl=n==null?void 0:n.workerUrl}this.accessToken=(n==null?void 0:n.accessToken)||null}connect(){if(!this.conn){if(this.transport||(this.transport=Du),this.transport){typeof window<"u"&&this.transport===window.WebSocket?this.conn=new this.transport(this.endpointURL()):this.conn=new this.transport(this.endpointURL(),void 0,{headers:this.headers}),this.setupConnection();return}this.conn=new wx(this.endpointURL(),void 0,{close:()=>{this.conn=null}})}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:ax}))}disconnect(t,n){this.conn&&(this.conn.onclose=function(){},t?this.conn.close(t,n??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset(),this.channels.forEach(r=>r.teardown()))}getChannels(){return this.channels}async removeChannel(t){const n=await t.unsubscribe();return this.channels=this.channels.filter(r=>r._joinRef!==t._joinRef),this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const t=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,n,r){this.logger(t,n,r)}connectionState(){switch(this.conn&&this.conn.readyState){case ts.connecting:return nr.Connecting;case ts.open:return nr.Open;case ts.closing:return nr.Closing;default:return nr.Closed}}isConnected(){return this.connectionState()===nr.Open}channel(t,n={config:{}}){const r=`realtime:${t}`,s=this.getChannels().find(i=>i.topic===r);if(s)return s;{const i=new ld(`realtime:${t}`,n,this);return this.channels.push(i),i}}push(t){const{topic:n,event:r,payload:s,ref:i}=t,o=()=>{this.encode(t,l=>{var u;(u=this.conn)===null||u===void 0||u.send(l)})};this.log("push",`${n} ${r} (${i})`,s),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(t=null){let n=t||this.accessToken&&await this.accessToken()||this.accessTokenValue;this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(r=>{n&&r.updateJoinPayload({access_token:n,version:this.headers&&this.headers["X-Client-Info"]}),r.joinedOnce&&r._isJoined()&&r._push(Et.access_token,{access_token:n})}))}async sendHeartbeat(){var t;if(!this.isConnected()){this.heartbeatCallback("disconnected");return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),this.heartbeatCallback("timeout"),(t=this.conn)===null||t===void 0||t.close(lx,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.heartbeatCallback("sent"),await this.setAuth()}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let n=this.channels.find(r=>r.topic===t&&(r._isJoined()||r._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${t}"`),n.unsubscribe())}_remove(t){this.channels=this.channels.filter(n=>n.topic!==t.topic)}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_onConnMessage(t){this.decode(t.data,n=>{let{topic:r,event:s,payload:i,ref:o}=n;r==="phoenix"&&s==="phx_reply"&&this.heartbeatCallback(n.payload.status=="ok"?"ok":"error"),o&&o===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${i.status||""} ${r} ${s} ${o&&"("+o+")"||""}`,i),Array.from(this.channels).filter(l=>l._isMember(r)).forEach(l=>l._trigger(s,i,o)),this.stateChangeCallbacks.message.forEach(l=>l(n))})}_onConnOpen(){if(this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),!this.worker)this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs);else{this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}this.stateChangeCallbacks.open.forEach(t=>t())}_onConnClose(t){this.log("transport","close",t),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(n=>n(t))}_onConnError(t){this.log("transport",t.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(n=>n(t))}_triggerChanError(){this.channels.forEach(t=>t._trigger(Et.error))}_appendParams(t,n){if(Object.keys(n).length===0)return t;const r=t.match(/\?/)?"&":"?",s=new URLSearchParams(n);return`${t}${r}${s}`}_workerObjectUrl(t){let n;if(t)n=t;else{const r=new Blob([gx],{type:"application/javascript"});n=URL.createObjectURL(r)}return n}}class wx{constructor(t,n,r){this.binaryType="arraybuffer",this.onclose=()=>{},this.onerror=()=>{},this.onmessage=()=>{},this.onopen=()=>{},this.readyState=ts.connecting,this.send=()=>{},this.url=null,this.url=t,this.close=r.close}}class ud extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function be(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class yx extends ud{constructor(t,n){super(t),this.name="StorageApiError",this.status=n}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class Uu extends ud{constructor(t,n){super(t),this.name="StorageUnknownError",this.originalError=n}}var xx=function(e,t,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function l(d){try{c(r.next(d))}catch(h){o(h)}}function u(d){try{c(r.throw(d))}catch(h){o(h)}}function c(d){d.done?i(d.value):s(d.value).then(l,u)}c((r=r.apply(e,t||[])).next())})};const wg=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>Ki(async()=>{const{default:r}=await Promise.resolve().then(()=>Os);return{default:r}},void 0).then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)},bx=()=>xx(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Ki(()=>Promise.resolve().then(()=>Os),void 0)).Response:Response}),zu=e=>{if(Array.isArray(e))return e.map(n=>zu(n));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([n,r])=>{const s=n.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));t[s]=zu(r)}),t};var Cr=function(e,t,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function l(d){try{c(r.next(d))}catch(h){o(h)}}function u(d){try{c(r.throw(d))}catch(h){o(h)}}function c(d){d.done?i(d.value):s(d.value).then(l,u)}c((r=r.apply(e,t||[])).next())})};const Ll=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),_x=(e,t,n)=>Cr(void 0,void 0,void 0,function*(){const r=yield bx();e instanceof r&&!(n!=null&&n.noResolveJson)?e.json().then(s=>{t(new yx(Ll(s),e.status||500))}).catch(s=>{t(new Uu(Ll(s),s))}):t(new Uu(Ll(e),e))}),kx=(e,t,n,r)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),r&&(s.body=JSON.stringify(r)),Object.assign(Object.assign({},s),n))};function Gi(e,t,n,r,s,i){return Cr(this,void 0,void 0,function*(){return new Promise((o,l)=>{e(n,kx(t,r,s,i)).then(u=>{if(!u.ok)throw u;return r!=null&&r.noResolveJson?u:u.json()}).then(u=>o(u)).catch(u=>_x(u,l,r))})})}function fa(e,t,n,r){return Cr(this,void 0,void 0,function*(){return Gi(e,"GET",t,n,r)})}function pn(e,t,n,r,s){return Cr(this,void 0,void 0,function*(){return Gi(e,"POST",t,r,s,n)})}function jx(e,t,n,r,s){return Cr(this,void 0,void 0,function*(){return Gi(e,"PUT",t,r,s,n)})}function Sx(e,t,n,r){return Cr(this,void 0,void 0,function*(){return Gi(e,"HEAD",t,Object.assign(Object.assign({},n),{noResolveJson:!0}),r)})}function yg(e,t,n,r,s){return Cr(this,void 0,void 0,function*(){return Gi(e,"DELETE",t,r,s,n)})}var Ve=function(e,t,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function l(d){try{c(r.next(d))}catch(h){o(h)}}function u(d){try{c(r.throw(d))}catch(h){o(h)}}function c(d){d.done?i(d.value):s(d.value).then(l,u)}c((r=r.apply(e,t||[])).next())})};const Cx={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Qh={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class Ex{constructor(t,n={},r,s){this.url=t,this.headers=n,this.bucketId=r,this.fetch=wg(s)}uploadOrUpdate(t,n,r,s){return Ve(this,void 0,void 0,function*(){try{let i;const o=Object.assign(Object.assign({},Qh),s);let l=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(o.upsert)});const u=o.metadata;typeof Blob<"u"&&r instanceof Blob?(i=new FormData,i.append("cacheControl",o.cacheControl),u&&i.append("metadata",this.encodeMetadata(u)),i.append("",r)):typeof FormData<"u"&&r instanceof FormData?(i=r,i.append("cacheControl",o.cacheControl),u&&i.append("metadata",this.encodeMetadata(u))):(i=r,l["cache-control"]=`max-age=${o.cacheControl}`,l["content-type"]=o.contentType,u&&(l["x-metadata"]=this.toBase64(this.encodeMetadata(u)))),s!=null&&s.headers&&(l=Object.assign(Object.assign({},l),s.headers));const c=this._removeEmptyFolders(n),d=this._getFinalPath(c),h=yield this.fetch(`${this.url}/object/${d}`,Object.assign({method:t,body:i,headers:l},o!=null&&o.duplex?{duplex:o.duplex}:{})),v=yield h.json();return h.ok?{data:{path:c,id:v.Id,fullPath:v.Key},error:null}:{data:null,error:v}}catch(i){if(be(i))return{data:null,error:i};throw i}})}upload(t,n,r){return Ve(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,n,r)})}uploadToSignedUrl(t,n,r,s){return Ve(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(t),o=this._getFinalPath(i),l=new URL(this.url+`/object/upload/sign/${o}`);l.searchParams.set("token",n);try{let u;const c=Object.assign({upsert:Qh.upsert},s),d=Object.assign(Object.assign({},this.headers),{"x-upsert":String(c.upsert)});typeof Blob<"u"&&r instanceof Blob?(u=new FormData,u.append("cacheControl",c.cacheControl),u.append("",r)):typeof FormData<"u"&&r instanceof FormData?(u=r,u.append("cacheControl",c.cacheControl)):(u=r,d["cache-control"]=`max-age=${c.cacheControl}`,d["content-type"]=c.contentType);const h=yield this.fetch(l.toString(),{method:"PUT",body:u,headers:d}),v=yield h.json();return h.ok?{data:{path:i,fullPath:v.Key},error:null}:{data:null,error:v}}catch(u){if(be(u))return{data:null,error:u};throw u}})}createSignedUploadUrl(t,n){return Ve(this,void 0,void 0,function*(){try{let r=this._getFinalPath(t);const s=Object.assign({},this.headers);n!=null&&n.upsert&&(s["x-upsert"]="true");const i=yield pn(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:s}),o=new URL(this.url+i.url),l=o.searchParams.get("token");if(!l)throw new ud("No token returned by API");return{data:{signedUrl:o.toString(),path:t,token:l},error:null}}catch(r){if(be(r))return{data:null,error:r};throw r}})}update(t,n,r){return Ve(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,n,r)})}move(t,n,r){return Ve(this,void 0,void 0,function*(){try{return{data:yield pn(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers}),error:null}}catch(s){if(be(s))return{data:null,error:s};throw s}})}copy(t,n,r){return Ve(this,void 0,void 0,function*(){try{return{data:{path:(yield pn(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers})).Key},error:null}}catch(s){if(be(s))return{data:null,error:s};throw s}})}createSignedUrl(t,n,r){return Ve(this,void 0,void 0,function*(){try{let s=this._getFinalPath(t),i=yield pn(this.fetch,`${this.url}/object/sign/${s}`,Object.assign({expiresIn:n},r!=null&&r.transform?{transform:r.transform}:{}),{headers:this.headers});const o=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${o}`)},{data:i,error:null}}catch(s){if(be(s))return{data:null,error:s};throw s}})}createSignedUrls(t,n,r){return Ve(this,void 0,void 0,function*(){try{const s=yield pn(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:t},{headers:this.headers}),i=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{data:s.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${i}`):null})),error:null}}catch(s){if(be(s))return{data:null,error:s};throw s}})}download(t,n){return Ve(this,void 0,void 0,function*(){const s=typeof(n==null?void 0:n.transform)<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString((n==null?void 0:n.transform)||{}),o=i?`?${i}`:"";try{const l=this._getFinalPath(t);return{data:yield(yield fa(this.fetch,`${this.url}/${s}/${l}${o}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(l){if(be(l))return{data:null,error:l};throw l}})}info(t){return Ve(this,void 0,void 0,function*(){const n=this._getFinalPath(t);try{const r=yield fa(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:zu(r),error:null}}catch(r){if(be(r))return{data:null,error:r};throw r}})}exists(t){return Ve(this,void 0,void 0,function*(){const n=this._getFinalPath(t);try{return yield Sx(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(be(r)&&r instanceof Uu){const s=r.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:r}}throw r}})}getPublicUrl(t,n){const r=this._getFinalPath(t),s=[],i=n!=null&&n.download?`download=${n.download===!0?"":n.download}`:"";i!==""&&s.push(i);const l=typeof(n==null?void 0:n.transform)<"u"?"render/image":"object",u=this.transformOptsToQueryString((n==null?void 0:n.transform)||{});u!==""&&s.push(u);let c=s.join("&");return c!==""&&(c=`?${c}`),{data:{publicUrl:encodeURI(`${this.url}/${l}/public/${r}${c}`)}}}remove(t){return Ve(this,void 0,void 0,function*(){try{return{data:yield yg(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(n){if(be(n))return{data:null,error:n};throw n}})}list(t,n,r){return Ve(this,void 0,void 0,function*(){try{const s=Object.assign(Object.assign(Object.assign({},Cx),n),{prefix:t||""});return{data:yield pn(this.fetch,`${this.url}/object/list/${this.bucketId}`,s,{headers:this.headers},r),error:null}}catch(s){if(be(s))return{data:null,error:s};throw s}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const n=[];return t.width&&n.push(`width=${t.width}`),t.height&&n.push(`height=${t.height}`),t.resize&&n.push(`resize=${t.resize}`),t.format&&n.push(`format=${t.format}`),t.quality&&n.push(`quality=${t.quality}`),n.join("&")}}const Nx="2.7.1",Px={"X-Client-Info":`storage-js/${Nx}`};var Ar=function(e,t,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function l(d){try{c(r.next(d))}catch(h){o(h)}}function u(d){try{c(r.throw(d))}catch(h){o(h)}}function c(d){d.done?i(d.value):s(d.value).then(l,u)}c((r=r.apply(e,t||[])).next())})};class Tx{constructor(t,n={},r){this.url=t,this.headers=Object.assign(Object.assign({},Px),n),this.fetch=wg(r)}listBuckets(){return Ar(this,void 0,void 0,function*(){try{return{data:yield fa(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(be(t))return{data:null,error:t};throw t}})}getBucket(t){return Ar(this,void 0,void 0,function*(){try{return{data:yield fa(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(n){if(be(n))return{data:null,error:n};throw n}})}createBucket(t,n={public:!1}){return Ar(this,void 0,void 0,function*(){try{return{data:yield pn(this.fetch,`${this.url}/bucket`,{id:t,name:t,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(be(r))return{data:null,error:r};throw r}})}updateBucket(t,n){return Ar(this,void 0,void 0,function*(){try{return{data:yield jx(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(be(r))return{data:null,error:r};throw r}})}emptyBucket(t){return Ar(this,void 0,void 0,function*(){try{return{data:yield pn(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(be(n))return{data:null,error:n};throw n}})}deleteBucket(t){return Ar(this,void 0,void 0,function*(){try{return{data:yield yg(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(n){if(be(n))return{data:null,error:n};throw n}})}}class Ax extends Tx{constructor(t,n={},r){super(t,n,r)}from(t){return new Ex(this.url,this.headers,t,this.fetch)}}const Ox="2.50.0";let ti="";typeof Deno<"u"?ti="deno":typeof document<"u"?ti="web":typeof navigator<"u"&&navigator.product==="ReactNative"?ti="react-native":ti="node";const Rx={"X-Client-Info":`supabase-js-${ti}/${Ox}`},Lx={headers:Rx},Ix={schema:"public"},$x={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},Mx={};var Dx=function(e,t,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function l(d){try{c(r.next(d))}catch(h){o(h)}}function u(d){try{c(r.throw(d))}catch(h){o(h)}}function c(d){d.done?i(d.value):s(d.value).then(l,u)}c((r=r.apply(e,t||[])).next())})};const Fx=e=>{let t;return e?t=e:typeof fetch>"u"?t=rg:t=fetch,(...n)=>t(...n)},Bx=()=>typeof Headers>"u"?sg:Headers,Ux=(e,t,n)=>{const r=Fx(n),s=Bx();return(i,o)=>Dx(void 0,void 0,void 0,function*(){var l;const u=(l=yield t())!==null&&l!==void 0?l:e;let c=new s(o==null?void 0:o.headers);return c.has("apikey")||c.set("apikey",e),c.has("Authorization")||c.set("Authorization",`Bearer ${u}`),r(i,Object.assign(Object.assign({},o),{headers:c}))})};var zx=function(e,t,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function l(d){try{c(r.next(d))}catch(h){o(h)}}function u(d){try{c(r.throw(d))}catch(h){o(h)}}function c(d){d.done?i(d.value):s(d.value).then(l,u)}c((r=r.apply(e,t||[])).next())})};function qx(e){return e.endsWith("/")?e:e+"/"}function Hx(e,t){var n,r;const{db:s,auth:i,realtime:o,global:l}=e,{db:u,auth:c,realtime:d,global:h}=t,v={db:Object.assign(Object.assign({},u),s),auth:Object.assign(Object.assign({},c),i),realtime:Object.assign(Object.assign({},d),o),global:Object.assign(Object.assign(Object.assign({},h),l),{headers:Object.assign(Object.assign({},(n=h==null?void 0:h.headers)!==null&&n!==void 0?n:{}),(r=l==null?void 0:l.headers)!==null&&r!==void 0?r:{})}),accessToken:()=>zx(this,void 0,void 0,function*(){return""})};return e.accessToken?v.accessToken=e.accessToken:delete v.accessToken,v}const xg="2.70.0",Ir=30*1e3,qu=3,Il=qu*Ir,Vx="http://localhost:9999",Wx="supabase.auth.token",Kx={"X-Client-Info":`gotrue-js/${xg}`},Hu="X-Supabase-Api-Version",bg={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},Qx=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,Gx=6e5;class cd extends Error{constructor(t,n,r){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=r}}function B(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class Jx extends cd{constructor(t,n,r){super(t,n,r),this.name="AuthApiError",this.status=n,this.code=r}}function Yx(e){return B(e)&&e.name==="AuthApiError"}class _g extends cd{constructor(t,n){super(t),this.name="AuthUnknownError",this.originalError=n}}class Wn extends cd{constructor(t,n,r,s){super(t,r,s),this.name=n,this.status=r}}class dn extends Wn{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function Xx(e){return B(e)&&e.name==="AuthSessionMissingError"}class ko extends Wn{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class jo extends Wn{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class So extends Wn{constructor(t,n=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function Zx(e){return B(e)&&e.name==="AuthImplicitGrantRedirectError"}class Gh extends Wn{constructor(t,n=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Vu extends Wn{constructor(t,n){super(t,"AuthRetryableFetchError",n,void 0)}}function $l(e){return B(e)&&e.name==="AuthRetryableFetchError"}class Jh extends Wn{constructor(t,n,r){super(t,"AuthWeakPasswordError",n,"weak_password"),this.reasons=r}}class fi extends Wn{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const ma="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Yh=` 	
\r=`.split(""),eb=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<Yh.length;t+=1)e[Yh[t].charCodeAt(0)]=-2;for(let t=0;t<ma.length;t+=1)e[ma[t].charCodeAt(0)]=t;return e})();function Xh(e,t,n){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const r=t.queue>>t.queuedBits-6&63;n(ma[r]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const r=t.queue>>t.queuedBits-6&63;n(ma[r]),t.queuedBits-=6}}function kg(e,t,n){const r=eb[e];if(r>-1)for(t.queue=t.queue<<6|r,t.queuedBits+=6;t.queuedBits>=8;)n(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function Zh(e){const t=[],n=o=>{t.push(String.fromCodePoint(o))},r={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},i=o=>{rb(o,r,n)};for(let o=0;o<e.length;o+=1)kg(e.charCodeAt(o),s,i);return t.join("")}function tb(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function nb(e,t){for(let n=0;n<e.length;n+=1){let r=e.charCodeAt(n);if(r>55295&&r<=56319){const s=(r-55296)*1024&65535;r=(e.charCodeAt(n+1)-56320&65535|s)+65536,n+=1}tb(r,t)}}function rb(e,t,n){if(t.utf8seq===0){if(e<=127){n(e);return}for(let r=1;r<6;r+=1)if(!(e>>7-r&1)){t.utf8seq=r;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&n(t.codepoint)}}function sb(e){const t=[],n={queue:0,queuedBits:0},r=s=>{t.push(s)};for(let s=0;s<e.length;s+=1)kg(e.charCodeAt(s),n,r);return new Uint8Array(t)}function ib(e){const t=[];return nb(e,n=>t.push(n)),new Uint8Array(t)}function ob(e){const t=[],n={queue:0,queuedBits:0},r=s=>{t.push(s)};return e.forEach(s=>Xh(s,n,r)),Xh(null,n,r),t.join("")}function ab(e){return Math.round(Date.now()/1e3)+e}function lb(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const _t=()=>typeof window<"u"&&typeof document<"u",Jn={tested:!1,writable:!1},mi=()=>{if(!_t())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Jn.tested)return Jn.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),Jn.tested=!0,Jn.writable=!0}catch{Jn.tested=!0,Jn.writable=!1}return Jn.writable};function ub(e){const t={},n=new URL(e);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((s,i)=>{t[i]=s})}catch{}return n.searchParams.forEach((r,s)=>{t[s]=r}),t}const jg=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>Ki(async()=>{const{default:r}=await Promise.resolve().then(()=>Os);return{default:r}},void 0).then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)},cb=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",Sg=async(e,t,n)=>{await e.setItem(t,JSON.stringify(n))},Co=async(e,t)=>{const n=await e.getItem(t);if(!n)return null;try{return JSON.parse(n)}catch{return n}},Eo=async(e,t)=>{await e.removeItem(t)};class Ga{constructor(){this.promise=new Ga.promiseConstructor((t,n)=>{this.resolve=t,this.reject=n})}}Ga.promiseConstructor=Promise;function Ml(e){const t=e.split(".");if(t.length!==3)throw new fi("Invalid JWT structure");for(let r=0;r<t.length;r++)if(!Qx.test(t[r]))throw new fi("JWT not in base64url format");return{header:JSON.parse(Zh(t[0])),payload:JSON.parse(Zh(t[1])),signature:sb(t[2]),raw:{header:t[0],payload:t[1]}}}async function db(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function hb(e,t){return new Promise((r,s)=>{(async()=>{for(let i=0;i<1/0;i++)try{const o=await e(i);if(!t(i,null,o)){r(o);return}}catch(o){if(!t(i,o)){s(o);return}}})()})}function fb(e){return("0"+e.toString(16)).substr(-2)}function mb(){const t=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=n.length;let s="";for(let i=0;i<56;i++)s+=n.charAt(Math.floor(Math.random()*r));return s}return crypto.getRandomValues(t),Array.from(t,fb).join("")}async function pb(e){const n=new TextEncoder().encode(e),r=await crypto.subtle.digest("SHA-256",n),s=new Uint8Array(r);return Array.from(s).map(i=>String.fromCharCode(i)).join("")}async function gb(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const n=await pb(e);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Or(e,t,n=!1){const r=mb();let s=r;n&&(s+="/PASSWORD_RECOVERY"),await Sg(e,`${t}-code-verifier`,s);const i=await gb(r);return[i,r===i?"plain":"s256"]}const vb=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function wb(e){const t=e.headers.get(Hu);if(!t||!t.match(vb))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function yb(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function xb(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const bb=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Rr(e){if(!bb.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}var _b=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]]);return n};const tr=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),kb=[502,503,504];async function ef(e){var t;if(!cb(e))throw new Vu(tr(e),0);if(kb.includes(e.status))throw new Vu(tr(e),e.status);let n;try{n=await e.json()}catch(i){throw new _g(tr(i),i)}let r;const s=wb(e);if(s&&s.getTime()>=bg["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?r=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(r=n.error_code),r){if(r==="weak_password")throw new Jh(tr(n),e.status,((t=n.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(r==="session_not_found")throw new dn}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((i,o)=>i&&typeof o=="string",!0))throw new Jh(tr(n),e.status,n.weak_password.reasons);throw new Jx(tr(n),e.status||500,r)}const jb=(e,t,n,r)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),s.body=JSON.stringify(r),Object.assign(Object.assign({},s),n))};async function z(e,t,n,r){var s;const i=Object.assign({},r==null?void 0:r.headers);i[Hu]||(i[Hu]=bg["2024-01-01"].name),r!=null&&r.jwt&&(i.Authorization=`Bearer ${r.jwt}`);const o=(s=r==null?void 0:r.query)!==null&&s!==void 0?s:{};r!=null&&r.redirectTo&&(o.redirect_to=r.redirectTo);const l=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",u=await Sb(e,t,n+l,{headers:i,noResolveJson:r==null?void 0:r.noResolveJson},{},r==null?void 0:r.body);return r!=null&&r.xform?r==null?void 0:r.xform(u):{data:Object.assign({},u),error:null}}async function Sb(e,t,n,r,s,i){const o=jb(t,r,s,i);let l;try{l=await e(n,Object.assign({},o))}catch(u){throw console.error(u),new Vu(tr(u),0)}if(l.ok||await ef(l),r!=null&&r.noResolveJson)return l;try{return await l.json()}catch(u){await ef(u)}}function qt(e){var t;let n=null;Pb(e)&&(n=Object.assign({},e),e.expires_at||(n.expires_at=ab(e.expires_in)));const r=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:n,user:r},error:null}}function tf(e){const t=qt(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((n,r)=>n&&typeof r=="string",!0)&&(t.data.weak_password=e.weak_password),t}function wn(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function Cb(e){return{data:e,error:null}}function Eb(e){const{action_link:t,email_otp:n,hashed_token:r,redirect_to:s,verification_type:i}=e,o=_b(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),l={action_link:t,email_otp:n,hashed_token:r,redirect_to:s,verification_type:i},u=Object.assign({},o);return{data:{properties:l,user:u},error:null}}function Nb(e){return e}function Pb(e){return e.access_token&&e.refresh_token&&e.expires_in}const Dl=["global","local","others"];var Tb=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]]);return n};class Ab{constructor({url:t="",headers:n={},fetch:r}){this.url=t,this.headers=n,this.fetch=jg(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(t,n=Dl[0]){if(Dl.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Dl.join(", ")}`);try{return await z(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(r){if(B(r))return{data:null,error:r};throw r}}async inviteUserByEmail(t,n={}){try{return await z(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:wn})}catch(r){if(B(r))return{data:{user:null},error:r};throw r}}async generateLink(t){try{const{options:n}=t,r=Tb(t,["options"]),s=Object.assign(Object.assign({},r),n);return"newEmail"in r&&(s.new_email=r==null?void 0:r.newEmail,delete s.newEmail),await z(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:Eb,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if(B(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(t){try{return await z(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:wn})}catch(n){if(B(n))return{data:{user:null},error:n};throw n}}async listUsers(t){var n,r,s,i,o,l,u;try{const c={nextPage:null,lastPage:0,total:0},d=await z(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=t==null?void 0:t.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(i=(s=t==null?void 0:t.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:Nb});if(d.error)throw d.error;const h=await d.json(),v=(o=d.headers.get("x-total-count"))!==null&&o!==void 0?o:0,w=(u=(l=d.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&u!==void 0?u:[];return w.length>0&&(w.forEach(g=>{const y=parseInt(g.split(";")[0].split("=")[1].substring(0,1)),b=JSON.parse(g.split(";")[1].split("=")[1]);c[`${b}Page`]=y}),c.total=parseInt(v)),{data:Object.assign(Object.assign({},h),c),error:null}}catch(c){if(B(c))return{data:{users:[]},error:c};throw c}}async getUserById(t){Rr(t);try{return await z(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:wn})}catch(n){if(B(n))return{data:{user:null},error:n};throw n}}async updateUserById(t,n){Rr(t);try{return await z(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:n,headers:this.headers,xform:wn})}catch(r){if(B(r))return{data:{user:null},error:r};throw r}}async deleteUser(t,n=!1){Rr(t);try{return await z(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:n},xform:wn})}catch(r){if(B(r))return{data:{user:null},error:r};throw r}}async _listFactors(t){Rr(t.userId);try{const{data:n,error:r}=await z(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:n,error:r}}catch(n){if(B(n))return{data:null,error:n};throw n}}async _deleteFactor(t){Rr(t.userId),Rr(t.id);try{return{data:await z(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(n){if(B(n))return{data:null,error:n};throw n}}}const Ob={getItem:e=>mi()?globalThis.localStorage.getItem(e):null,setItem:(e,t)=>{mi()&&globalThis.localStorage.setItem(e,t)},removeItem:e=>{mi()&&globalThis.localStorage.removeItem(e)}};function nf(e={}){return{getItem:t=>e[t]||null,setItem:(t,n)=>{e[t]=n},removeItem:t=>{delete e[t]}}}function Rb(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const Lr={debug:!!(globalThis&&mi()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Cg extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class Lb extends Cg{}async function Ib(e,t,n){Lr.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const r=new globalThis.AbortController;return t>0&&setTimeout(()=>{r.abort(),Lr.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async s=>{if(s){Lr.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,s.name);try{return await n()}finally{Lr.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,s.name)}}else{if(t===0)throw Lr.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new Lb(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(Lr.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}Rb();const $b={url:Vx,storageKey:Wx,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:Kx,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function rf(e,t,n){return await n()}class Oi{constructor(t){var n,r;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Oi.nextInstanceID,Oi.nextInstanceID+=1,this.instanceID>0&&_t()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const s=Object.assign(Object.assign({},$b),t);if(this.logDebugMessages=!!s.debug,typeof s.debug=="function"&&(this.logger=s.debug),this.persistSession=s.persistSession,this.storageKey=s.storageKey,this.autoRefreshToken=s.autoRefreshToken,this.admin=new Ab({url:s.url,headers:s.headers,fetch:s.fetch}),this.url=s.url,this.headers=s.headers,this.fetch=jg(s.fetch),this.lock=s.lock||rf,this.detectSessionInUrl=s.detectSessionInUrl,this.flowType=s.flowType,this.hasCustomAuthorizationHeader=s.hasCustomAuthorizationHeader,s.lock?this.lock=s.lock:_t()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=Ib:this.lock=rf,this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?s.storage?this.storage=s.storage:mi()?this.storage=Ob:(this.memoryStorage={},this.storage=nf(this.memoryStorage)):(this.memoryStorage={},this.storage=nf(this.memoryStorage)),_t()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(i){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",i)}(r=this.broadcastChannel)===null||r===void 0||r.addEventListener("message",async i=>{this._debug("received broadcast notification from other tab or client",i),await this._notifyAllSubscribers(i.data.event,i.data.session,!1)})}this.initialize()}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${xg}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{const n=ub(window.location.href);let r="none";if(this._isImplicitGrantCallback(n)?r="implicit":await this._isPKCECallback(n)&&(r="pkce"),_t()&&this.detectSessionInUrl&&r!=="none"){const{data:s,error:i}=await this._getSessionFromURL(n,r);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),Zx(i)){const u=(t=i.details)===null||t===void 0?void 0:t.code;if(u==="identity_already_exists"||u==="identity_not_found"||u==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:o,redirectType:l}=s;return this._debug("#_initialize()","detected session in URL",o,"redirect type",l),await this._saveSession(o),setTimeout(async()=>{l==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return B(n)?{error:n}:{error:new _g("Unexpected error during initialization",n)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var n,r,s;try{const i=await z(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(n=t==null?void 0:t.options)===null||n===void 0?void 0:n.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(s=t==null?void 0:t.options)===null||s===void 0?void 0:s.captchaToken}},xform:qt}),{data:o,error:l}=i;if(l||!o)return{data:{user:null,session:null},error:l};const u=o.session,c=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",u)),{data:{user:c,session:u},error:null}}catch(i){if(B(i))return{data:{user:null,session:null},error:i};throw i}}async signUp(t){var n,r,s;try{let i;if("email"in t){const{email:d,password:h,options:v}=t;let w=null,g=null;this.flowType==="pkce"&&([w,g]=await Or(this.storage,this.storageKey)),i=await z(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:v==null?void 0:v.emailRedirectTo,body:{email:d,password:h,data:(n=v==null?void 0:v.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:v==null?void 0:v.captchaToken},code_challenge:w,code_challenge_method:g},xform:qt})}else if("phone"in t){const{phone:d,password:h,options:v}=t;i=await z(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:h,data:(r=v==null?void 0:v.data)!==null&&r!==void 0?r:{},channel:(s=v==null?void 0:v.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:v==null?void 0:v.captchaToken}},xform:qt})}else throw new jo("You must provide either an email or phone number and a password");const{data:o,error:l}=i;if(l||!o)return{data:{user:null,session:null},error:l};const u=o.session,c=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",u)),{data:{user:c,session:u},error:null}}catch(i){if(B(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithPassword(t){try{let n;if("email"in t){const{email:i,password:o,options:l}=t;n=await z(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:tf})}else if("phone"in t){const{phone:i,password:o,options:l}=t;n=await z(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:tf})}else throw new jo("You must provide either an email or phone number and a password");const{data:r,error:s}=n;return s?{data:{user:null,session:null},error:s}:!r||!r.session||!r.user?{data:{user:null,session:null},error:new ko}:(r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),{data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:s})}catch(n){if(B(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOAuth(t){var n,r,s,i;return await this._handleProviderSignIn(t.provider,{redirectTo:(n=t.options)===null||n===void 0?void 0:n.redirectTo,scopes:(r=t.options)===null||r===void 0?void 0:r.scopes,queryParams:(s=t.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(i=t.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:n}=t;if(n==="solana")return await this.signInWithSolana(t);throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}async signInWithSolana(t){var n,r,s,i,o,l,u,c,d,h,v,w;let g,y;if("message"in t)g=t.message,y=t.signature;else{const{chain:b,wallet:m,statement:f,options:p}=t;let x;if(_t())if(typeof m=="object")x=m;else{const S=window;if("solana"in S&&typeof S.solana=="object"&&("signIn"in S.solana&&typeof S.solana.signIn=="function"||"signMessage"in S.solana&&typeof S.solana.signMessage=="function"))x=S.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof m!="object"||!(p!=null&&p.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");x=m}const j=new URL((n=p==null?void 0:p.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in x&&x.signIn){const S=await x.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},p==null?void 0:p.signInWithSolana),{version:"1",domain:j.host,uri:j.href}),f?{statement:f}:null));let N;if(Array.isArray(S)&&S[0]&&typeof S[0]=="object")N=S[0];else if(S&&typeof S=="object"&&"signedMessage"in S&&"signature"in S)N=S;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in N&&"signature"in N&&(typeof N.signedMessage=="string"||N.signedMessage instanceof Uint8Array)&&N.signature instanceof Uint8Array)g=typeof N.signedMessage=="string"?N.signedMessage:new TextDecoder().decode(N.signedMessage),y=N.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in x)||typeof x.signMessage!="function"||!("publicKey"in x)||typeof x!="object"||!x.publicKey||!("toBase58"in x.publicKey)||typeof x.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");g=[`${j.host} wants you to sign in with your Solana account:`,x.publicKey.toBase58(),...f?["",f,""]:[""],"Version: 1",`URI: ${j.href}`,`Issued At: ${(s=(r=p==null?void 0:p.signInWithSolana)===null||r===void 0?void 0:r.issuedAt)!==null&&s!==void 0?s:new Date().toISOString()}`,...!((i=p==null?void 0:p.signInWithSolana)===null||i===void 0)&&i.notBefore?[`Not Before: ${p.signInWithSolana.notBefore}`]:[],...!((o=p==null?void 0:p.signInWithSolana)===null||o===void 0)&&o.expirationTime?[`Expiration Time: ${p.signInWithSolana.expirationTime}`]:[],...!((l=p==null?void 0:p.signInWithSolana)===null||l===void 0)&&l.chainId?[`Chain ID: ${p.signInWithSolana.chainId}`]:[],...!((u=p==null?void 0:p.signInWithSolana)===null||u===void 0)&&u.nonce?[`Nonce: ${p.signInWithSolana.nonce}`]:[],...!((c=p==null?void 0:p.signInWithSolana)===null||c===void 0)&&c.requestId?[`Request ID: ${p.signInWithSolana.requestId}`]:[],...!((h=(d=p==null?void 0:p.signInWithSolana)===null||d===void 0?void 0:d.resources)===null||h===void 0)&&h.length?["Resources",...p.signInWithSolana.resources.map(N=>`- ${N}`)]:[]].join(`
`);const S=await x.signMessage(new TextEncoder().encode(g),"utf8");if(!S||!(S instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");y=S}}try{const{data:b,error:m}=await z(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:g,signature:ob(y)},!((v=t.options)===null||v===void 0)&&v.captchaToken?{gotrue_meta_security:{captcha_token:(w=t.options)===null||w===void 0?void 0:w.captchaToken}}:null),xform:qt});if(m)throw m;return!b||!b.session||!b.user?{data:{user:null,session:null},error:new ko}:(b.session&&(await this._saveSession(b.session),await this._notifyAllSubscribers("SIGNED_IN",b.session)),{data:Object.assign({},b),error:m})}catch(b){if(B(b))return{data:{user:null,session:null},error:b};throw b}}async _exchangeCodeForSession(t){const n=await Co(this.storage,`${this.storageKey}-code-verifier`),[r,s]=(n??"").split("/");try{const{data:i,error:o}=await z(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:r},xform:qt});if(await Eo(this.storage,`${this.storageKey}-code-verifier`),o)throw o;return!i||!i.session||!i.user?{data:{user:null,session:null,redirectType:null},error:new ko}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign(Object.assign({},i),{redirectType:s??null}),error:o})}catch(i){if(B(i))return{data:{user:null,session:null,redirectType:null},error:i};throw i}}async signInWithIdToken(t){try{const{options:n,provider:r,token:s,access_token:i,nonce:o}=t,l=await z(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:s,access_token:i,nonce:o,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:qt}),{data:u,error:c}=l;return c?{data:{user:null,session:null},error:c}:!u||!u.session||!u.user?{data:{user:null,session:null},error:new ko}:(u.session&&(await this._saveSession(u.session),await this._notifyAllSubscribers("SIGNED_IN",u.session)),{data:u,error:c})}catch(n){if(B(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOtp(t){var n,r,s,i,o;try{if("email"in t){const{email:l,options:u}=t;let c=null,d=null;this.flowType==="pkce"&&([c,d]=await Or(this.storage,this.storageKey));const{error:h}=await z(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:l,data:(n=u==null?void 0:u.data)!==null&&n!==void 0?n:{},create_user:(r=u==null?void 0:u.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:u==null?void 0:u.captchaToken},code_challenge:c,code_challenge_method:d},redirectTo:u==null?void 0:u.emailRedirectTo});return{data:{user:null,session:null},error:h}}if("phone"in t){const{phone:l,options:u}=t,{data:c,error:d}=await z(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:l,data:(s=u==null?void 0:u.data)!==null&&s!==void 0?s:{},create_user:(i=u==null?void 0:u.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:u==null?void 0:u.captchaToken},channel:(o=u==null?void 0:u.channel)!==null&&o!==void 0?o:"sms"}});return{data:{user:null,session:null,messageId:c==null?void 0:c.message_id},error:d}}throw new jo("You must provide either an email or phone number.")}catch(l){if(B(l))return{data:{user:null,session:null},error:l};throw l}}async verifyOtp(t){var n,r;try{let s,i;"options"in t&&(s=(n=t.options)===null||n===void 0?void 0:n.redirectTo,i=(r=t.options)===null||r===void 0?void 0:r.captchaToken);const{data:o,error:l}=await z(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:i}}),redirectTo:s,xform:qt});if(l)throw l;if(!o)throw new Error("An error occurred on token verification.");const u=o.session,c=o.user;return u!=null&&u.access_token&&(await this._saveSession(u),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",u)),{data:{user:c,session:u},error:null}}catch(s){if(B(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithSSO(t){var n,r,s;try{let i=null,o=null;return this.flowType==="pkce"&&([i,o]=await Or(this.storage,this.storageKey)),await z(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(r=(n=t.options)===null||n===void 0?void 0:n.redirectTo)!==null&&r!==void 0?r:void 0}),!((s=t==null?void 0:t.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:i,code_challenge_method:o}),headers:this.headers,xform:Cb})}catch(i){if(B(i))return{data:null,error:i};throw i}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:n},error:r}=t;if(r)throw r;if(!n)throw new dn;const{error:s}=await z(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return{data:{user:null,session:null},error:s}})}catch(t){if(B(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{const n=`${this.url}/resend`;if("email"in t){const{email:r,type:s,options:i}=t,{error:o}=await z(this.fetch,"POST",n,{headers:this.headers,body:{email:r,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return{data:{user:null,session:null},error:o}}else if("phone"in t){const{phone:r,type:s,options:i}=t,{data:o,error:l}=await z(this.fetch,"POST",n,{headers:this.headers,body:{phone:r,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return{data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:l}}throw new jo("You must provide either an email or phone number and a type")}catch(n){if(B(n))return{data:{user:null,session:null},error:n};throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(t,n){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await r,await n()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=n();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await t(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const n=await Co(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?t=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const r=t.expires_at?t.expires_at*1e3-Date.now()<Il:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",t.expires_at),!r){if(this.storage.isServer){let o=this.suppressGetSessionWarning;t=new Proxy(t,{get:(u,c,d)=>(!o&&c==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),o=!0,this.suppressGetSessionWarning=!0),Reflect.get(u,c,d))})}return{data:{session:t},error:null}}const{session:s,error:i}=await this._callRefreshToken(t.refresh_token);return i?{data:{session:null},error:i}:{data:{session:s},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await z(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:wn}):await this._useSession(async n=>{var r,s,i;const{data:o,error:l}=n;if(l)throw l;return!(!((r=o.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new dn}:await z(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(s=o.session)===null||s===void 0?void 0:s.access_token)!==null&&i!==void 0?i:void 0,xform:wn})})}catch(n){if(B(n))return Xx(n)&&(await this._removeSession(),await Eo(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:n};throw n}}async updateUser(t,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,n))}async _updateUser(t,n={}){try{return await this._useSession(async r=>{const{data:s,error:i}=r;if(i)throw i;if(!s.session)throw new dn;const o=s.session;let l=null,u=null;this.flowType==="pkce"&&t.email!=null&&([l,u]=await Or(this.storage,this.storageKey));const{data:c,error:d}=await z(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:l,code_challenge_method:u}),jwt:o.access_token,xform:wn});if(d)throw d;return o.user=c.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),{data:{user:o.user},error:null}})}catch(r){if(B(r))return{data:{user:null},error:r};throw r}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new dn;const n=Date.now()/1e3;let r=n,s=!0,i=null;const{payload:o}=Ml(t.access_token);if(o.exp&&(r=o.exp,s=r<=n),s){const{session:l,error:u}=await this._callRefreshToken(t.refresh_token);if(u)return{data:{user:null,session:null},error:u};if(!l)return{data:{user:null,session:null},error:null};i=l}else{const{data:l,error:u}=await this._getUser(t.access_token);if(u)throw u;i={access_token:t.access_token,refresh_token:t.refresh_token,user:l.user,token_type:"bearer",expires_in:r-n,expires_at:r},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return{data:{user:i.user,session:i},error:null}}catch(n){if(B(n))return{data:{session:null,user:null},error:n};throw n}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async n=>{var r;if(!t){const{data:o,error:l}=n;if(l)throw l;t=(r=o.session)!==null&&r!==void 0?r:void 0}if(!(t!=null&&t.refresh_token))throw new dn;const{session:s,error:i}=await this._callRefreshToken(t.refresh_token);return i?{data:{user:null,session:null},error:i}:s?{data:{user:s.user,session:s},error:null}:{data:{user:null,session:null},error:null}})}catch(n){if(B(n))return{data:{user:null,session:null},error:n};throw n}}async _getSessionFromURL(t,n){try{if(!_t())throw new So("No browser detected.");if(t.error||t.error_description||t.error_code)throw new So(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new Gh("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new So("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new Gh("No code detected.");const{data:f,error:p}=await this._exchangeCodeForSession(t.code);if(p)throw p;const x=new URL(window.location.href);return x.searchParams.delete("code"),window.history.replaceState(window.history.state,"",x.toString()),{data:{session:f.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:s,access_token:i,refresh_token:o,expires_in:l,expires_at:u,token_type:c}=t;if(!i||!l||!o||!c)throw new So("No session defined in URL");const d=Math.round(Date.now()/1e3),h=parseInt(l);let v=d+h;u&&(v=parseInt(u));const w=v-d;w*1e3<=Ir&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${w}s, should have been closer to ${h}s`);const g=v-h;d-g>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",g,v,d):d-g<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",g,v,d);const{data:y,error:b}=await this._getUser(i);if(b)throw b;const m={provider_token:r,provider_refresh_token:s,access_token:i,expires_in:h,expires_at:v,refresh_token:o,token_type:c,user:y.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:m,redirectType:t.type},error:null}}catch(r){if(B(r))return{data:{session:null,redirectType:null},error:r};throw r}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const n=await Co(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&n)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async n=>{var r;const{data:s,error:i}=n;if(i)return{error:i};const o=(r=s.session)===null||r===void 0?void 0:r.access_token;if(o){const{error:l}=await this.admin.signOut(o,t);if(l&&!(Yx(l)&&(l.status===404||l.status===401||l.status===403)))return{error:l}}return t!=="others"&&(await this._removeSession(),await Eo(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(t){const n=lb(),r={id:n,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,r),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:r}}}async _emitInitialSession(t){return await this._useSession(async n=>{var r,s;try{const{data:{session:i},error:o}=n;if(o)throw o;await((r=this.stateChangeEmitters.get(t))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",t,"session",i)}catch(i){await((s=this.stateChangeEmitters.get(t))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",i),console.error(i)}})}async resetPasswordForEmail(t,n={}){let r=null,s=null;this.flowType==="pkce"&&([r,s]=await Or(this.storage,this.storageKey,!0));try{return await z(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:r,code_challenge_method:s,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(i){if(B(i))return{data:null,error:i};throw i}}async getUserIdentities(){var t;try{const{data:n,error:r}=await this.getUser();if(r)throw r;return{data:{identities:(t=n.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(n){if(B(n))return{data:null,error:n};throw n}}async linkIdentity(t){var n;try{const{data:r,error:s}=await this._useSession(async i=>{var o,l,u,c,d;const{data:h,error:v}=i;if(v)throw v;const w=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(o=t.options)===null||o===void 0?void 0:o.redirectTo,scopes:(l=t.options)===null||l===void 0?void 0:l.scopes,queryParams:(u=t.options)===null||u===void 0?void 0:u.queryParams,skipBrowserRedirect:!0});return await z(this.fetch,"GET",w,{headers:this.headers,jwt:(d=(c=h.session)===null||c===void 0?void 0:c.access_token)!==null&&d!==void 0?d:void 0})});if(s)throw s;return _t()&&!(!((n=t.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(r==null?void 0:r.url),{data:{provider:t.provider,url:r==null?void 0:r.url},error:null}}catch(r){if(B(r))return{data:{provider:t.provider,url:null},error:r};throw r}}async unlinkIdentity(t){try{return await this._useSession(async n=>{var r,s;const{data:i,error:o}=n;if(o)throw o;return await z(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(s=(r=i.session)===null||r===void 0?void 0:r.access_token)!==null&&s!==void 0?s:void 0})})}catch(n){if(B(n))return{data:null,error:n};throw n}}async _refreshAccessToken(t){const n=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(n,"begin");try{const r=Date.now();return await hb(async s=>(s>0&&await db(200*Math.pow(2,s-1)),this._debug(n,"refreshing attempt",s),await z(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:qt})),(s,i)=>{const o=200*Math.pow(2,s);return i&&$l(i)&&Date.now()+o-r<Ir})}catch(r){if(this._debug(n,"error",r),B(r))return{data:{session:null,user:null},error:r};throw r}finally{this._debug(n,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,n){const r=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",n,"url",r),_t()&&!n.skipBrowserRedirect&&window.location.assign(r),{data:{provider:t,url:r},error:null}}async _recoverAndRefresh(){var t;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const r=await Co(this.storage,this.storageKey);if(this._debug(n,"session from storage",r),!this._isValidSession(r)){this._debug(n,"session is not valid"),r!==null&&await this._removeSession();return}const s=((t=r.expires_at)!==null&&t!==void 0?t:1/0)*1e3-Date.now()<Il;if(this._debug(n,`session has${s?"":" not"} expired with margin of ${Il}s`),s){if(this.autoRefreshToken&&r.refresh_token){const{error:i}=await this._callRefreshToken(r.refresh_token);i&&(console.error(i),$l(i)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",i),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",r)}catch(r){this._debug(n,"error",r),console.error(r);return}finally{this._debug(n,"end")}}async _callRefreshToken(t){var n,r;if(!t)throw new dn;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new Ga;const{data:i,error:o}=await this._refreshAccessToken(t);if(o)throw o;if(!i.session)throw new dn;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const l={session:i.session,error:null};return this.refreshingDeferred.resolve(l),l}catch(i){if(this._debug(s,"error",i),B(i)){const o={session:null,error:i};return $l(i)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(o),o}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(i),i}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(t,n,r=!0){const s=`#_notifyAllSubscribers(${t})`;this._debug(s,"begin",n,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:t,session:n});const i=[],o=Array.from(this.stateChangeEmitters.values()).map(async l=>{try{await l.callback(t,n)}catch(u){i.push(u)}});if(await Promise.all(o),i.length>0){for(let l=0;l<i.length;l+=1)console.error(i[l]);throw i[0]}}finally{this._debug(s,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0,await Sg(this.storage,this.storageKey,t)}async _removeSession(){this._debug("#_removeSession()"),await Eo(this.storage,this.storageKey),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&_t()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),Ir);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async n=>{const{data:{session:r}}=n;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((r.expires_at*1e3-t)/Ir);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${Ir}ms, refresh threshold is ${qu} ticks`),s<=qu&&await this._callRefreshToken(r.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof Cg)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!_t()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const n=`#_onVisibilityChanged(${t})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,n,r){const s=[`provider=${encodeURIComponent(n)}`];if(r!=null&&r.redirectTo&&s.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r!=null&&r.scopes&&s.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[i,o]=await Or(this.storage,this.storageKey),l=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(o)}`});s.push(l.toString())}if(r!=null&&r.queryParams){const i=new URLSearchParams(r.queryParams);s.push(i.toString())}return r!=null&&r.skipBrowserRedirect&&s.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${t}?${s.join("&")}`}async _unenroll(t){try{return await this._useSession(async n=>{var r;const{data:s,error:i}=n;return i?{data:null,error:i}:await z(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(B(n))return{data:null,error:n};throw n}}async _enroll(t){try{return await this._useSession(async n=>{var r,s;const{data:i,error:o}=n;if(o)return{data:null,error:o};const l=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:{issuer:t.issuer}),{data:u,error:c}=await z(this.fetch,"POST",`${this.url}/factors`,{body:l,headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token});return c?{data:null,error:c}:(t.factorType==="totp"&&(!((s=u==null?void 0:u.totp)===null||s===void 0)&&s.qr_code)&&(u.totp.qr_code=`data:image/svg+xml;utf-8,${u.totp.qr_code}`),{data:u,error:null})})}catch(n){if(B(n))return{data:null,error:n};throw n}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:s,error:i}=n;if(i)return{data:null,error:i};const{data:o,error:l}=await z(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:{code:t.code,challenge_id:t.challengeId},headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token});return l?{data:null,error:l}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+o.expires_in},o)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",o),{data:o,error:l})})}catch(n){if(B(n))return{data:null,error:n};throw n}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:s,error:i}=n;return i?{data:null,error:i}:await z(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:{channel:t.channel},headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(B(n))return{data:null,error:n};throw n}})}async _challengeAndVerify(t){const{data:n,error:r}=await this._challenge({factorId:t.factorId});return r?{data:null,error:r}:await this._verify({factorId:t.factorId,challengeId:n.id,code:t.code})}async _listFactors(){const{data:{user:t},error:n}=await this.getUser();if(n)return{data:null,error:n};const r=(t==null?void 0:t.factors)||[],s=r.filter(o=>o.factor_type==="totp"&&o.status==="verified"),i=r.filter(o=>o.factor_type==="phone"&&o.status==="verified");return{data:{all:r,totp:s,phone:i},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async t=>{var n,r;const{data:{session:s},error:i}=t;if(i)return{data:null,error:i};if(!s)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:o}=Ml(s.access_token);let l=null;o.aal&&(l=o.aal);let u=l;((r=(n=s.user.factors)===null||n===void 0?void 0:n.filter(h=>h.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(u="aal2");const d=o.amr||[];return{data:{currentLevel:l,nextLevel:u,currentAuthenticationMethods:d},error:null}}))}async fetchJwk(t,n={keys:[]}){let r=n.keys.find(o=>o.kid===t);if(r||(r=this.jwks.keys.find(o=>o.kid===t),r&&this.jwks_cached_at+Gx>Date.now()))return r;const{data:s,error:i}=await z(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(i)throw i;if(!s.keys||s.keys.length===0)throw new fi("JWKS is empty");if(this.jwks=s,this.jwks_cached_at=Date.now(),r=s.keys.find(o=>o.kid===t),!r)throw new fi("No matching signing key found in JWKS");return r}async getClaims(t,n={keys:[]}){try{let r=t;if(!r){const{data:w,error:g}=await this.getSession();if(g||!w.session)return{data:null,error:g};r=w.session.access_token}const{header:s,payload:i,signature:o,raw:{header:l,payload:u}}=Ml(r);if(yb(i.exp),!s.kid||s.alg==="HS256"||!("crypto"in globalThis&&"subtle"in globalThis.crypto)){const{error:w}=await this.getUser(r);if(w)throw w;return{data:{claims:i,header:s,signature:o},error:null}}const c=xb(s.alg),d=await this.fetchJwk(s.kid,n),h=await crypto.subtle.importKey("jwk",d,c,!0,["verify"]);if(!await crypto.subtle.verify(c,h,o,ib(`${l}.${u}`)))throw new fi("Invalid JWT signature");return{data:{claims:i,header:s,signature:o},error:null}}catch(r){if(B(r))return{data:null,error:r};throw r}}}Oi.nextInstanceID=0;const Mb=Oi;class Db extends Mb{constructor(t){super(t)}}var Fb=function(e,t,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function l(d){try{c(r.next(d))}catch(h){o(h)}}function u(d){try{c(r.throw(d))}catch(h){o(h)}}function c(d){d.done?i(d.value):s(d.value).then(l,u)}c((r=r.apply(e,t||[])).next())})};class Bb{constructor(t,n,r){var s,i,o;if(this.supabaseUrl=t,this.supabaseKey=n,!t)throw new Error("supabaseUrl is required.");if(!n)throw new Error("supabaseKey is required.");const l=qx(t),u=new URL(l);this.realtimeUrl=new URL("realtime/v1",u),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",u),this.storageUrl=new URL("storage/v1",u),this.functionsUrl=new URL("functions/v1",u);const c=`sb-${u.hostname.split(".")[0]}-auth-token`,d={db:Ix,realtime:Mx,auth:Object.assign(Object.assign({},$x),{storageKey:c}),global:Lx},h=Hx(r??{},d);this.storageKey=(s=h.auth.storageKey)!==null&&s!==void 0?s:"",this.headers=(i=h.global.headers)!==null&&i!==void 0?i:{},h.accessToken?(this.accessToken=h.accessToken,this.auth=new Proxy({},{get:(v,w)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(w)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=h.auth)!==null&&o!==void 0?o:{},this.headers,h.global.fetch),this.fetch=Ux(n,this._getAccessToken.bind(this),h.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},h.realtime)),this.rest=new sx(new URL("rest/v1",u).href,{headers:this.headers,schema:h.db.schema,fetch:this.fetch}),h.accessToken||this._listenForAuthEvents()}get functions(){return new L0(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}get storage(){return new Ax(this.storageUrl.href,this.headers,this.fetch)}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,n={},r={}){return this.rest.rpc(t,n,r)}channel(t,n={config:{}}){return this.realtime.channel(t,n)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var t,n;return Fb(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:r}=yield this.auth.getSession();return(n=(t=r.session)===null||t===void 0?void 0:t.access_token)!==null&&n!==void 0?n:null})}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:n,detectSessionInUrl:r,storage:s,storageKey:i,flowType:o,lock:l,debug:u},c,d){const h={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new Db({url:this.authUrl.href,headers:Object.assign(Object.assign({},h),c),storageKey:i,autoRefreshToken:t,persistSession:n,detectSessionInUrl:r,storage:s,flowType:o,lock:l,debug:u,fetch:d,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(t){return new vx(this.realtimeUrl.href,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,r)=>{this._handleTokenChanged(n,"CLIENT",r==null?void 0:r.access_token)})}_handleTokenChanged(t,n,r){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==r?this.changedAccessToken=r:t==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const Ub=(e,t,n)=>new Bb(e,t,n),zb="https://rhbnlcmsyqjbzykexttt.supabase.co",qb="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InJoYm5sY21zeXFqYnp5a2V4dHR0Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTA0NDA5OTcsImV4cCI6MjA2NjAxNjk5N30.o24Li47McJpMVaa2sEjwR8oOa1mobsUqhdUUD2VwpT8",ne=Ub(zb,qb);async function Ri(){const{data:{user:e},error:t}=await ne.auth.getUser();if(t)throw t;if(!e)throw new Error("Non connecté");const{data:n,error:r}=await ne.from("mandats").select("*").eq("user_id",e.id);if(r)throw r;return n}function Eg(e){const t=[{cap:4e3,rate:.6},{cap:7e3,rate:.65},{cap:15e3,rate:.7},{cap:1/0,rate:.8}];let n=Math.max(0,e),r=0,s=0;for(const i of t){const o=Math.max(0,Math.min(n,i.cap-r));if(s+=o*i.rate,n-=o,r=i.cap,n<=0)break}return Number(s.toFixed(2))}var Ji=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},_r=typeof window>"u"||"Deno"in globalThis;function Ke(){}function Hb(e,t){return typeof e=="function"?e(t):e}function Wu(e){return typeof e=="number"&&e>=0&&e!==1/0}function Ng(e,t){return Math.max(e+(t||0)-Date.now(),0)}function Fn(e,t){return typeof e=="function"?e(t):e}function ht(e,t){return typeof e=="function"?e(t):e}function sf(e,t){const{type:n="all",exact:r,fetchStatus:s,predicate:i,queryKey:o,stale:l}=e;if(o){if(r){if(t.queryHash!==dd(o,t.options))return!1}else if(!Ii(t.queryKey,o))return!1}if(n!=="all"){const u=t.isActive();if(n==="active"&&!u||n==="inactive"&&u)return!1}return!(typeof l=="boolean"&&t.isStale()!==l||s&&s!==t.state.fetchStatus||i&&!i(t))}function of(e,t){const{exact:n,status:r,predicate:s,mutationKey:i}=e;if(i){if(!t.options.mutationKey)return!1;if(n){if(Li(t.options.mutationKey)!==Li(i))return!1}else if(!Ii(t.options.mutationKey,i))return!1}return!(r&&t.state.status!==r||s&&!s(t))}function dd(e,t){return((t==null?void 0:t.queryKeyHashFn)||Li)(e)}function Li(e){return JSON.stringify(e,(t,n)=>Qu(n)?Object.keys(n).sort().reduce((r,s)=>(r[s]=n[s],r),{}):n)}function Ii(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?Object.keys(t).every(n=>Ii(e[n],t[n])):!1}function Pg(e,t){if(e===t)return e;const n=af(e)&&af(t);if(n||Qu(e)&&Qu(t)){const r=n?e:Object.keys(e),s=r.length,i=n?t:Object.keys(t),o=i.length,l=n?[]:{},u=new Set(r);let c=0;for(let d=0;d<o;d++){const h=n?d:i[d];(!n&&u.has(h)||n)&&e[h]===void 0&&t[h]===void 0?(l[h]=void 0,c++):(l[h]=Pg(e[h],t[h]),l[h]===e[h]&&e[h]!==void 0&&c++)}return s===o&&c===s?e:l}return t}function Ku(e,t){if(!t||Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(e[n]!==t[n])return!1;return!0}function af(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function Qu(e){if(!lf(e))return!1;const t=e.constructor;if(t===void 0)return!0;const n=t.prototype;return!(!lf(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function lf(e){return Object.prototype.toString.call(e)==="[object Object]"}function Vb(e){return new Promise(t=>{setTimeout(t,e)})}function Gu(e,t,n){return typeof n.structuralSharing=="function"?n.structuralSharing(e,t):n.structuralSharing!==!1?Pg(e,t):t}function Wb(e,t,n=0){const r=[...e,t];return n&&r.length>n?r.slice(1):r}function Kb(e,t,n=0){const r=[t,...e];return n&&r.length>n?r.slice(0,-1):r}var hd=Symbol();function Tg(e,t){return!e.queryFn&&(t!=null&&t.initialPromise)?()=>t.initialPromise:!e.queryFn||e.queryFn===hd?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}function Qb(e,t){return typeof e=="function"?e(...t):!!e}var or,yn,ss,$f,Gb=($f=class extends Ji{constructor(){super();$(this,or);$(this,yn);$(this,ss);O(this,ss,t=>{if(!_r&&window.addEventListener){const n=()=>t();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){_(this,yn)||this.setEventListener(_(this,ss))}onUnsubscribe(){var t;this.hasListeners()||((t=_(this,yn))==null||t.call(this),O(this,yn,void 0))}setEventListener(t){var n;O(this,ss,t),(n=_(this,yn))==null||n.call(this),O(this,yn,t(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(t){_(this,or)!==t&&(O(this,or,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(n=>{n(t)})}isFocused(){var t;return typeof _(this,or)=="boolean"?_(this,or):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},or=new WeakMap,yn=new WeakMap,ss=new WeakMap,$f),fd=new Gb,is,xn,os,Mf,Jb=(Mf=class extends Ji{constructor(){super();$(this,is,!0);$(this,xn);$(this,os);O(this,os,t=>{if(!_r&&window.addEventListener){const n=()=>t(!0),r=()=>t(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",r)}}})}onSubscribe(){_(this,xn)||this.setEventListener(_(this,os))}onUnsubscribe(){var t;this.hasListeners()||((t=_(this,xn))==null||t.call(this),O(this,xn,void 0))}setEventListener(t){var n;O(this,os,t),(n=_(this,xn))==null||n.call(this),O(this,xn,t(this.setOnline.bind(this)))}setOnline(t){_(this,is)!==t&&(O(this,is,t),this.listeners.forEach(r=>{r(t)}))}isOnline(){return _(this,is)}},is=new WeakMap,xn=new WeakMap,os=new WeakMap,Mf),pa=new Jb;function Ju(){let e,t;const n=new Promise((s,i)=>{e=s,t=i});n.status="pending",n.catch(()=>{});function r(s){Object.assign(n,s),delete n.resolve,delete n.reject}return n.resolve=s=>{r({status:"fulfilled",value:s}),e(s)},n.reject=s=>{r({status:"rejected",reason:s}),t(s)},n}function Yb(e){return Math.min(1e3*2**e,3e4)}function Ag(e){return(e??"online")==="online"?pa.isOnline():!0}var Og=class extends Error{constructor(e){super("CancelledError"),this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function Rg(e){let t=!1,n=0,r;const s=Ju(),i=()=>s.status!=="pending",o=y=>{var b;i()||(v(new Og(y)),(b=e.abort)==null||b.call(e))},l=()=>{t=!0},u=()=>{t=!1},c=()=>fd.isFocused()&&(e.networkMode==="always"||pa.isOnline())&&e.canRun(),d=()=>Ag(e.networkMode)&&e.canRun(),h=y=>{i()||(r==null||r(),s.resolve(y))},v=y=>{i()||(r==null||r(),s.reject(y))},w=()=>new Promise(y=>{var b;r=m=>{(i()||c())&&y(m)},(b=e.onPause)==null||b.call(e)}).then(()=>{var y;r=void 0,i()||(y=e.onContinue)==null||y.call(e)}),g=()=>{if(i())return;let y;const b=n===0?e.initialPromise:void 0;try{y=b??e.fn()}catch(m){y=Promise.reject(m)}Promise.resolve(y).then(h).catch(m=>{var S;if(i())return;const f=e.retry??(_r?0:3),p=e.retryDelay??Yb,x=typeof p=="function"?p(n,m):p,j=f===!0||typeof f=="number"&&n<f||typeof f=="function"&&f(n,m);if(t||!j){v(m);return}n++,(S=e.onFail)==null||S.call(e,n,m),Vb(x).then(()=>c()?void 0:w()).then(()=>{t?v(m):g()})})};return{promise:s,status:()=>s.status,cancel:o,continue:()=>(r==null||r(),s),cancelRetry:l,continueRetry:u,canStart:d,start:()=>(d()?g():w().then(g),s)}}var Xb=e=>setTimeout(e,0);function Zb(){let e=[],t=0,n=l=>{l()},r=l=>{l()},s=Xb;const i=l=>{t?e.push(l):s(()=>{n(l)})},o=()=>{const l=e;e=[],l.length&&s(()=>{r(()=>{l.forEach(u=>{n(u)})})})};return{batch:l=>{let u;t++;try{u=l()}finally{t--,t||o()}return u},batchCalls:l=>(...u)=>{i(()=>{l(...u)})},schedule:i,setNotifyFunction:l=>{n=l},setBatchNotifyFunction:l=>{r=l},setScheduler:l=>{s=l}}}var Ee=Zb(),ar,Df,Lg=(Df=class{constructor(){$(this,ar)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),Wu(this.gcTime)&&O(this,ar,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(_r?1/0:5*60*1e3))}clearGcTimeout(){_(this,ar)&&(clearTimeout(_(this,ar)),O(this,ar,void 0))}},ar=new WeakMap,Df),as,ls,ct,lr,xe,Di,ur,jt,Ht,Ff,e2=(Ff=class extends Lg{constructor(t){super();$(this,jt);$(this,as);$(this,ls);$(this,ct);$(this,lr);$(this,xe);$(this,Di);$(this,ur);O(this,ur,!1),O(this,Di,t.defaultOptions),this.setOptions(t.options),this.observers=[],O(this,lr,t.client),O(this,ct,_(this,lr).getQueryCache()),this.queryKey=t.queryKey,this.queryHash=t.queryHash,O(this,as,t2(this.options)),this.state=t.state??_(this,as),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=_(this,xe))==null?void 0:t.promise}setOptions(t){this.options={..._(this,Di),...t},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&_(this,ct).remove(this)}setData(t,n){const r=Gu(this.state.data,t,this.options);return H(this,jt,Ht).call(this,{data:r,type:"success",dataUpdatedAt:n==null?void 0:n.updatedAt,manual:n==null?void 0:n.manual}),r}setState(t,n){H(this,jt,Ht).call(this,{type:"setState",state:t,setStateOptions:n})}cancel(t){var r,s;const n=(r=_(this,xe))==null?void 0:r.promise;return(s=_(this,xe))==null||s.cancel(t),n?n.then(Ke).catch(Ke):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(_(this,as))}isActive(){return this.observers.some(t=>ht(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===hd||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(t=>Fn(t.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(t=0){return this.state.data===void 0?!0:t==="static"?!1:this.state.isInvalidated?!0:!Ng(this.state.dataUpdatedAt,t)}onFocus(){var n;const t=this.observers.find(r=>r.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(n=_(this,xe))==null||n.continue()}onOnline(){var n;const t=this.observers.find(r=>r.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(n=_(this,xe))==null||n.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),_(this,ct).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(n=>n!==t),this.observers.length||(_(this,xe)&&(_(this,ur)?_(this,xe).cancel({revert:!0}):_(this,xe).cancelRetry()),this.scheduleGc()),_(this,ct).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||H(this,jt,Ht).call(this,{type:"invalidate"})}async fetch(t,n){var u,c,d,h,v,w,g,y,b,m,f,p;if(this.state.fetchStatus!=="idle"&&((u=_(this,xe))==null?void 0:u.status())!=="rejected"){if(this.state.data!==void 0&&(n!=null&&n.cancelRefetch))this.cancel({silent:!0});else if(_(this,xe))return _(this,xe).continueRetry(),_(this,xe).promise}if(t&&this.setOptions(t),!this.options.queryFn){const x=this.observers.find(j=>j.options.queryFn);x&&this.setOptions(x.options)}const r=new AbortController,s=x=>{Object.defineProperty(x,"signal",{enumerable:!0,get:()=>(O(this,ur,!0),r.signal)})},i=()=>{const x=Tg(this.options,n),S=(()=>{const N={client:_(this,lr),queryKey:this.queryKey,meta:this.meta};return s(N),N})();return O(this,ur,!1),this.options.persister?this.options.persister(x,S,this):x(S)},l=(()=>{const x={fetchOptions:n,options:this.options,queryKey:this.queryKey,client:_(this,lr),state:this.state,fetchFn:i};return s(x),x})();(c=this.options.behavior)==null||c.onFetch(l,this),O(this,ls,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((d=l.fetchOptions)==null?void 0:d.meta))&&H(this,jt,Ht).call(this,{type:"fetch",meta:(h=l.fetchOptions)==null?void 0:h.meta}),O(this,xe,Rg({initialPromise:n==null?void 0:n.initialPromise,fn:l.fetchFn,abort:r.abort.bind(r),onFail:(x,j)=>{H(this,jt,Ht).call(this,{type:"failed",failureCount:x,error:j})},onPause:()=>{H(this,jt,Ht).call(this,{type:"pause"})},onContinue:()=>{H(this,jt,Ht).call(this,{type:"continue"})},retry:l.options.retry,retryDelay:l.options.retryDelay,networkMode:l.options.networkMode,canRun:()=>!0}));try{const x=await _(this,xe).start();if(x===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(x),(w=(v=_(this,ct).config).onSuccess)==null||w.call(v,x,this),(y=(g=_(this,ct).config).onSettled)==null||y.call(g,x,this.state.error,this),x}catch(x){if(x instanceof Og){if(x.silent)return _(this,xe).promise;if(x.revert){if(this.setState({..._(this,ls),fetchStatus:"idle"}),this.state.data===void 0)throw x;return this.state.data}}throw H(this,jt,Ht).call(this,{type:"error",error:x}),(m=(b=_(this,ct).config).onError)==null||m.call(b,x,this),(p=(f=_(this,ct).config).onSettled)==null||p.call(f,this.state.data,x,this),x}finally{this.scheduleGc()}}},as=new WeakMap,ls=new WeakMap,ct=new WeakMap,lr=new WeakMap,xe=new WeakMap,Di=new WeakMap,ur=new WeakMap,jt=new WeakSet,Ht=function(t){const n=r=>{switch(t.type){case"failed":return{...r,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,...Ig(r.data,this.options),fetchMeta:t.meta??null};case"success":const s={...r,data:t.data,dataUpdateCount:r.dataUpdateCount+1,dataUpdatedAt:t.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return O(this,ls,t.manual?s:void 0),s;case"error":const i=t.error;return{...r,error:i,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:i,fetchStatus:"idle",status:"error"};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...t.state}}};this.state=n(this.state),Ee.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate()}),_(this,ct).notify({query:this,type:"updated",action:t})})},Ff);function Ig(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:Ag(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function t2(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,n=t!==void 0,r=n?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var $t,Bf,n2=(Bf=class extends Ji{constructor(t={}){super();$(this,$t);this.config=t,O(this,$t,new Map)}build(t,n,r){const s=n.queryKey,i=n.queryHash??dd(s,n);let o=this.get(i);return o||(o=new e2({client:t,queryKey:s,queryHash:i,options:t.defaultQueryOptions(n),state:r,defaultOptions:t.getQueryDefaults(s)}),this.add(o)),o}add(t){_(this,$t).has(t.queryHash)||(_(this,$t).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const n=_(this,$t).get(t.queryHash);n&&(t.destroy(),n===t&&_(this,$t).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){Ee.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return _(this,$t).get(t)}getAll(){return[..._(this,$t).values()]}find(t){const n={exact:!0,...t};return this.getAll().find(r=>sf(n,r))}findAll(t={}){const n=this.getAll();return Object.keys(t).length>0?n.filter(r=>sf(t,r)):n}notify(t){Ee.batch(()=>{this.listeners.forEach(n=>{n(t)})})}onFocus(){Ee.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){Ee.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},$t=new WeakMap,Bf),Mt,Me,cr,Dt,hn,Uf,r2=(Uf=class extends Lg{constructor(t){super();$(this,Dt);$(this,Mt);$(this,Me);$(this,cr);this.mutationId=t.mutationId,O(this,Me,t.mutationCache),O(this,Mt,[]),this.state=t.state||s2(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){_(this,Mt).includes(t)||(_(this,Mt).push(t),this.clearGcTimeout(),_(this,Me).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){O(this,Mt,_(this,Mt).filter(n=>n!==t)),this.scheduleGc(),_(this,Me).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){_(this,Mt).length||(this.state.status==="pending"?this.scheduleGc():_(this,Me).remove(this))}continue(){var t;return((t=_(this,cr))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var i,o,l,u,c,d,h,v,w,g,y,b,m,f,p,x,j,S,N,P;const n=()=>{H(this,Dt,hn).call(this,{type:"continue"})};O(this,cr,Rg({fn:()=>this.options.mutationFn?this.options.mutationFn(t):Promise.reject(new Error("No mutationFn found")),onFail:(D,R)=>{H(this,Dt,hn).call(this,{type:"failed",failureCount:D,error:R})},onPause:()=>{H(this,Dt,hn).call(this,{type:"pause"})},onContinue:n,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>_(this,Me).canRun(this)}));const r=this.state.status==="pending",s=!_(this,cr).canStart();try{if(r)n();else{H(this,Dt,hn).call(this,{type:"pending",variables:t,isPaused:s}),await((o=(i=_(this,Me).config).onMutate)==null?void 0:o.call(i,t,this));const R=await((u=(l=this.options).onMutate)==null?void 0:u.call(l,t));R!==this.state.context&&H(this,Dt,hn).call(this,{type:"pending",context:R,variables:t,isPaused:s})}const D=await _(this,cr).start();return await((d=(c=_(this,Me).config).onSuccess)==null?void 0:d.call(c,D,t,this.state.context,this)),await((v=(h=this.options).onSuccess)==null?void 0:v.call(h,D,t,this.state.context)),await((g=(w=_(this,Me).config).onSettled)==null?void 0:g.call(w,D,null,this.state.variables,this.state.context,this)),await((b=(y=this.options).onSettled)==null?void 0:b.call(y,D,null,t,this.state.context)),H(this,Dt,hn).call(this,{type:"success",data:D}),D}catch(D){try{throw await((f=(m=_(this,Me).config).onError)==null?void 0:f.call(m,D,t,this.state.context,this)),await((x=(p=this.options).onError)==null?void 0:x.call(p,D,t,this.state.context)),await((S=(j=_(this,Me).config).onSettled)==null?void 0:S.call(j,void 0,D,this.state.variables,this.state.context,this)),await((P=(N=this.options).onSettled)==null?void 0:P.call(N,void 0,D,t,this.state.context)),D}finally{H(this,Dt,hn).call(this,{type:"error",error:D})}}finally{_(this,Me).runNext(this)}}},Mt=new WeakMap,Me=new WeakMap,cr=new WeakMap,Dt=new WeakSet,hn=function(t){const n=r=>{switch(t.type){case"failed":return{...r,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...r,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:t.error,failureCount:r.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=n(this.state),Ee.batch(()=>{_(this,Mt).forEach(r=>{r.onMutationUpdate(t)}),_(this,Me).notify({mutation:this,type:"updated",action:t})})},Uf);function s2(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Qt,St,Fi,zf,i2=(zf=class extends Ji{constructor(t={}){super();$(this,Qt);$(this,St);$(this,Fi);this.config=t,O(this,Qt,new Set),O(this,St,new Map),O(this,Fi,0)}build(t,n,r){const s=new r2({mutationCache:this,mutationId:++so(this,Fi)._,options:t.defaultMutationOptions(n),state:r});return this.add(s),s}add(t){_(this,Qt).add(t);const n=No(t);if(typeof n=="string"){const r=_(this,St).get(n);r?r.push(t):_(this,St).set(n,[t])}this.notify({type:"added",mutation:t})}remove(t){if(_(this,Qt).delete(t)){const n=No(t);if(typeof n=="string"){const r=_(this,St).get(n);if(r)if(r.length>1){const s=r.indexOf(t);s!==-1&&r.splice(s,1)}else r[0]===t&&_(this,St).delete(n)}}this.notify({type:"removed",mutation:t})}canRun(t){const n=No(t);if(typeof n=="string"){const r=_(this,St).get(n),s=r==null?void 0:r.find(i=>i.state.status==="pending");return!s||s===t}else return!0}runNext(t){var r;const n=No(t);if(typeof n=="string"){const s=(r=_(this,St).get(n))==null?void 0:r.find(i=>i!==t&&i.state.isPaused);return(s==null?void 0:s.continue())??Promise.resolve()}else return Promise.resolve()}clear(){Ee.batch(()=>{_(this,Qt).forEach(t=>{this.notify({type:"removed",mutation:t})}),_(this,Qt).clear(),_(this,St).clear()})}getAll(){return Array.from(_(this,Qt))}find(t){const n={exact:!0,...t};return this.getAll().find(r=>of(n,r))}findAll(t={}){return this.getAll().filter(n=>of(t,n))}notify(t){Ee.batch(()=>{this.listeners.forEach(n=>{n(t)})})}resumePausedMutations(){const t=this.getAll().filter(n=>n.state.isPaused);return Ee.batch(()=>Promise.all(t.map(n=>n.continue().catch(Ke))))}},Qt=new WeakMap,St=new WeakMap,Fi=new WeakMap,zf);function No(e){var t;return(t=e.options.scope)==null?void 0:t.id}function uf(e){return{onFetch:(t,n)=>{var d,h,v,w,g;const r=t.options,s=(v=(h=(d=t.fetchOptions)==null?void 0:d.meta)==null?void 0:h.fetchMore)==null?void 0:v.direction,i=((w=t.state.data)==null?void 0:w.pages)||[],o=((g=t.state.data)==null?void 0:g.pageParams)||[];let l={pages:[],pageParams:[]},u=0;const c=async()=>{let y=!1;const b=p=>{Object.defineProperty(p,"signal",{enumerable:!0,get:()=>(t.signal.aborted?y=!0:t.signal.addEventListener("abort",()=>{y=!0}),t.signal)})},m=Tg(t.options,t.fetchOptions),f=async(p,x,j)=>{if(y)return Promise.reject();if(x==null&&p.pages.length)return Promise.resolve(p);const N=(()=>{const ie={client:t.client,queryKey:t.queryKey,pageParam:x,direction:j?"backward":"forward",meta:t.options.meta};return b(ie),ie})(),P=await m(N),{maxPages:D}=t.options,R=j?Kb:Wb;return{pages:R(p.pages,P,D),pageParams:R(p.pageParams,x,D)}};if(s&&i.length){const p=s==="backward",x=p?o2:cf,j={pages:i,pageParams:o},S=x(r,j);l=await f(j,S,p)}else{const p=e??i.length;do{const x=u===0?o[0]??r.initialPageParam:cf(r,l);if(u>0&&x==null)break;l=await f(l,x),u++}while(u<p)}return l};t.options.persister?t.fetchFn=()=>{var y,b;return(b=(y=t.options).persister)==null?void 0:b.call(y,c,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},n)}:t.fetchFn=c}}}function cf(e,{pages:t,pageParams:n}){const r=t.length-1;return t.length>0?e.getNextPageParam(t[r],t,n[r],n):void 0}function o2(e,{pages:t,pageParams:n}){var r;return t.length>0?(r=e.getPreviousPageParam)==null?void 0:r.call(e,t[0],t,n[0],n):void 0}var de,bn,_n,us,cs,kn,ds,hs,qf,a2=(qf=class{constructor(e={}){$(this,de);$(this,bn);$(this,_n);$(this,us);$(this,cs);$(this,kn);$(this,ds);$(this,hs);O(this,de,e.queryCache||new n2),O(this,bn,e.mutationCache||new i2),O(this,_n,e.defaultOptions||{}),O(this,us,new Map),O(this,cs,new Map),O(this,kn,0)}mount(){so(this,kn)._++,_(this,kn)===1&&(O(this,ds,fd.subscribe(async e=>{e&&(await this.resumePausedMutations(),_(this,de).onFocus())})),O(this,hs,pa.subscribe(async e=>{e&&(await this.resumePausedMutations(),_(this,de).onOnline())})))}unmount(){var e,t;so(this,kn)._--,_(this,kn)===0&&((e=_(this,ds))==null||e.call(this),O(this,ds,void 0),(t=_(this,hs))==null||t.call(this),O(this,hs,void 0))}isFetching(e){return _(this,de).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return _(this,bn).findAll({...e,status:"pending"}).length}getQueryData(e){var n;const t=this.defaultQueryOptions({queryKey:e});return(n=_(this,de).get(t.queryHash))==null?void 0:n.state.data}ensureQueryData(e){const t=this.defaultQueryOptions(e),n=_(this,de).build(this,t),r=n.state.data;return r===void 0?this.fetchQuery(e):(e.revalidateIfStale&&n.isStaleByTime(Fn(t.staleTime,n))&&this.prefetchQuery(t),Promise.resolve(r))}getQueriesData(e){return _(this,de).findAll(e).map(({queryKey:t,state:n})=>{const r=n.data;return[t,r]})}setQueryData(e,t,n){const r=this.defaultQueryOptions({queryKey:e}),s=_(this,de).get(r.queryHash),i=s==null?void 0:s.state.data,o=Hb(t,i);if(o!==void 0)return _(this,de).build(this,r).setData(o,{...n,manual:!0})}setQueriesData(e,t,n){return Ee.batch(()=>_(this,de).findAll(e).map(({queryKey:r})=>[r,this.setQueryData(r,t,n)]))}getQueryState(e){var n;const t=this.defaultQueryOptions({queryKey:e});return(n=_(this,de).get(t.queryHash))==null?void 0:n.state}removeQueries(e){const t=_(this,de);Ee.batch(()=>{t.findAll(e).forEach(n=>{t.remove(n)})})}resetQueries(e,t){const n=_(this,de);return Ee.batch(()=>(n.findAll(e).forEach(r=>{r.reset()}),this.refetchQueries({type:"active",...e},t)))}cancelQueries(e,t={}){const n={revert:!0,...t},r=Ee.batch(()=>_(this,de).findAll(e).map(s=>s.cancel(n)));return Promise.all(r).then(Ke).catch(Ke)}invalidateQueries(e,t={}){return Ee.batch(()=>(_(this,de).findAll(e).forEach(n=>{n.invalidate()}),(e==null?void 0:e.refetchType)==="none"?Promise.resolve():this.refetchQueries({...e,type:(e==null?void 0:e.refetchType)??(e==null?void 0:e.type)??"active"},t)))}refetchQueries(e,t={}){const n={...t,cancelRefetch:t.cancelRefetch??!0},r=Ee.batch(()=>_(this,de).findAll(e).filter(s=>!s.isDisabled()&&!s.isStatic()).map(s=>{let i=s.fetch(void 0,n);return n.throwOnError||(i=i.catch(Ke)),s.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(r).then(Ke)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const n=_(this,de).build(this,t);return n.isStaleByTime(Fn(t.staleTime,n))?n.fetch(t):Promise.resolve(n.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(Ke).catch(Ke)}fetchInfiniteQuery(e){return e.behavior=uf(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(Ke).catch(Ke)}ensureInfiniteQueryData(e){return e.behavior=uf(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return pa.isOnline()?_(this,bn).resumePausedMutations():Promise.resolve()}getQueryCache(){return _(this,de)}getMutationCache(){return _(this,bn)}getDefaultOptions(){return _(this,_n)}setDefaultOptions(e){O(this,_n,e)}setQueryDefaults(e,t){_(this,us).set(Li(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[..._(this,us).values()],n={};return t.forEach(r=>{Ii(e,r.queryKey)&&Object.assign(n,r.defaultOptions)}),n}setMutationDefaults(e,t){_(this,cs).set(Li(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[..._(this,cs).values()],n={};return t.forEach(r=>{Ii(e,r.mutationKey)&&Object.assign(n,r.defaultOptions)}),n}defaultQueryOptions(e){if(e._defaulted)return e;const t={..._(this,_n).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=dd(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===hd&&(t.enabled=!1),t}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{..._(this,_n).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){_(this,de).clear(),_(this,bn).clear()}},de=new WeakMap,bn=new WeakMap,_n=new WeakMap,us=new WeakMap,cs=new WeakMap,kn=new WeakMap,ds=new WeakMap,hs=new WeakMap,qf),We,V,Bi,De,dr,fs,Gt,jn,Ui,ms,ps,hr,fr,Sn,gs,J,ni,Yu,Xu,Zu,ec,tc,nc,rc,$g,Hf,l2=(Hf=class extends Ji{constructor(t,n){super();$(this,J);$(this,We);$(this,V);$(this,Bi);$(this,De);$(this,dr);$(this,fs);$(this,Gt);$(this,jn);$(this,Ui);$(this,ms);$(this,ps);$(this,hr);$(this,fr);$(this,Sn);$(this,gs,new Set);this.options=n,O(this,We,t),O(this,jn,null),O(this,Gt,Ju()),this.bindMethods(),this.setOptions(n)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(_(this,V).addObserver(this),df(_(this,V),this.options)?H(this,J,ni).call(this):this.updateResult(),H(this,J,ec).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return sc(_(this,V),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return sc(_(this,V),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,H(this,J,tc).call(this),H(this,J,nc).call(this),_(this,V).removeObserver(this)}setOptions(t){const n=this.options,r=_(this,V);if(this.options=_(this,We).defaultQueryOptions(t),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof ht(this.options.enabled,_(this,V))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");H(this,J,rc).call(this),_(this,V).setOptions(this.options),n._defaulted&&!Ku(this.options,n)&&_(this,We).getQueryCache().notify({type:"observerOptionsUpdated",query:_(this,V),observer:this});const s=this.hasListeners();s&&hf(_(this,V),r,this.options,n)&&H(this,J,ni).call(this),this.updateResult(),s&&(_(this,V)!==r||ht(this.options.enabled,_(this,V))!==ht(n.enabled,_(this,V))||Fn(this.options.staleTime,_(this,V))!==Fn(n.staleTime,_(this,V)))&&H(this,J,Yu).call(this);const i=H(this,J,Xu).call(this);s&&(_(this,V)!==r||ht(this.options.enabled,_(this,V))!==ht(n.enabled,_(this,V))||i!==_(this,Sn))&&H(this,J,Zu).call(this,i)}getOptimisticResult(t){const n=_(this,We).getQueryCache().build(_(this,We),t),r=this.createResult(n,t);return c2(this,r)&&(O(this,De,r),O(this,fs,this.options),O(this,dr,_(this,V).state)),r}getCurrentResult(){return _(this,De)}trackResult(t,n){return new Proxy(t,{get:(r,s)=>(this.trackProp(s),n==null||n(s),s==="promise"&&!this.options.experimental_prefetchInRender&&_(this,Gt).status==="pending"&&_(this,Gt).reject(new Error("experimental_prefetchInRender feature flag is not enabled")),Reflect.get(r,s))})}trackProp(t){_(this,gs).add(t)}getCurrentQuery(){return _(this,V)}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const n=_(this,We).defaultQueryOptions(t),r=_(this,We).getQueryCache().build(_(this,We),n);return r.fetch().then(()=>this.createResult(r,n))}fetch(t){return H(this,J,ni).call(this,{...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),_(this,De)))}createResult(t,n){var D;const r=_(this,V),s=this.options,i=_(this,De),o=_(this,dr),l=_(this,fs),c=t!==r?t.state:_(this,Bi),{state:d}=t;let h={...d},v=!1,w;if(n._optimisticResults){const R=this.hasListeners(),ie=!R&&df(t,n),I=R&&hf(t,r,n,s);(ie||I)&&(h={...h,...Ig(d.data,t.options)}),n._optimisticResults==="isRestoring"&&(h.fetchStatus="idle")}let{error:g,errorUpdatedAt:y,status:b}=h;w=h.data;let m=!1;if(n.placeholderData!==void 0&&w===void 0&&b==="pending"){let R;i!=null&&i.isPlaceholderData&&n.placeholderData===(l==null?void 0:l.placeholderData)?(R=i.data,m=!0):R=typeof n.placeholderData=="function"?n.placeholderData((D=_(this,ps))==null?void 0:D.state.data,_(this,ps)):n.placeholderData,R!==void 0&&(b="success",w=Gu(i==null?void 0:i.data,R,n),v=!0)}if(n.select&&w!==void 0&&!m)if(i&&w===(o==null?void 0:o.data)&&n.select===_(this,Ui))w=_(this,ms);else try{O(this,Ui,n.select),w=n.select(w),w=Gu(i==null?void 0:i.data,w,n),O(this,ms,w),O(this,jn,null)}catch(R){O(this,jn,R)}_(this,jn)&&(g=_(this,jn),w=_(this,ms),y=Date.now(),b="error");const f=h.fetchStatus==="fetching",p=b==="pending",x=b==="error",j=p&&f,S=w!==void 0,P={status:b,fetchStatus:h.fetchStatus,isPending:p,isSuccess:b==="success",isError:x,isInitialLoading:j,isLoading:j,data:w,dataUpdatedAt:h.dataUpdatedAt,error:g,errorUpdatedAt:y,failureCount:h.fetchFailureCount,failureReason:h.fetchFailureReason,errorUpdateCount:h.errorUpdateCount,isFetched:h.dataUpdateCount>0||h.errorUpdateCount>0,isFetchedAfterMount:h.dataUpdateCount>c.dataUpdateCount||h.errorUpdateCount>c.errorUpdateCount,isFetching:f,isRefetching:f&&!p,isLoadingError:x&&!S,isPaused:h.fetchStatus==="paused",isPlaceholderData:v,isRefetchError:x&&S,isStale:md(t,n),refetch:this.refetch,promise:_(this,Gt),isEnabled:ht(n.enabled,t)!==!1};if(this.options.experimental_prefetchInRender){const R=M=>{P.status==="error"?M.reject(P.error):P.data!==void 0&&M.resolve(P.data)},ie=()=>{const M=O(this,Gt,P.promise=Ju());R(M)},I=_(this,Gt);switch(I.status){case"pending":t.queryHash===r.queryHash&&R(I);break;case"fulfilled":(P.status==="error"||P.data!==I.value)&&ie();break;case"rejected":(P.status!=="error"||P.error!==I.reason)&&ie();break}}return P}updateResult(){const t=_(this,De),n=this.createResult(_(this,V),this.options);if(O(this,dr,_(this,V).state),O(this,fs,this.options),_(this,dr).data!==void 0&&O(this,ps,_(this,V)),Ku(n,t))return;O(this,De,n);const r=()=>{if(!t)return!0;const{notifyOnChangeProps:s}=this.options,i=typeof s=="function"?s():s;if(i==="all"||!i&&!_(this,gs).size)return!0;const o=new Set(i??_(this,gs));return this.options.throwOnError&&o.add("error"),Object.keys(_(this,De)).some(l=>{const u=l;return _(this,De)[u]!==t[u]&&o.has(u)})};H(this,J,$g).call(this,{listeners:r()})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&H(this,J,ec).call(this)}},We=new WeakMap,V=new WeakMap,Bi=new WeakMap,De=new WeakMap,dr=new WeakMap,fs=new WeakMap,Gt=new WeakMap,jn=new WeakMap,Ui=new WeakMap,ms=new WeakMap,ps=new WeakMap,hr=new WeakMap,fr=new WeakMap,Sn=new WeakMap,gs=new WeakMap,J=new WeakSet,ni=function(t){H(this,J,rc).call(this);let n=_(this,V).fetch(this.options,t);return t!=null&&t.throwOnError||(n=n.catch(Ke)),n},Yu=function(){H(this,J,tc).call(this);const t=Fn(this.options.staleTime,_(this,V));if(_r||_(this,De).isStale||!Wu(t))return;const r=Ng(_(this,De).dataUpdatedAt,t)+1;O(this,hr,setTimeout(()=>{_(this,De).isStale||this.updateResult()},r))},Xu=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(_(this,V)):this.options.refetchInterval)??!1},Zu=function(t){H(this,J,nc).call(this),O(this,Sn,t),!(_r||ht(this.options.enabled,_(this,V))===!1||!Wu(_(this,Sn))||_(this,Sn)===0)&&O(this,fr,setInterval(()=>{(this.options.refetchIntervalInBackground||fd.isFocused())&&H(this,J,ni).call(this)},_(this,Sn)))},ec=function(){H(this,J,Yu).call(this),H(this,J,Zu).call(this,H(this,J,Xu).call(this))},tc=function(){_(this,hr)&&(clearTimeout(_(this,hr)),O(this,hr,void 0))},nc=function(){_(this,fr)&&(clearInterval(_(this,fr)),O(this,fr,void 0))},rc=function(){const t=_(this,We).getQueryCache().build(_(this,We),this.options);if(t===_(this,V))return;const n=_(this,V);O(this,V,t),O(this,Bi,t.state),this.hasListeners()&&(n==null||n.removeObserver(this),t.addObserver(this))},$g=function(t){Ee.batch(()=>{t.listeners&&this.listeners.forEach(n=>{n(_(this,De))}),_(this,We).getQueryCache().notify({query:_(this,V),type:"observerResultsUpdated"})})},Hf);function u2(e,t){return ht(t.enabled,e)!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&t.retryOnMount===!1)}function df(e,t){return u2(e,t)||e.state.data!==void 0&&sc(e,t,t.refetchOnMount)}function sc(e,t,n){if(ht(t.enabled,e)!==!1&&Fn(t.staleTime,e)!=="static"){const r=typeof n=="function"?n(e):n;return r==="always"||r!==!1&&md(e,t)}return!1}function hf(e,t,n,r){return(e!==t||ht(r.enabled,e)===!1)&&(!n.suspense||e.state.status!=="error")&&md(e,n)}function md(e,t){return ht(t.enabled,e)!==!1&&e.isStaleByTime(Fn(t.staleTime,e))}function c2(e,t){return!Ku(e.getCurrentResult(),t)}var Mg=k.createContext(void 0),d2=e=>{const t=k.useContext(Mg);if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},h2=({client:e,children:t})=>(k.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),a.jsx(Mg.Provider,{value:e,children:t})),Dg=k.createContext(!1),f2=()=>k.useContext(Dg);Dg.Provider;function m2(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var p2=k.createContext(m2()),g2=()=>k.useContext(p2),v2=(e,t)=>{(e.suspense||e.throwOnError||e.experimental_prefetchInRender)&&(t.isReset()||(e.retryOnMount=!1))},w2=e=>{k.useEffect(()=>{e.clearReset()},[e])},y2=({result:e,errorResetBoundary:t,throwOnError:n,query:r,suspense:s})=>e.isError&&!t.isReset()&&!e.isFetching&&r&&(s&&e.data===void 0||Qb(n,[e.error,r])),x2=e=>{if(e.suspense){const t=r=>r==="static"?r:Math.max(r??1e3,1e3),n=e.staleTime;e.staleTime=typeof n=="function"?(...r)=>t(n(...r)):t(n),typeof e.gcTime=="number"&&(e.gcTime=Math.max(e.gcTime,1e3))}},b2=(e,t)=>e.isLoading&&e.isFetching&&!t,_2=(e,t)=>(e==null?void 0:e.suspense)&&t.isPending,ff=(e,t,n)=>t.fetchOptimistic(e).catch(()=>{n.clearReset()});function k2(e,t,n){var h,v,w,g,y;const r=f2(),s=g2(),i=d2(),o=i.defaultQueryOptions(e);(v=(h=i.getDefaultOptions().queries)==null?void 0:h._experimental_beforeQuery)==null||v.call(h,o),o._optimisticResults=r?"isRestoring":"optimistic",x2(o),v2(o,s),w2(s);const l=!i.getQueryCache().get(o.queryHash),[u]=k.useState(()=>new t(i,o)),c=u.getOptimisticResult(o),d=!r&&e.subscribed!==!1;if(k.useSyncExternalStore(k.useCallback(b=>{const m=d?u.subscribe(Ee.batchCalls(b)):Ke;return u.updateResult(),m},[u,d]),()=>u.getCurrentResult(),()=>u.getCurrentResult()),k.useEffect(()=>{u.setOptions(o)},[o,u]),_2(o,c))throw ff(o,u,s);if(y2({result:c,errorResetBoundary:s,throwOnError:o.throwOnError,query:i.getQueryCache().get(o.queryHash),suspense:o.suspense}))throw c.error;if((g=(w=i.getDefaultOptions().queries)==null?void 0:w._experimental_afterQuery)==null||g.call(w,o,c),o.experimental_prefetchInRender&&!_r&&b2(c,r)){const b=l?ff(o,u,s):(y=i.getQueryCache().get(o.queryHash))==null?void 0:y.promise;b==null||b.catch(Ke).finally(()=>{u.updateResult()})}return o.notifyOnChangeProps?c:u.trackResult(c)}function Fg(e,t){return k2(e,l2)}async function j2(e,t,n,r=!1){let s=[];if(!r)s=await Ri();else{const o=await ne.from("mandats").select("id, modele, commission_ttc, date_vente, statut, agent_id, photo_url").in("statut",["Vendu","Archivé"]).not("date_vente","is",null).gte("date_vente",e).lt("date_vente",t);if(o.error)throw o.error;s=o.data??[]}return(s??[]).filter(o=>o.date_vente!==null&&["Vendu","Archivé"].includes(o.statut)&&o.date_vente>=e&&o.date_vente<t)}function S2(e){return e.map(t=>({...t,commission_ht:Number(t.commission_ttc??0)/1.2}))}function C2(e){const t=e.reduce((i,o)=>i+Number(o.commission_ttc??0),0),n=e.reduce((i,o)=>i+Number(o.commission_ht??0),0),r=n,s=Eg(r);return console.log("[Facturation]",{nbLignes:e.length,totalTTC:Number(t.toFixed(2)),totalHT:Number(n.toFixed(2)),caHT:Number(r.toFixed(2)),montantCommercial:s}),{totalTTC:Number(t.toFixed(2)),totalHT:Number(n.toFixed(2)),caHT:Number(r.toFixed(2)),montantCommercial:s}}function Fl(e,t,n,r=!1){const{data:s,isLoading:i,error:o}=Fg({queryKey:["facturation",e,t,n,r],queryFn:()=>j2(e,t,n,r)}),l=k.useMemo(()=>s?S2(s):[],[s]),u=k.useMemo(()=>C2(l),[l]);return{rows:l,totals:u,isLoading:i,error:o}}function E2(e=new Date){return new Date(e.getFullYear(),e.getMonth(),1)}function N2(e=new Date){return new Date(e.getFullYear(),e.getMonth()+1,1)}function mf(e){return e.toISOString().slice(0,10)}function P2(){const[e,t]=k.useState(mf(E2())),[n,r]=k.useState(mf(N2())),[s,i]=k.useState(""),o=parseFloat(s.replace(/\s/g,"").replace(",","."))||0,l=d(o/1.2),u=d(o-l),c=[{cap:2e3,rate:.6,label:"0 – 1 999,99"},{cap:4e3,rate:.6,label:"2 000 – 3 999,99"},{cap:7e3,rate:.65,label:"4 000 – 6 999,99"},{cap:11e3,rate:.7,label:"7 000 – 10 999,99"},{cap:15e3,rate:.7,label:"11 000 – 14 999,99"},{cap:1/0,rate:.8,label:"≥ 15 000"}];function d(f){return Math.round((f+Number.EPSILON)*100)/100}function h(f){let p=[],x=0,j=0;for(const S of c){const N=Math.max(0,Math.min(f,S.cap)-x),P=d(N*S.rate);if(p.push({label:S.label,base:N,rate:S.rate,part:P}),j+=P,x=S.cap,f<=S.cap)break}return{rows:p,totalPart:d(j)}}const{rows:v,totalPart:w}=h(l);let g=[],y={totalTTC:0,totalHT:0,caHT:0,montantCommercial:0},b=!1,m=null;try{const f=(Fl==null?void 0:Fl(e,n))||{};g=f.rows??g,y=f.totals??y,b=f.isLoading??!1,m=f.error??null}catch(f){m=f}return a.jsxs("div",{className:"p-4 space-y-4",children:[a.jsxs("div",{className:"rounded-2xl border bg-card shadow-md p-4 space-y-3 max-w-xl mx-auto",children:[a.jsxs("div",{className:"flex flex-col gap-2",children:[a.jsx("label",{htmlFor:"simu-ttc",className:"font-medium",children:"CA TTC à simuler"}),a.jsx("input",{id:"simu-ttc",type:"number",inputMode:"decimal",className:"border rounded-lg p-3 text-lg w-full",placeholder:"Ex: 12000",value:s,onChange:f=>i(f.target.value),min:0,step:"any","aria-label":"CA TTC à simuler"})]}),a.jsxs("div",{className:"flex flex-col sm:flex-row gap-2 text-sm",children:[a.jsxs("div",{children:["TVA : ",a.jsx("span",{className:"font-semibold",children:$r(u)})]}),a.jsxs("div",{children:["CA HT : ",a.jsx("span",{className:"font-semibold",children:$r(l)})]})]}),a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"min-w-full text-sm border mt-2",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"bg-neutral-100 dark:bg-neutral-800",children:[a.jsx("th",{className:"px-2 py-1 text-left",children:"Tranche"}),a.jsx("th",{className:"px-2 py-1 text-right",children:"Base HT"}),a.jsx("th",{className:"px-2 py-1 text-right",children:"%"}),a.jsx("th",{className:"px-2 py-1 text-right",children:"Part du commercial"})]})}),a.jsx("tbody",{children:v.map((f,p)=>a.jsxs("tr",{children:[a.jsx("td",{className:"px-2 py-1 whitespace-nowrap",children:f.label}),a.jsx("td",{className:"px-2 py-1 text-right",children:$r(f.base)}),a.jsxs("td",{className:"px-2 py-1 text-right",children:[Math.round(f.rate*100),"%"]}),a.jsx("td",{className:"px-2 py-1 text-right",children:$r(f.part)})]},p))}),a.jsx("tfoot",{children:a.jsxs("tr",{className:"font-semibold border-t",children:[a.jsx("td",{className:"px-2 py-1 text-right",colSpan:3,children:"TOTAL Part du commercial (HT)"}),a.jsx("td",{className:"px-2 py-1 text-right",children:$r(w)})]})})]})})]}),a.jsx("h1",{className:"text-xl font-semibold",children:"Facturation"}),a.jsxs("div",{className:"flex flex-col sm:flex-row gap-2 sm:items-end",children:[a.jsxs("div",{className:"flex flex-col",children:[a.jsx("label",{className:"text-sm",children:"Début"}),a.jsx("input",{type:"date",value:e,onChange:f=>t(f.target.value),className:"border rounded-lg p-2 w-full"})]}),a.jsxs("div",{className:"flex flex-col",children:[a.jsx("label",{className:"text-sm",children:"Fin (exclusive)"}),a.jsx("input",{type:"date",value:n,onChange:f=>r(f.target.value),className:"border rounded-lg p-2 w-full"})]})]}),a.jsxs("section",{className:"grid grid-cols-2 sm:grid-cols-5 gap-3",children:[a.jsx(Js,{label:"Total TTC",v:y.totalTTC}),a.jsx(Js,{label:"Total HT",v:y.totalHT}),a.jsx(Js,{label:"TVA",v:y.totalTTC-y.totalHT,tva:!0}),a.jsx(Js,{label:"CA HT",v:y.caHT}),a.jsx(Js,{label:"À facturer (HT)",v:y.montantCommercial})]}),b&&a.jsx("p",{children:"Chargement…"}),m&&a.jsxs("p",{className:"text-red-600",children:["Erreur: ",String((m==null?void 0:m.message)||m)]}),!b&&((g==null?void 0:g.length)??0)===0&&a.jsx("p",{children:"Aucune vente sur cette période."}),a.jsx("ul",{className:"space-y-2",children:(g||[]).map(f=>a.jsxs("li",{className:"rounded-2xl border-2 border-gray-200 dark:border-gray-700 bg-card bg-neutral-50 dark:bg-neutral-900 shadow-lg md:shadow-2xl p-4 flex flex-col sm:flex-row sm:items-center gap-2",children:[a.jsx("div",{className:"text-sm opacity-70",children:f.date_vente?new Date(f.date_vente).toLocaleDateString("fr-FR"):"—"}),a.jsx("div",{className:"font-medium flex-1",children:f.modele??"Véhicule"})]},f.id))})]})}function Js({label:e,v:t,hi:n,ht:r,tva:s}){return a.jsxs("div",{className:"rounded-2xl border-2 border-gray-200 dark:border-gray-700 bg-card bg-neutral-50 dark:bg-neutral-900 shadow-lg md:shadow-2xl p-4",children:[a.jsx("div",{className:"text-xs opacity-70",children:e}),a.jsx("div",{className:"text-xl font-semibold",children:$r(t)})]})}function $r(e){const t=Number.isFinite(e)?Number(e):0;return Intl.NumberFormat("fr-FR",{style:"currency",currency:"EUR"}).format(t)}function Bg(e){if(!e.length)return 0;const t=[...e].sort((r,s)=>r-s),n=Math.floor(t.length/2);return t.length%2?t[n]:(t[n-1]+t[n])/2}function dt(e){return Intl.NumberFormat("fr-FR",{style:"currency",currency:"EUR"}).format(e||0)}function T2(e){const t=new Date().getFullYear(),n=e.map(o=>{const l=t-o.annee,u=o.prix+100*(o.km/1e3)+1200*l;return{...o,age:l,prixAjuste:u}}),r=n.map(o=>o.prixAjuste),s=Math.min(...r),i=Math.max(...r);return n.map(o=>{let l=100;return i!==s&&(l=60+40*(i-o.prixAjuste)/(i-s)),{...o,score:l}})}function A2({value:e,onChange:t,options:n}){return a.jsxs("select",{className:"w-full p-2 rounded border",value:e?e.id:"",onChange:r=>{const s=n.find(i=>i.id===r.target.value);t(s||null)},"aria-label":"Sélectionner un véhicule",children:[a.jsx("option",{value:"",children:"Sélectionner un véhicule"}),n.map(r=>a.jsxs("option",{value:r.id,children:[r.marque," ",r.modele," ",r.annee??r.year," ",r.version," (",dt(r.prix_affiche),")"]},r.id))]})}function O2({vehicle:e,readOnly:t}){const n=[{key:"marque",label:"Marque",type:"text"},{key:"modele",label:"Modèle",type:"text"},{key:"annee",label:"Année",type:"number"},{key:"version",label:"Version",type:"text"},{key:"kilometrage",label:"Kilométrage",type:"number"},{key:"prix_affiche",label:"Prix affiché",type:"number"}];return a.jsx("div",{className:"card rounded-2xl border bg-card shadow-md p-4 grid grid-cols-1 gap-3",children:n.map(({key:r,label:s,type:i})=>a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs font-bold mb-1",htmlFor:r,children:s}),a.jsx("input",{id:r,className:"w-full border rounded-lg px-3 py-2 text-sm bg-muted/40 text-foreground/70",type:i,min:0,value:e[r]??"",disabled:t,readOnly:t,tabIndex:t?-1:0})]},r))})}function R2({comparatifs:e,setComparatifs:t,prix_affiche:n,marqueModeleRef:r}){const[s,i]=vs.useState({marqueModele:r||"",annee:"",kilometrage:"",prix:""});vs.useEffect(()=>{i(v=>({...v,marqueModele:r||""}))},[r]);const o=(v,w)=>i(g=>({...g,[v]:w})),l=v=>{if(v.preventDefault(),!s.marqueModele.trim()||!s.annee||!s.kilometrage||!s.prix)return;const w=Number(s.annee),g=Number(s.kilometrage),y=Number(s.prix);t([...e,{marqueModele:s.marqueModele,annee:w,kilometrage:g,prix:y}]),i({marqueModele:r||"",annee:"",kilometrage:"",prix:""})},u=Number(n)||0,c=e.map(v=>Number(v.prix)||0).filter(v=>v>0),d=c.length?c.reduce((v,w)=>v+w,0)/c.length:0;c.length&&Bg(c),c.length&&Math.min(...c),c.length&&Math.max(...c);const h=d-u;return Math.abs(h)<.05*u||`${dt(Math.round(u+h))}`,a.jsx(a.Fragment,{children:a.jsxs("form",{className:"card rounded-2xl border bg-card shadow-md p-4 grid grid-cols-1 gap-3",onSubmit:l,autoComplete:"off",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs font-bold mb-1",htmlFor:"marqueModele",children:"Marque/Modèle"}),a.jsx("input",{id:"marqueModele",className:"w-full border rounded-lg px-3 py-2 text-sm bg-muted/40 text-foreground/70",type:"text",value:s.marqueModele,onChange:v=>o("marqueModele",v.target.value),required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs font-bold mb-1",htmlFor:"annee",children:"Année"}),a.jsx("input",{id:"annee",className:"w-full border rounded-lg px-3 py-2 text-sm bg-muted/40 text-foreground/70",type:"number",value:s.annee,onChange:v=>o("annee",v.target.value),required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs font-bold mb-1",htmlFor:"kilometrage",children:"Kilométrage"}),a.jsx("input",{id:"kilometrage",className:"w-full border rounded-lg px-3 py-2 text-sm bg-muted/40 text-foreground/70",type:"number",value:s.kilometrage,onChange:v=>o("kilometrage",v.target.value),required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs font-bold mb-1",htmlFor:"prix",children:"Prix (€)"}),a.jsx("input",{id:"prix",className:"w-full border rounded-lg px-3 py-2 text-sm bg-muted/40 text-foreground/70",type:"number",step:"any",value:s.prix,onChange:v=>o("prix",v.target.value),required:!0})]}),a.jsx("button",{type:"submit",className:"btn min-h-[44px] mt-2",children:"Ajouter à la comparaison"})]})})}function L2({vehicle:e,comparatifs:t,resume:n}){const r=()=>{let s="";s+=`Fiche véhicule
`,Object.entries(e).forEach(([u,c])=>{s+=`${u};${c}
`}),s+=`
Comparatifs
`,s+=`Marque/Modèle;Année;Km;Prix;€/km;Écart
`,t.forEach(u=>{const c=Number(u.prix)||0,d=Number(u.kilometrage)||0;s+=`${u.marqueModele};${u.annee};${u.kilometrage};${u.prix};${dt(d>0?c/d:0)};${dt(c-(Number(e.prix_affiche)||0))}
`}),s+=`
Résumé
`,Object.entries(n).forEach(([u,c])=>{s+=`${u};${c}
`});const i=new Blob([s],{type:"text/csv"}),o=URL.createObjectURL(i),l=document.createElement("a");l.href=o,l.download="estimation.csv",l.click(),URL.revokeObjectURL(o)};return a.jsx("button",{className:"btn mt-4",onClick:r,children:"Exporter CSV"})}function I2(){const{data:e=[]}=Fg({queryKey:["mandats"],queryFn:Ri}),[t,n]=k.useState(null),[r,s]=k.useState({marque:"",modele:"",annee:0,version:"",kilometrage:0,prix_affiche:0}),[i,o]=k.useState([]),[l,u]=k.useState(!1);vs.useEffect(()=>{if(t){const g=t.annee??t.year??0;s({marque:t.marque,modele:t.modele,annee:g,version:t.version,kilometrage:t.kilometrage,prix_affiche:t.prix_affiche}),u(!0)}else s({marque:"",modele:"",annee:0,version:"",kilometrage:0,prix_affiche:0}),u(!1)},[t]);const c=r.marque&&r.modele?`${r.marque} ${r.modele}`:"",d=i.map(g=>Number(g.prix)||0).filter(g=>g>0),h=k.useMemo(()=>{const g=Number(r.prix_affiche)||0,y=d.length?d.reduce((m,f)=>m+f,0)/d.length:0,b=y-g;return{moyenne:y,mediane:d.length?Bg(d):0,min:d.length?Math.min(...d):0,max:d.length?Math.max(...d):0,deltaMoyen:b,suggestion:d.length?Math.abs(b)<.05*g?"Position OK (au marché)":`Suggéré : ${dt(Math.round(g+b))}`:""}},[i,r.prix_affiche]),v=vs.useMemo(()=>{const g={id:"base",marque:String(r.marque||""),modele:String(r.modele||""),annee:Number(r.annee),km:Number(r.kilometrage),prix:Number(r.prix_affiche)},y=i.map((b,m)=>({id:String(m),marque:String(b.marqueModele).split(" ")[0]||"",modele:String(b.marqueModele).split(" ").slice(1).join(" ")||"",annee:Number(b.annee),km:Number(b.kilometrage),prix:Number(b.prix)}));return T2([g,...y])},[r,i]),w=(g,y,b)=>{g===0?s(m=>({...m,[y==="prix"?"prix_affiche":y]:b})):o(m=>m.map((f,p)=>p===g-1?{...f,[y]:b}:f))};return a.jsxs("div",{className:"p-4 max-w-5xl mx-auto",children:[a.jsx("h1",{className:"text-2xl font-bold mb-4",children:"Estimation"}),a.jsx("div",{className:"mb-4",children:a.jsx(A2,{value:t,onChange:n,options:e})}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsx(O2,{vehicle:r,readOnly:l}),a.jsx(R2,{comparatifs:i,setComparatifs:o,prix_affiche:r.prix_affiche,marqueModeleRef:c})]}),a.jsx("div",{className:"overflow-x-auto mt-6",children:a.jsx("div",{className:"rounded-2xl border-2 border-gray-200 dark:border-gray-700 bg-card bg-neutral-50 dark:bg-neutral-900 shadow-lg md:shadow-2xl p-4",children:a.jsxs("table",{className:"w-full text-sm border-collapse",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"bg-muted/30",children:[a.jsx("th",{className:"text-left font-semibold px-4 py-2 border-b",children:"Marque/Modèle"}),a.jsx("th",{className:"text-left font-semibold px-4 py-2 border-b",children:"Année"}),a.jsx("th",{className:"text-left font-semibold px-4 py-2 border-b",children:"Kilométrage"}),a.jsx("th",{className:"text-right font-semibold px-4 py-2 border-b",children:"Prix (€)"}),a.jsxs("th",{className:"text-right font-semibold px-4 py-2 border-b",children:["Écart vs ",dt(Number(r.prix_affiche)||0)]}),a.jsx("th",{className:"text-right font-semibold px-4 py-2 border-b",children:"Score attractivité (%)"}),a.jsx("th",{className:"text-center font-semibold px-4 py-2 border-b",children:"Actions"})]})}),a.jsx("tbody",{children:v.map((g,y)=>{var j;const b=y===0,m=Number(g.prix)||0,f=Number(g.km)||0,p=Number(r.prix_affiche)||0;let x="text-red-600 font-bold";return g.score>=85?x="text-green-600 font-bold":g.score>=75&&(x="text-orange-500 font-bold"),a.jsxs("tr",{className:b?"bg-yellow-50 font-semibold":y%2?"odd:bg-muted/30":"",children:[a.jsx("td",{className:"px-4 py-2 border-b align-middle",children:b?`${r.marque} ${r.modele}`:(j=i[y-1])==null?void 0:j.marqueModele}),a.jsx("td",{className:"px-4 py-2 border-b align-middle",children:a.jsx("input",{type:"number",className:"w-20 border rounded px-1 py-1 text-sm bg-muted/40 text-foreground/70 text-center",value:g.annee,onChange:S=>w(y,"annee",Number(S.target.value)),style:{background:b?"#fffbe6":void 0}})}),a.jsx("td",{className:"px-4 py-2 border-b align-middle",children:a.jsx("input",{type:"number",className:"w-24 border rounded px-1 py-1 text-sm bg-muted/40 text-foreground/70 text-center",value:f,onChange:S=>w(y,"kilometrage",Number(S.target.value)),style:{background:b?"#fffbe6":void 0}})}),a.jsx("td",{className:"px-4 py-2 border-b align-middle text-right",children:a.jsx("input",{type:"number",className:"w-24 border rounded px-1 py-1 text-sm bg-muted/40 text-foreground/70 text-right",value:m,onChange:S=>w(y,"prix",Number(S.target.value)),style:{background:b?"#fffbe6":void 0}})}),a.jsx("td",{className:"px-4 py-2 border-b align-middle text-right",children:b?"—":dt(m-p)}),a.jsxs("td",{className:`px-4 py-2 border-b align-middle text-right ${x}`,children:[Math.round(g.score),"%"]}),a.jsx("td",{className:"px-4 py-2 border-b align-middle text-center",children:b?a.jsx("span",{className:"text-xs text-gray-400",children:"Référence"}):a.jsx("button",{className:"btn btn-xs min-h-[32px] bg-red-100 text-red-700 rounded-full px-3",onClick:()=>o(i.filter((S,N)=>N!==y-1)),"aria-label":"Supprimer",children:"Supprimer"})})]},y)})})]})})}),a.jsxs("div",{className:"rounded-2xl border-2 border-gray-200 dark:border-gray-700 bg-card bg-neutral-50 dark:bg-neutral-900 shadow-lg md:shadow-2xl p-4 mt-4",children:[a.jsx("div",{className:"font-bold mb-2",children:"Résumé"}),a.jsxs("div",{className:"text-sm grid grid-cols-2 gap-2",children:[a.jsxs("span",{children:["Moyenne: ",dt(h.moyenne)]}),a.jsxs("span",{children:["Médiane: ",dt(h.mediane)]}),a.jsxs("span",{children:["Min: ",dt(h.min)]}),a.jsxs("span",{children:["Max: ",dt(h.max)]}),a.jsxs("span",{children:["Delta moyen: ",dt(h.deltaMoyen)]}),a.jsxs("span",{children:["Suggestion: ",h.suggestion]})]})]}),a.jsx(L2,{vehicle:r,comparatifs:i,resume:h})]})}/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function $i(){return $i=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},$i.apply(this,arguments)}var Nn;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Nn||(Nn={}));const pf="popstate";function $2(e){e===void 0&&(e={});function t(r,s){let{pathname:i,search:o,hash:l}=r.location;return ic("",{pathname:i,search:o,hash:l},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(r,s){return typeof s=="string"?s:ga(s)}return D2(t,n,null,e)}function ue(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Ug(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function M2(){return Math.random().toString(36).substr(2,8)}function gf(e,t){return{usr:e.state,key:e.key,idx:t}}function ic(e,t,n,r){return n===void 0&&(n=null),$i({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?Ls(t):t,{state:n,key:t&&t.key||r||M2()})}function ga(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function Ls(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function D2(e,t,n,r){r===void 0&&(r={});let{window:s=document.defaultView,v5Compat:i=!1}=r,o=s.history,l=Nn.Pop,u=null,c=d();c==null&&(c=0,o.replaceState($i({},o.state,{idx:c}),""));function d(){return(o.state||{idx:null}).idx}function h(){l=Nn.Pop;let b=d(),m=b==null?null:b-c;c=b,u&&u({action:l,location:y.location,delta:m})}function v(b,m){l=Nn.Push;let f=ic(y.location,b,m);c=d()+1;let p=gf(f,c),x=y.createHref(f);try{o.pushState(p,"",x)}catch(j){if(j instanceof DOMException&&j.name==="DataCloneError")throw j;s.location.assign(x)}i&&u&&u({action:l,location:y.location,delta:1})}function w(b,m){l=Nn.Replace;let f=ic(y.location,b,m);c=d();let p=gf(f,c),x=y.createHref(f);o.replaceState(p,"",x),i&&u&&u({action:l,location:y.location,delta:0})}function g(b){let m=s.location.origin!=="null"?s.location.origin:s.location.href,f=typeof b=="string"?b:ga(b);return f=f.replace(/ $/,"%20"),ue(m,"No window.location.(origin|href) available to create URL for href: "+f),new URL(f,m)}let y={get action(){return l},get location(){return e(s,o)},listen(b){if(u)throw new Error("A history only accepts one active listener");return s.addEventListener(pf,h),u=b,()=>{s.removeEventListener(pf,h),u=null}},createHref(b){return t(s,b)},createURL:g,encodeLocation(b){let m=g(b);return{pathname:m.pathname,search:m.search,hash:m.hash}},push:v,replace:w,go(b){return o.go(b)}};return y}var vf;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(vf||(vf={}));function F2(e,t,n){return n===void 0&&(n="/"),B2(e,t,n)}function B2(e,t,n,r){let s=typeof t=="string"?Ls(t):t,i=Cs(s.pathname||"/",n);if(i==null)return null;let o=zg(e);U2(o);let l=null;for(let u=0;l==null&&u<o.length;++u){let c=X2(i);l=J2(o[u],c)}return l}function zg(e,t,n,r){t===void 0&&(t=[]),n===void 0&&(n=[]),r===void 0&&(r="");let s=(i,o,l)=>{let u={relativePath:l===void 0?i.path||"":l,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};u.relativePath.startsWith("/")&&(ue(u.relativePath.startsWith(r),'Absolute route path "'+u.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),u.relativePath=u.relativePath.slice(r.length));let c=Bn([r,u.relativePath]),d=n.concat(u);i.children&&i.children.length>0&&(ue(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),zg(i.children,t,d,c)),!(i.path==null&&!i.index)&&t.push({path:c,score:Q2(c,i.index),routesMeta:d})};return e.forEach((i,o)=>{var l;if(i.path===""||!((l=i.path)!=null&&l.includes("?")))s(i,o);else for(let u of qg(i.path))s(i,o,u)}),t}function qg(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,s=n.endsWith("?"),i=n.replace(/\?$/,"");if(r.length===0)return s?[i,""]:[i];let o=qg(r.join("/")),l=[];return l.push(...o.map(u=>u===""?i:[i,u].join("/"))),s&&l.push(...o),l.map(u=>e.startsWith("/")&&u===""?"/":u)}function U2(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:G2(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const z2=/^:[\w-]+$/,q2=3,H2=2,V2=1,W2=10,K2=-2,wf=e=>e==="*";function Q2(e,t){let n=e.split("/"),r=n.length;return n.some(wf)&&(r+=K2),t&&(r+=H2),n.filter(s=>!wf(s)).reduce((s,i)=>s+(z2.test(i)?q2:i===""?V2:W2),r)}function G2(e,t){return e.length===t.length&&e.slice(0,-1).every((r,s)=>r===t[s])?e[e.length-1]-t[t.length-1]:0}function J2(e,t,n){let{routesMeta:r}=e,s={},i="/",o=[];for(let l=0;l<r.length;++l){let u=r[l],c=l===r.length-1,d=i==="/"?t:t.slice(i.length)||"/",h=oc({path:u.relativePath,caseSensitive:u.caseSensitive,end:c},d),v=u.route;if(!h)return null;Object.assign(s,h.params),o.push({params:s,pathname:Bn([i,h.pathname]),pathnameBase:n_(Bn([i,h.pathnameBase])),route:v}),h.pathnameBase!=="/"&&(i=Bn([i,h.pathnameBase]))}return o}function oc(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=Y2(e.path,e.caseSensitive,e.end),s=t.match(n);if(!s)return null;let i=s[0],o=i.replace(/(.)\/+$/,"$1"),l=s.slice(1);return{params:r.reduce((c,d,h)=>{let{paramName:v,isOptional:w}=d;if(v==="*"){let y=l[h]||"";o=i.slice(0,i.length-y.length).replace(/(.)\/+$/,"$1")}const g=l[h];return w&&!g?c[v]=void 0:c[v]=(g||"").replace(/%2F/g,"/"),c},{}),pathname:i,pathnameBase:o,pattern:e}}function Y2(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!0),Ug(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let r=[],s="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,l,u)=>(r.push({paramName:l,isOptional:u!=null}),u?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(r.push({paramName:"*"}),s+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":e!==""&&e!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,t?void 0:"i"),r]}function X2(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Ug(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function Cs(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}function Z2(e,t){t===void 0&&(t="/");let{pathname:n,search:r="",hash:s=""}=typeof e=="string"?Ls(e):e;return{pathname:n?n.startsWith("/")?n:e_(n,t):t,search:r_(r),hash:s_(s)}}function e_(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function Bl(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function t_(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function pd(e,t){let n=t_(e);return t?n.map((r,s)=>s===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function gd(e,t,n,r){r===void 0&&(r=!1);let s;typeof e=="string"?s=Ls(e):(s=$i({},e),ue(!s.pathname||!s.pathname.includes("?"),Bl("?","pathname","search",s)),ue(!s.pathname||!s.pathname.includes("#"),Bl("#","pathname","hash",s)),ue(!s.search||!s.search.includes("#"),Bl("#","search","hash",s)));let i=e===""||s.pathname==="",o=i?"/":s.pathname,l;if(o==null)l=n;else{let h=t.length-1;if(!r&&o.startsWith("..")){let v=o.split("/");for(;v[0]==="..";)v.shift(),h-=1;s.pathname=v.join("/")}l=h>=0?t[h]:"/"}let u=Z2(s,l),c=o&&o!=="/"&&o.endsWith("/"),d=(i||o===".")&&n.endsWith("/");return!u.pathname.endsWith("/")&&(c||d)&&(u.pathname+="/"),u}const Bn=e=>e.join("/").replace(/\/\/+/g,"/"),n_=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),r_=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,s_=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function i_(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const Hg=["post","put","patch","delete"];new Set(Hg);const o_=["get",...Hg];new Set(o_);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Mi(){return Mi=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Mi.apply(this,arguments)}const Ja=k.createContext(null),Vg=k.createContext(null),an=k.createContext(null),Ya=k.createContext(null),ln=k.createContext({outlet:null,matches:[],isDataRoute:!1}),Wg=k.createContext(null);function a_(e,t){let{relative:n}=t===void 0?{}:t;Is()||ue(!1);let{basename:r,navigator:s}=k.useContext(an),{hash:i,pathname:o,search:l}=Xa(e,{relative:n}),u=o;return r!=="/"&&(u=o==="/"?r:Bn([r,o])),s.createHref({pathname:u,search:l,hash:i})}function Is(){return k.useContext(Ya)!=null}function Er(){return Is()||ue(!1),k.useContext(Ya).location}function Kg(e){k.useContext(an).static||k.useLayoutEffect(e)}function Kn(){let{isDataRoute:e}=k.useContext(ln);return e?x_():l_()}function l_(){Is()||ue(!1);let e=k.useContext(Ja),{basename:t,future:n,navigator:r}=k.useContext(an),{matches:s}=k.useContext(ln),{pathname:i}=Er(),o=JSON.stringify(pd(s,n.v7_relativeSplatPath)),l=k.useRef(!1);return Kg(()=>{l.current=!0}),k.useCallback(function(c,d){if(d===void 0&&(d={}),!l.current)return;if(typeof c=="number"){r.go(c);return}let h=gd(c,JSON.parse(o),i,d.relative==="path");e==null&&t!=="/"&&(h.pathname=h.pathname==="/"?t:Bn([t,h.pathname])),(d.replace?r.replace:r.push)(h,d.state,d)},[t,r,o,i,e])}function Qg(){let{matches:e}=k.useContext(ln),t=e[e.length-1];return t?t.params:{}}function Xa(e,t){let{relative:n}=t===void 0?{}:t,{future:r}=k.useContext(an),{matches:s}=k.useContext(ln),{pathname:i}=Er(),o=JSON.stringify(pd(s,r.v7_relativeSplatPath));return k.useMemo(()=>gd(e,JSON.parse(o),i,n==="path"),[e,o,i,n])}function u_(e,t){return c_(e,t)}function c_(e,t,n,r){Is()||ue(!1);let{navigator:s}=k.useContext(an),{matches:i}=k.useContext(ln),o=i[i.length-1],l=o?o.params:{};o&&o.pathname;let u=o?o.pathnameBase:"/";o&&o.route;let c=Er(),d;if(t){var h;let b=typeof t=="string"?Ls(t):t;u==="/"||(h=b.pathname)!=null&&h.startsWith(u)||ue(!1),d=b}else d=c;let v=d.pathname||"/",w=v;if(u!=="/"){let b=u.replace(/^\//,"").split("/");w="/"+v.replace(/^\//,"").split("/").slice(b.length).join("/")}let g=F2(e,{pathname:w}),y=p_(g&&g.map(b=>Object.assign({},b,{params:Object.assign({},l,b.params),pathname:Bn([u,s.encodeLocation?s.encodeLocation(b.pathname).pathname:b.pathname]),pathnameBase:b.pathnameBase==="/"?u:Bn([u,s.encodeLocation?s.encodeLocation(b.pathnameBase).pathname:b.pathnameBase])})),i,n,r);return t&&y?k.createElement(Ya.Provider,{value:{location:Mi({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:Nn.Pop}},y):y}function d_(){let e=y_(),t=i_(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return k.createElement(k.Fragment,null,k.createElement("h2",null,"Unexpected Application Error!"),k.createElement("h3",{style:{fontStyle:"italic"}},t),n?k.createElement("pre",{style:s},n):null,null)}const h_=k.createElement(d_,null);class f_ extends k.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,n){return n.location!==t.location||n.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:n.error,location:n.location,revalidation:t.revalidation||n.revalidation}}componentDidCatch(t,n){console.error("React Router caught the following error during render",t,n)}render(){return this.state.error!==void 0?k.createElement(ln.Provider,{value:this.props.routeContext},k.createElement(Wg.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function m_(e){let{routeContext:t,match:n,children:r}=e,s=k.useContext(Ja);return s&&s.static&&s.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=n.route.id),k.createElement(ln.Provider,{value:t},r)}function p_(e,t,n,r){var s;if(t===void 0&&(t=[]),n===void 0&&(n=null),r===void 0&&(r=null),e==null){var i;if(!n)return null;if(n.errors)e=n.matches;else if((i=r)!=null&&i.v7_partialHydration&&t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let o=e,l=(s=n)==null?void 0:s.errors;if(l!=null){let d=o.findIndex(h=>h.route.id&&(l==null?void 0:l[h.route.id])!==void 0);d>=0||ue(!1),o=o.slice(0,Math.min(o.length,d+1))}let u=!1,c=-1;if(n&&r&&r.v7_partialHydration)for(let d=0;d<o.length;d++){let h=o[d];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(c=d),h.route.id){let{loaderData:v,errors:w}=n,g=h.route.loader&&v[h.route.id]===void 0&&(!w||w[h.route.id]===void 0);if(h.route.lazy||g){u=!0,c>=0?o=o.slice(0,c+1):o=[o[0]];break}}}return o.reduceRight((d,h,v)=>{let w,g=!1,y=null,b=null;n&&(w=l&&h.route.id?l[h.route.id]:void 0,y=h.route.errorElement||h_,u&&(c<0&&v===0?(b_("route-fallback"),g=!0,b=null):c===v&&(g=!0,b=h.route.hydrateFallbackElement||null)));let m=t.concat(o.slice(0,v+1)),f=()=>{let p;return w?p=y:g?p=b:h.route.Component?p=k.createElement(h.route.Component,null):h.route.element?p=h.route.element:p=d,k.createElement(m_,{match:h,routeContext:{outlet:d,matches:m,isDataRoute:n!=null},children:p})};return n&&(h.route.ErrorBoundary||h.route.errorElement||v===0)?k.createElement(f_,{location:n.location,revalidation:n.revalidation,component:y,error:w,children:f(),routeContext:{outlet:null,matches:m,isDataRoute:!0}}):f()},null)}var Gg=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(Gg||{}),Jg=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(Jg||{});function g_(e){let t=k.useContext(Ja);return t||ue(!1),t}function v_(e){let t=k.useContext(Vg);return t||ue(!1),t}function w_(e){let t=k.useContext(ln);return t||ue(!1),t}function Yg(e){let t=w_(),n=t.matches[t.matches.length-1];return n.route.id||ue(!1),n.route.id}function y_(){var e;let t=k.useContext(Wg),n=v_(),r=Yg();return t!==void 0?t:(e=n.errors)==null?void 0:e[r]}function x_(){let{router:e}=g_(Gg.UseNavigateStable),t=Yg(Jg.UseNavigateStable),n=k.useRef(!1);return Kg(()=>{n.current=!0}),k.useCallback(function(s,i){i===void 0&&(i={}),n.current&&(typeof s=="number"?e.navigate(s):e.navigate(s,Mi({fromRouteId:t},i)))},[e,t])}const yf={};function b_(e,t,n){yf[e]||(yf[e]=!0)}function __(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function Xg(e){let{to:t,replace:n,state:r,relative:s}=e;Is()||ue(!1);let{future:i,static:o}=k.useContext(an),{matches:l}=k.useContext(ln),{pathname:u}=Er(),c=Kn(),d=gd(t,pd(l,i.v7_relativeSplatPath),u,s==="path"),h=JSON.stringify(d);return k.useEffect(()=>c(JSON.parse(h),{replace:n,state:r,relative:s}),[c,h,s,n,r]),null}function Rt(e){ue(!1)}function k_(e){let{basename:t="/",children:n=null,location:r,navigationType:s=Nn.Pop,navigator:i,static:o=!1,future:l}=e;Is()&&ue(!1);let u=t.replace(/^\/*/,"/"),c=k.useMemo(()=>({basename:u,navigator:i,static:o,future:Mi({v7_relativeSplatPath:!1},l)}),[u,l,i,o]);typeof r=="string"&&(r=Ls(r));let{pathname:d="/",search:h="",hash:v="",state:w=null,key:g="default"}=r,y=k.useMemo(()=>{let b=Cs(d,u);return b==null?null:{location:{pathname:b,search:h,hash:v,state:w,key:g},navigationType:s}},[u,d,h,v,w,g,s]);return y==null?null:k.createElement(an.Provider,{value:c},k.createElement(Ya.Provider,{children:n,value:y}))}function j_(e){let{children:t,location:n}=e;return u_(ac(t),n)}new Promise(()=>{});function ac(e,t){t===void 0&&(t=[]);let n=[];return k.Children.forEach(e,(r,s)=>{if(!k.isValidElement(r))return;let i=[...t,s];if(r.type===k.Fragment){n.push.apply(n,ac(r.props.children,i));return}r.type!==Rt&&ue(!1),!r.props.index||!r.props.children||ue(!1);let o={id:r.props.id||i.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=ac(r.props.children,i)),n.push(o)}),n}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function va(){return va=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},va.apply(this,arguments)}function Zg(e,t){if(e==null)return{};var n={},r=Object.keys(e),s,i;for(i=0;i<r.length;i++)s=r[i],!(t.indexOf(s)>=0)&&(n[s]=e[s]);return n}function S_(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function C_(e,t){return e.button===0&&(!t||t==="_self")&&!S_(e)}const E_=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],N_=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],P_="6";try{window.__reactRouterVersion=P_}catch{}const T_=k.createContext({isTransitioning:!1}),A_="startTransition",xf=pw[A_];function O_(e){let{basename:t,children:n,future:r,window:s}=e,i=k.useRef();i.current==null&&(i.current=$2({window:s,v5Compat:!0}));let o=i.current,[l,u]=k.useState({action:o.action,location:o.location}),{v7_startTransition:c}=r||{},d=k.useCallback(h=>{c&&xf?xf(()=>u(h)):u(h)},[u,c]);return k.useLayoutEffect(()=>o.listen(d),[o,d]),k.useEffect(()=>__(r),[r]),k.createElement(k_,{basename:t,children:n,location:l.location,navigationType:l.action,navigator:o,future:r})}const R_=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",L_=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,I_=k.forwardRef(function(t,n){let{onClick:r,relative:s,reloadDocument:i,replace:o,state:l,target:u,to:c,preventScrollReset:d,viewTransition:h}=t,v=Zg(t,E_),{basename:w}=k.useContext(an),g,y=!1;if(typeof c=="string"&&L_.test(c)&&(g=c,R_))try{let p=new URL(window.location.href),x=c.startsWith("//")?new URL(p.protocol+c):new URL(c),j=Cs(x.pathname,w);x.origin===p.origin&&j!=null?c=j+x.search+x.hash:y=!0}catch{}let b=a_(c,{relative:s}),m=D_(c,{replace:o,state:l,target:u,preventScrollReset:d,relative:s,viewTransition:h});function f(p){r&&r(p),p.defaultPrevented||m(p)}return k.createElement("a",va({},v,{href:g||b,onClick:y||i?r:f,ref:n,target:u}))}),$_=k.forwardRef(function(t,n){let{"aria-current":r="page",caseSensitive:s=!1,className:i="",end:o=!1,style:l,to:u,viewTransition:c,children:d}=t,h=Zg(t,N_),v=Xa(u,{relative:h.relative}),w=Er(),g=k.useContext(Vg),{navigator:y,basename:b}=k.useContext(an),m=g!=null&&F_(v)&&c===!0,f=y.encodeLocation?y.encodeLocation(v).pathname:v.pathname,p=w.pathname,x=g&&g.navigation&&g.navigation.location?g.navigation.location.pathname:null;s||(p=p.toLowerCase(),x=x?x.toLowerCase():null,f=f.toLowerCase()),x&&b&&(x=Cs(x,b)||x);const j=f!=="/"&&f.endsWith("/")?f.length-1:f.length;let S=p===f||!o&&p.startsWith(f)&&p.charAt(j)==="/",N=x!=null&&(x===f||!o&&x.startsWith(f)&&x.charAt(f.length)==="/"),P={isActive:S,isPending:N,isTransitioning:m},D=S?r:void 0,R;typeof i=="function"?R=i(P):R=[i,S?"active":null,N?"pending":null,m?"transitioning":null].filter(Boolean).join(" ");let ie=typeof l=="function"?l(P):l;return k.createElement(I_,va({},h,{"aria-current":D,className:R,ref:n,style:ie,to:u,viewTransition:c}),typeof d=="function"?d(P):d)});var lc;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(lc||(lc={}));var bf;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(bf||(bf={}));function M_(e){let t=k.useContext(Ja);return t||ue(!1),t}function D_(e,t){let{target:n,replace:r,state:s,preventScrollReset:i,relative:o,viewTransition:l}=t===void 0?{}:t,u=Kn(),c=Er(),d=Xa(e,{relative:o});return k.useCallback(h=>{if(C_(h,n)){h.preventDefault();let v=r!==void 0?r:ga(c)===ga(d);u(e,{replace:v,state:s,preventScrollReset:i,relative:o,viewTransition:l})}},[c,u,d,r,s,n,e,i,o,l])}function F_(e,t){t===void 0&&(t={});let n=k.useContext(T_);n==null&&ue(!1);let{basename:r}=M_(lc.useViewTransitionState),s=Xa(e,{relative:t.relative});if(!n.isTransitioning)return!1;let i=Cs(n.currentLocation.pathname,r)||n.currentLocation.pathname,o=Cs(n.nextLocation.pathname,r)||n.nextLocation.pathname;return oc(s.pathname,o)!=null||oc(s.pathname,i)!=null}function B_(){const e=Kn(),[t,n]=k.useState(""),[r,s]=k.useState(""),[i,o]=k.useState(""),[l,u]=k.useState(!1),c=async d=>{d.preventDefault(),o(""),u(!0);const{error:h}=await ne.auth.signInWithPassword({email:t,password:r});u(!1),h?o("Identifiants invalides"):e("/dashboard")};return a.jsxs("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-black via-green-900 to-yellow-200 relative",children:[a.jsx("div",{className:"absolute inset-0 pointer-events-none",children:a.jsx("div",{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-[480px] h-[380px] rounded-full blur-3xl opacity-50 bg-gradient-to-br from-yellow-300 via-green-400 to-green-800 shadow-2xl"})}),a.jsxs("form",{onSubmit:c,className:"relative z-10 w-full max-w-xl mx-4 sm:mx-auto rounded-3xl bg-black/90 border-4 border-yellow-400 shadow-[0_8px_40px_4px_rgba(34,197,94,0.4)] px-8 py-10 flex flex-col items-center gap-8",style:{boxShadow:"0 8px 40px 4px rgba(34,197,94,0.25), 0 0 24px 6px #facc15aa"},children:[a.jsxs("div",{className:"flex flex-col items-center gap-2",children:[a.jsx("h1",{className:"text-4xl md:text-5xl font-extrabold text-white tracking-tight drop-shadow-[0_2px_6px_rgba(250,204,21,0.3)]",children:"CarActif CRM"}),a.jsx("span",{className:"text-yellow-400 font-bold tracking-wider text-lg md:text-2xl drop-shadow",children:"Connexion"})]}),i&&a.jsx("div",{className:"w-full bg-red-200 text-red-700 px-4 py-2 rounded-lg text-center font-bold border-2 border-red-400 shadow",children:i}),a.jsxs("div",{className:"w-full flex flex-col gap-5",children:[a.jsxs("div",{children:[a.jsx("label",{htmlFor:"email",className:"block text-gray-200 font-bold mb-2 text-lg",children:"Email"}),a.jsx("input",{id:"email",type:"email",placeholder:"ex : agent@caractif.fr",value:t,onChange:d=>n(d.target.value),className:"w-full py-3 px-4 rounded-2xl bg-black/70 border-2 border-green-400 focus:border-yellow-400 text-white placeholder-gray-400 outline-none text-lg transition shadow-md",required:!0,autoComplete:"email"})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"password",className:"block text-gray-200 font-bold mb-2 text-lg",children:"Mot de passe"}),a.jsx("input",{id:"password",type:"password",placeholder:"Votre mot de passe",value:r,onChange:d=>s(d.target.value),className:"w-full py-3 px-4 rounded-2xl bg-black/70 border-2 border-green-400 focus:border-yellow-400 text-white placeholder-gray-400 outline-none text-lg transition shadow-md",required:!0,autoComplete:"current-password"})]})]}),a.jsx("button",{type:"submit",className:"w-full py-3 rounded-2xl font-extrabold bg-gradient-to-r from-green-400 via-yellow-300 to-yellow-500 text-black shadow-xl text-xl tracking-wide hover:from-green-500 hover:to-yellow-400 hover:scale-[1.03] transition-all duration-200 border-2 border-yellow-400 focus:ring-4 focus:ring-green-300",disabled:l,style:{textShadow:"0 2px 12px #fde047cc, 0 1px 4px #05966955"},children:l?"Connexion…":"Se connecter"})]})]})}function U_({mandats:e=[]}){const t=e.filter(r=>["Mandat signé","Publié","Sous offre"].includes(r.statut));function n(r){return Number.isFinite(r)?r.toLocaleString("fr-FR",{style:"currency",currency:"EUR",maximumFractionDigits:0}):"—"}return a.jsxs("div",{className:"rounded-2xl border-2 border-gray-200 dark:border-gray-700 bg-card bg-neutral-50 dark:bg-neutral-900 shadow-lg md:shadow-2xl p-4",children:[a.jsx("h3",{className:"font-bold text-[#4ADE80] mb-2 text-lg",children:"Véhicules en stock"}),a.jsx("div",{className:"max-h-96 overflow-auto divide-y divide-gray-200",children:t.length===0?a.jsx("div",{className:"text-gray-400 text-sm",children:"Aucun mandat en stock."}):t.map(r=>a.jsxs("div",{className:"py-2 flex items-center justify-between text-xs sm:text-base",children:[a.jsxs("div",{children:[a.jsxs("span",{className:"font-bold text-black",children:[r.marque," ",r.modele]}),r.finition&&a.jsx("span",{className:"text-gray-500 ml-1",children:r.finition})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"px-2 py-0.5 rounded text-xs font-semibold bg-gray-900/80 text-white",children:r.statut}),a.jsx("span",{className:"text-green-700 font-bold",children:n(Number(r.prix_affiche))}),a.jsx("span",{className:"text-blue-700 font-bold",children:n(Number(r.commission_ttc))})]})]},r.id))})]})}function z_({mandats:e=[]}){const t=[...e].filter(n=>["Vendu","Archivé"].includes(n.statut)&&n.date_vente).sort((n,r)=>new Date(r.date_vente)-new Date(n.date_vente)).slice(0,5);return a.jsxs("div",{className:"rounded-2xl border-2 border-gray-200 dark:border-gray-700 bg-card bg-neutral-50 dark:bg-neutral-900 shadow-lg md:shadow-2xl p-4",children:[a.jsx("h3",{className:"font-bold text-[#4ADE80] mb-2 text-lg",children:"5 derniers vendus"}),a.jsx("div",{className:"divide-y divide-gray-200",children:t.length===0?a.jsx("div",{className:"text-gray-400 text-sm",children:"Aucun véhicule vendu récemment."}):t.map(n=>a.jsxs("div",{className:"py-2 flex items-center justify-between text-xs sm:text-base",children:[a.jsxs("div",{children:[a.jsxs("span",{className:"font-bold text-black",children:[n.marque," ",n.modele]}),n.finition&&a.jsx("span",{className:"text-gray-500 ml-1",children:n.finition})]}),a.jsx("div",{className:"flex items-center gap-2",children:a.jsx("span",{className:"px-2 py-0.5 rounded text-xs font-semibold bg-gray-900/80 text-white",children:new Date(n.date_vente).toLocaleDateString("fr-FR")})})]},n.id))})]})}function q_(e){return new Date(e+"-01").toLocaleDateString("fr-FR",{month:"short",year:"2-digit"})}function H_({mandats:e=[]}){const t=k.useMemo(()=>e.filter(n=>["Vendu","Archivé"].includes(n.statut)&&n.date_vente),[e]);return k.useMemo(()=>{const n={};t.forEach(i=>{const o=new Date(i.date_vente),l=o.getFullYear(),u=(o.getMonth()+1).toString().padStart(2,"0"),c=`${l}-${u}`;n[c]=(n[c]||0)+(Number(i.commission_ttc)||0)/1.2});const r=new Date,s=[];for(let i=5;i>=0;i--){const o=new Date(r.getFullYear(),r.getMonth()-i,1),l=o.getFullYear(),u=(o.getMonth()+1).toString().padStart(2,"0"),c=`${l}-${u}`;s.push({month:q_(c),caht:Math.round(n[c]||0)})}return s},[t]),a.jsxs("div",{className:"grid md:grid-cols-2 gap-4 w-full",children:[a.jsx(U_,{mandats:e}),a.jsx(z_,{mandats:e})]})}function V_({todos:e=[],onAdd:t,onToggle:n,onDelete:r,onEdit:s,loading:i=!1}){const[o,l]=k.useState(""),[u,c]=k.useState(null),[d,h]=k.useState(""),v=g=>{g.preventDefault(),o.trim()&&(t&&t(o),l(""))},w=g=>{d.trim()&&(s&&s(g,d),c(null),h(""))};return a.jsxs("div",{className:"rounded-2xl border-2 border-gray-200 dark:border-gray-700 bg-card bg-neutral-50 dark:bg-neutral-900 shadow-lg md:shadow-2xl p-4",children:[a.jsx("h3",{className:"font-bold text-[#4ADE80] mb-2 text-lg",children:"To-do CRM"}),a.jsxs("form",{onSubmit:v,className:"flex gap-2 mb-4",children:[a.jsx("input",{type:"text",value:o,onChange:g=>l(g.target.value),className:"border rounded px-3 py-2 text-white bg-black/80 flex-1 focus:ring-2 focus:ring-[#4ADE80] text-base placeholder-gray-400",placeholder:"Ajouter une tâche..."}),a.jsx("button",{type:"submit",className:"px-4 py-2 bg-[#4ADE80] text-black rounded font-bold hover:bg-[#6EE7B7] transition-all",children:"Ajouter"})]}),a.jsx("div",{className:"max-h-64 overflow-auto",children:i?a.jsx("p",{className:"text-gray-200 pl-2",children:"Chargement…"}):a.jsxs("ul",{className:"space-y-2",children:[e.map(g=>a.jsxs("li",{className:"flex items-center gap-3 group text-xs sm:text-base bg-[#181e29] rounded-lg px-3 py-2 border border-transparent hover:border-[#4ADE80] transition-all",children:[a.jsx("input",{type:"checkbox",checked:g.done,onChange:()=>n&&n(g.id,g.done),className:"accent-[#4ADE80]"}),u===g.id?a.jsxs("div",{className:"flex flex-col sm:flex-row gap-2 w-full bg-[#232b3a] p-3 rounded-lg border border-[#4ADE80] shadow-lg",children:[a.jsx("input",{type:"text",value:d,onChange:y=>h(y.target.value),className:"border rounded px-3 py-2 text-white bg-black/80 flex-1 focus:ring-2 focus:ring-[#4ADE80] text-base placeholder-gray-400",autoFocus:!0,onKeyDown:y=>{y.key==="Enter"&&w(g.id),y.key==="Escape"&&(c(null),h(""))},placeholder:"Modifier la tâche..."}),a.jsxs("div",{className:"flex gap-2 mt-2 sm:mt-0",children:[a.jsx("button",{onClick:()=>w(g.id),className:"px-4 py-2 bg-[#4ADE80] text-black rounded font-bold hover:bg-[#6EE7B7] transition-all",children:"Valider"}),a.jsx("button",{onClick:()=>{c(null),h("")},className:"px-4 py-2 bg-gray-300 text-black rounded font-bold hover:bg-gray-400 transition-all",children:"Annuler"})]})]}):a.jsxs(a.Fragment,{children:[a.jsx("span",{className:g.done?"line-through text-gray-500":"text-white",children:g.text}),a.jsx("button",{onClick:()=>{c(g.id),h(g.text)},className:"ml-2 text-blue-400 hover:text-blue-600 transition text-sm font-bold",title:"Modifier",children:"Modifier"})]}),a.jsx("button",{onClick:()=>r&&r(g.id),className:"ml-auto text-red-400 hover:text-red-600 transition",title:"Supprimer",children:"🗑"})]},g.id)),e.length===0&&a.jsx("li",{className:"text-gray-200",children:"Aucune tâche."})]})})]})}function _f(e){const t=new Date(e);return Math.floor((new Date-t)/(1e3*60*60*24))}function W_({mandats:e=[]}){const t=e.filter(n=>{if(n.statut!=="Publié")return!1;const r=n.date_publication||n.created_at;return r?_f(r)>60:!1});return a.jsxs("div",{className:"rounded-2xl border-2 border-gray-200 dark:border-gray-700 bg-card bg-neutral-50 dark:bg-neutral-900 shadow-lg md:shadow-2xl p-4 max-h-80 overflow-auto",children:[a.jsx("h3",{className:"font-bold text-[#4ADE80] mb-2 text-lg",children:"Mandats en retard"}),t.length===0?a.jsx("div",{className:"text-gray-400 text-sm",children:"Aucun mandat en retard."}):a.jsx("ul",{className:"space-y-2",children:t.map(n=>a.jsxs("li",{className:"flex flex-col sm:flex-row sm:items-center justify-between bg-[#181e29] rounded-lg px-3 py-2 border border-transparent hover:border-[#4ADE80] transition-all text-xs sm:text-base",children:[a.jsx("div",{children:a.jsxs("span",{className:"font-bold text-black",children:[n.marque," ",n.modele]})}),a.jsxs("div",{className:"text-gray-500 text-xs sm:text-sm",children:["en ligne depuis ",_f(n.date_publication||n.created_at)," jours"]})]},n.id))})]})}function K_(){const e=Kn(),[t,n]=k.useState(null),[r,s]=k.useState(""),[i,o]=k.useState({stock:0,commission:0,ventes:0,caht:0}),[l,u]=k.useState(!0),[c,d]=k.useState([]),[h,v]=k.useState(!0);k.useEffect(()=>{t&&(v(!0),Ri().then(I=>d(I||[])).catch(()=>d([])).finally(()=>v(!1)))},[t]);const[w,g]=k.useState([]),[y,b]=k.useState(""),[m,f]=k.useState(!1);k.useEffect(()=>{(async()=>{const{data:M,error:fe}=await ne.auth.getSession();if(fe||!M.session)e("/");else{n(M.session.user);const{data:Se}=await ne.from("agents").select("prenom").eq("id",M.session.user.id).single();Se&&Se.prenom&&s(Se.prenom)}})()},[e]),k.useEffect(()=>{if(!t)return;(async()=>{f(!0);const{data:M,error:fe}=await ne.from("todos").select("*").eq("user_id",t.id).order("created_at",{ascending:!0});fe||g(M),f(!1)})()},[t]);const[p,x]=k.useState(null),[j,S]=k.useState(""),[N,P]=k.useState(!1);[{name:"Mandat signé",color:"bg-gray-800 text-gray-100"},{name:"Publié",color:"bg-gray-700 text-gray-100"},{name:"Sous offre",color:"bg-gray-700 text-gray-100"},{name:"Vendu",color:"bg-gray-700 text-gray-100"},{name:"Archivé",color:"bg-gray-900 text-gray-400"}].map(I=>({...I,count:c.filter(M=>(M.statut||"Mandat signé")===I.name).length})),k.useMemo(()=>{const I={};return c.forEach(M=>{I[M.statut||"Mandat signé"]=(I[M.statut||"Mandat signé"]||0)+1}),Object.entries(I).map(([M,fe])=>({name:M,value:fe}))},[c]),c.length>0&&c.reduce((I,M)=>Number(M.commission_ttc)>Number(I.commission_ttc)?M:I,c[0]),[...c].sort((I,M)=>new Date(M.date_ajout||M.created_at)-new Date(I.date_ajout||I.created_at)).slice(0,4);function R(I){return Number.isFinite(I)?I.toLocaleString("fr-FR",{style:"currency",currency:"EUR",maximumFractionDigits:0}):"—"}function ie(I=new Date){const M=I.getFullYear(),fe=I.getMonth(),Se=new Date(M,fe,1),Te=new Date(M,fe+1,1);return[Se.toISOString().slice(0,10),Te.toISOString().slice(0,10)]}return k.useEffect(()=>{async function I(){u(!0);try{const M=await Ri(),fe=(M??[]).filter(G=>["Mandat signé","Publié","Sous offre"].includes(G.statut)).length,Se=(M??[]).filter(G=>["Publié","Sous offre"].includes(G.statut)).reduce((G,un)=>G+(Number(un.commission_ttc)||0)/1.2,0),Te=Eg(Se),[Bs,T]=ie(),F=(M??[]).filter(G=>["Vendu","Archivé"].includes(G.statut)&&G.date_vente>=Bs&&G.date_vente<T),U=F.length,oe=F.reduce((G,un)=>G+(Number(un.commission_ttc)||0)/1.2,0);o({stock:fe,commission:Te,ventes:U,caht:oe})}catch{o({stock:0,commission:0,ventes:0,caht:0})}u(!1)}I()},[]),a.jsx("div",{className:"min-h-screen w-full flex flex-col justify-start items-center bg-background",children:a.jsxs("div",{className:"w-full max-w-7xl mx-auto p-2 sm:p-6",children:[a.jsxs("h1",{className:"text-2xl sm:text-3xl font-extrabold mb-4 text-center sm:text-left text-black tracking-wide",children:["Bienvenue ",a.jsx("span",{className:"text-[#166534]",children:r||"utilisateur"})," 👋"]}),a.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-7",children:[a.jsxs("div",{className:"rounded-2xl border-2 border-gray-200 dark:border-gray-700 bg-card bg-neutral-50 dark:bg-neutral-900 shadow-lg md:shadow-2xl p-4 flex flex-col items-center",children:[a.jsx("span",{className:"text-base font-bold text-gray-400",children:"Véhicules en stock"}),a.jsx("span",{className:"text-2xl sm:text-3xl font-extrabold text-[#166534]",children:l?"…":i.stock})]}),a.jsxs("div",{className:"rounded-2xl border-2 border-gray-200 dark:border-gray-700 bg-card bg-neutral-50 dark:bg-neutral-900 shadow-lg md:shadow-2xl p-4 flex flex-col items-center",children:[a.jsx("span",{className:"text-base font-bold text-gray-400",children:"Commission potentielle (HT)"}),a.jsx("span",{className:"text-2xl sm:text-3xl font-extrabold text-[#166534]",children:l?"…":R(i.commission)})]}),a.jsxs("div",{className:"rounded-2xl border-2 border-gray-200 dark:border-gray-700 bg-card bg-neutral-50 dark:bg-neutral-900 shadow-lg md:shadow-2xl p-4 flex flex-col items-center",children:[a.jsx("span",{className:"text-base font-bold text-gray-400",children:"Ventes (mois en cours)"}),a.jsx("span",{className:"text-2xl sm:text-3xl font-extrabold text-[#166534]",children:l?"…":i.ventes})]}),a.jsxs("div",{className:"rounded-2xl border-2 border-gray-200 dark:border-gray-700 bg-card bg-neutral-50 dark:bg-neutral-900 shadow-lg md:shadow-2xl p-4 flex flex-col items-center",children:[a.jsx("span",{className:"text-base font-bold text-gray-400",children:"CA HT (mois en cours)"}),a.jsx("span",{className:"text-2xl sm:text-3xl font-extrabold text-[#166534]",children:l?"…":R(i.caht)})]})]}),a.jsx("div",{className:"mb-8",children:a.jsx(H_,{mandats:c})}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mt-8",children:[a.jsx(V_,{todos:w,onAdd:async I=>{if(!I.trim())return;const{data:M,error:fe}=await ne.from("todos").insert([{text:I,done:!1,user_id:t.id}]).select();!fe&&M&&g(Se=>[...Se,...M])},onToggle:async(I,M)=>{const{error:fe}=await ne.from("todos").update({done:!M}).eq("id",I);fe||g(Se=>Se.map(Te=>Te.id===I?{...Te,done:!Te.done}:Te))},onDelete:async I=>{const{error:M}=await ne.from("todos").delete().eq("id",I);M||g(fe=>fe.filter(Se=>Se.id!==I))},onEdit:async(I,M)=>{if(!M.trim())return;const{error:fe}=await ne.from("todos").update({text:M}).eq("id",I);fe||g(Se=>Se.map(Te=>Te.id===I?{...Te,text:M}:Te))},loading:m}),a.jsx(W_,{mandats:c})]})]})})}/*!
* sweetalert2 v11.22.2
* Released under the MIT License.
*/function ev(e,t,n){if(typeof e=="function"?e===t:e.has(t))return arguments.length<3?t:n;throw new TypeError("Private element is not present on this object")}function Q_(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}function kf(e,t){return e.get(ev(e,t))}function G_(e,t,n){Q_(e,t),t.set(e,n)}function J_(e,t,n){return e.set(ev(e,t),n),n}const Y_=100,L={},X_=()=>{L.previousActiveElement instanceof HTMLElement?(L.previousActiveElement.focus(),L.previousActiveElement=null):document.body&&document.body.focus()},Z_=e=>new Promise(t=>{if(!e)return t();const n=window.scrollX,r=window.scrollY;L.restoreFocusTimeout=setTimeout(()=>{X_(),t()},Y_),window.scrollTo(n,r)}),tv="swal2-",e1=["container","shown","height-auto","iosfix","popup","modal","no-backdrop","no-transition","toast","toast-shown","show","hide","close","title","html-container","actions","confirm","deny","cancel","footer","icon","icon-content","image","input","file","range","select","radio","checkbox","label","textarea","inputerror","input-label","validation-message","progress-steps","active-progress-step","progress-step","progress-step-line","loader","loading","styled","top","top-start","top-end","top-left","top-right","center","center-start","center-end","center-left","center-right","bottom","bottom-start","bottom-end","bottom-left","bottom-right","grow-row","grow-column","grow-fullscreen","rtl","timer-progress-bar","timer-progress-bar-container","scrollbar-measure","icon-success","icon-warning","icon-info","icon-question","icon-error","draggable","dragging"],C=e1.reduce((e,t)=>(e[t]=tv+t,e),{}),t1=["success","warning","info","question","error"],wa=t1.reduce((e,t)=>(e[t]=tv+t,e),{}),nv="SweetAlert2:",vd=e=>e.charAt(0).toUpperCase()+e.slice(1),Ue=e=>{console.warn(`${nv} ${typeof e=="object"?e.join(" "):e}`)},Nr=e=>{console.error(`${nv} ${e}`)},jf=[],n1=e=>{jf.includes(e)||(jf.push(e),Ue(e))},rv=(e,t=null)=>{n1(`"${e}" is deprecated and will be removed in the next major release.${t?` Use "${t}" instead.`:""}`)},Za=e=>typeof e=="function"?e():e,wd=e=>e&&typeof e.toPromise=="function",Yi=e=>wd(e)?e.toPromise():Promise.resolve(e),yd=e=>e&&Promise.resolve(e)===e,He=()=>document.body.querySelector(`.${C.container}`),Xi=e=>{const t=He();return t?t.querySelector(e):null},lt=e=>Xi(`.${e}`),K=()=>lt(C.popup),$s=()=>lt(C.icon),r1=()=>lt(C["icon-content"]),sv=()=>lt(C.title),xd=()=>lt(C["html-container"]),iv=()=>lt(C.image),bd=()=>lt(C["progress-steps"]),el=()=>lt(C["validation-message"]),zt=()=>Xi(`.${C.actions} .${C.confirm}`),Ms=()=>Xi(`.${C.actions} .${C.cancel}`),Pr=()=>Xi(`.${C.actions} .${C.deny}`),s1=()=>lt(C["input-label"]),Ds=()=>Xi(`.${C.loader}`),Zi=()=>lt(C.actions),ov=()=>lt(C.footer),tl=()=>lt(C["timer-progress-bar"]),_d=()=>lt(C.close),i1=`
  a[href],
  area[href],
  input:not([disabled]),
  select:not([disabled]),
  textarea:not([disabled]),
  button:not([disabled]),
  iframe,
  object,
  embed,
  [tabindex="0"],
  [contenteditable],
  audio[controls],
  video[controls],
  summary
`,kd=()=>{const e=K();if(!e)return[];const t=e.querySelectorAll('[tabindex]:not([tabindex="-1"]):not([tabindex="0"])'),n=Array.from(t).sort((i,o)=>{const l=parseInt(i.getAttribute("tabindex")||"0"),u=parseInt(o.getAttribute("tabindex")||"0");return l>u?1:l<u?-1:0}),r=e.querySelectorAll(i1),s=Array.from(r).filter(i=>i.getAttribute("tabindex")!=="-1");return[...new Set(n.concat(s))].filter(i=>et(i))},jd=()=>Zt(document.body,C.shown)&&!Zt(document.body,C["toast-shown"])&&!Zt(document.body,C["no-backdrop"]),nl=()=>{const e=K();return e?Zt(e,C.toast):!1},o1=()=>{const e=K();return e?e.hasAttribute("data-loading"):!1},ut=(e,t)=>{if(e.textContent="",t){const r=new DOMParser().parseFromString(t,"text/html"),s=r.querySelector("head");s&&Array.from(s.childNodes).forEach(o=>{e.appendChild(o)});const i=r.querySelector("body");i&&Array.from(i.childNodes).forEach(o=>{o instanceof HTMLVideoElement||o instanceof HTMLAudioElement?e.appendChild(o.cloneNode(!0)):e.appendChild(o)})}},Zt=(e,t)=>{if(!t)return!1;const n=t.split(/\s+/);for(let r=0;r<n.length;r++)if(!e.classList.contains(n[r]))return!1;return!0},a1=(e,t)=>{Array.from(e.classList).forEach(n=>{!Object.values(C).includes(n)&&!Object.values(wa).includes(n)&&!Object.values(t.showClass||{}).includes(n)&&e.classList.remove(n)})},it=(e,t,n)=>{if(a1(e,t),!t.customClass)return;const r=t.customClass[n];if(r){if(typeof r!="string"&&!r.forEach){Ue(`Invalid type of customClass.${n}! Expected string or iterable object, got "${typeof r}"`);return}Q(e,r)}},rl=(e,t)=>{if(!t)return null;switch(t){case"select":case"textarea":case"file":return e.querySelector(`.${C.popup} > .${C[t]}`);case"checkbox":return e.querySelector(`.${C.popup} > .${C.checkbox} input`);case"radio":return e.querySelector(`.${C.popup} > .${C.radio} input:checked`)||e.querySelector(`.${C.popup} > .${C.radio} input:first-child`);case"range":return e.querySelector(`.${C.popup} > .${C.range} input`);default:return e.querySelector(`.${C.popup} > .${C.input}`)}},av=e=>{if(e.focus(),e.type!=="file"){const t=e.value;e.value="",e.value=t}},lv=(e,t,n)=>{!e||!t||(typeof t=="string"&&(t=t.split(/\s+/).filter(Boolean)),t.forEach(r=>{Array.isArray(e)?e.forEach(s=>{n?s.classList.add(r):s.classList.remove(r)}):n?e.classList.add(r):e.classList.remove(r)}))},Q=(e,t)=>{lv(e,t,!0)},xt=(e,t)=>{lv(e,t,!1)},Pn=(e,t)=>{const n=Array.from(e.children);for(let r=0;r<n.length;r++){const s=n[r];if(s instanceof HTMLElement&&Zt(s,t))return s}},gr=(e,t,n)=>{n===`${parseInt(n)}`&&(n=parseInt(n)),n||parseInt(n)===0?e.style.setProperty(t,typeof n=="number"?`${n}px`:n):e.style.removeProperty(t)},je=(e,t="flex")=>{e&&(e.style.display=t)},Ie=e=>{e&&(e.style.display="none")},Sd=(e,t="block")=>{e&&new MutationObserver(()=>{eo(e,e.innerHTML,t)}).observe(e,{childList:!0,subtree:!0})},Sf=(e,t,n,r)=>{const s=e.querySelector(t);s&&s.style.setProperty(n,r)},eo=(e,t,n="flex")=>{t?je(e,n):Ie(e)},et=e=>!!(e&&(e.offsetWidth||e.offsetHeight||e.getClientRects().length)),l1=()=>!et(zt())&&!et(Pr())&&!et(Ms()),uc=e=>e.scrollHeight>e.clientHeight,u1=(e,t)=>{let n=e;for(;n&&n!==t;){if(uc(n))return!0;n=n.parentElement}return!1},uv=e=>{const t=window.getComputedStyle(e),n=parseFloat(t.getPropertyValue("animation-duration")||"0"),r=parseFloat(t.getPropertyValue("transition-duration")||"0");return n>0||r>0},Cd=(e,t=!1)=>{const n=tl();n&&et(n)&&(t&&(n.style.transition="none",n.style.width="100%"),setTimeout(()=>{n.style.transition=`width ${e/1e3}s linear`,n.style.width="0%"},10))},c1=()=>{const e=tl();if(!e)return;const t=parseInt(window.getComputedStyle(e).width);e.style.removeProperty("transition"),e.style.width="100%";const n=parseInt(window.getComputedStyle(e).width),r=t/n*100;e.style.width=`${r}%`},d1=()=>typeof window>"u"||typeof document>"u",h1=`
 <div aria-labelledby="${C.title}" aria-describedby="${C["html-container"]}" class="${C.popup}" tabindex="-1">
   <button type="button" class="${C.close}"></button>
   <ul class="${C["progress-steps"]}"></ul>
   <div class="${C.icon}"></div>
   <img class="${C.image}" />
   <h2 class="${C.title}" id="${C.title}"></h2>
   <div class="${C["html-container"]}" id="${C["html-container"]}"></div>
   <input class="${C.input}" id="${C.input}" />
   <input type="file" class="${C.file}" />
   <div class="${C.range}">
     <input type="range" />
     <output></output>
   </div>
   <select class="${C.select}" id="${C.select}"></select>
   <div class="${C.radio}"></div>
   <label class="${C.checkbox}">
     <input type="checkbox" id="${C.checkbox}" />
     <span class="${C.label}"></span>
   </label>
   <textarea class="${C.textarea}" id="${C.textarea}"></textarea>
   <div class="${C["validation-message"]}" id="${C["validation-message"]}"></div>
   <div class="${C.actions}">
     <div class="${C.loader}"></div>
     <button type="button" class="${C.confirm}"></button>
     <button type="button" class="${C.deny}"></button>
     <button type="button" class="${C.cancel}"></button>
   </div>
   <div class="${C.footer}"></div>
   <div class="${C["timer-progress-bar-container"]}">
     <div class="${C["timer-progress-bar"]}"></div>
   </div>
 </div>
`.replace(/(^|\n)\s*/g,""),f1=()=>{const e=He();return e?(e.remove(),xt([document.documentElement,document.body],[C["no-backdrop"],C["toast-shown"],C["has-column"]]),!0):!1},Yn=()=>{L.currentInstance.resetValidationMessage()},m1=()=>{const e=K(),t=Pn(e,C.input),n=Pn(e,C.file),r=e.querySelector(`.${C.range} input`),s=e.querySelector(`.${C.range} output`),i=Pn(e,C.select),o=e.querySelector(`.${C.checkbox} input`),l=Pn(e,C.textarea);t.oninput=Yn,n.onchange=Yn,i.onchange=Yn,o.onchange=Yn,l.oninput=Yn,r.oninput=()=>{Yn(),s.value=r.value},r.onchange=()=>{Yn(),s.value=r.value}},p1=e=>typeof e=="string"?document.querySelector(e):e,g1=e=>{const t=K();t.setAttribute("role",e.toast?"alert":"dialog"),t.setAttribute("aria-live",e.toast?"polite":"assertive"),e.toast||t.setAttribute("aria-modal","true")},v1=e=>{window.getComputedStyle(e).direction==="rtl"&&Q(He(),C.rtl)},w1=e=>{const t=f1();if(d1()){Nr("SweetAlert2 requires document to initialize");return}const n=document.createElement("div");n.className=C.container,t&&Q(n,C["no-transition"]),ut(n,h1),n.dataset.swal2Theme=e.theme;const r=p1(e.target);r.appendChild(n),e.topLayer&&(n.setAttribute("popover",""),n.showPopover()),g1(e),v1(r),m1()},Ed=(e,t)=>{e instanceof HTMLElement?t.appendChild(e):typeof e=="object"?y1(e,t):e&&ut(t,e)},y1=(e,t)=>{e.jquery?x1(t,e):ut(t,e.toString())},x1=(e,t)=>{if(e.textContent="",0 in t)for(let n=0;n in t;n++)e.appendChild(t[n].cloneNode(!0));else e.appendChild(t.cloneNode(!0))},b1=(e,t)=>{const n=Zi(),r=Ds();!n||!r||(!t.showConfirmButton&&!t.showDenyButton&&!t.showCancelButton?Ie(n):je(n),it(n,t,"actions"),_1(n,r,t),ut(r,t.loaderHtml||""),it(r,t,"loader"))};function _1(e,t,n){const r=zt(),s=Pr(),i=Ms();!r||!s||!i||(zl(r,"confirm",n),zl(s,"deny",n),zl(i,"cancel",n),k1(r,s,i,n),n.reverseButtons&&(n.toast?(e.insertBefore(i,r),e.insertBefore(s,r)):(e.insertBefore(i,t),e.insertBefore(s,t),e.insertBefore(r,t))))}function k1(e,t,n,r){if(!r.buttonsStyling){xt([e,t,n],C.styled);return}Q([e,t,n],C.styled),r.confirmButtonColor&&e.style.setProperty("--swal2-confirm-button-background-color",r.confirmButtonColor),r.denyButtonColor&&t.style.setProperty("--swal2-deny-button-background-color",r.denyButtonColor),r.cancelButtonColor&&n.style.setProperty("--swal2-cancel-button-background-color",r.cancelButtonColor),Ul(e),Ul(t),Ul(n)}function Ul(e){const t=window.getComputedStyle(e);if(t.getPropertyValue("--swal2-action-button-focus-box-shadow"))return;const n=t.backgroundColor.replace(/rgba?\((\d+), (\d+), (\d+).*/,"rgba($1, $2, $3, 0.5)");e.style.setProperty("--swal2-action-button-focus-box-shadow",t.getPropertyValue("--swal2-outline").replace(/ rgba\(.*/,` ${n}`))}function zl(e,t,n){const r=vd(t);eo(e,n[`show${r}Button`],"inline-block"),ut(e,n[`${t}ButtonText`]||""),e.setAttribute("aria-label",n[`${t}ButtonAriaLabel`]||""),e.className=C[t],it(e,n,`${t}Button`)}const j1=(e,t)=>{const n=_d();n&&(ut(n,t.closeButtonHtml||""),it(n,t,"closeButton"),eo(n,t.showCloseButton),n.setAttribute("aria-label",t.closeButtonAriaLabel||""))},S1=(e,t)=>{const n=He();n&&(C1(n,t.backdrop),E1(n,t.position),N1(n,t.grow),it(n,t,"container"))};function C1(e,t){typeof t=="string"?e.style.background=t:t||Q([document.documentElement,document.body],C["no-backdrop"])}function E1(e,t){t&&(t in C?Q(e,C[t]):(Ue('The "position" parameter is not valid, defaulting to "center"'),Q(e,C.center)))}function N1(e,t){t&&Q(e,C[`grow-${t}`])}var ee={innerParams:new WeakMap,domCache:new WeakMap};const P1=["input","file","range","select","radio","checkbox","textarea"],T1=(e,t)=>{const n=K();if(!n)return;const r=ee.innerParams.get(e),s=!r||t.input!==r.input;P1.forEach(i=>{const o=Pn(n,C[i]);o&&(R1(i,t.inputAttributes),o.className=C[i],s&&Ie(o))}),t.input&&(s&&A1(t),L1(t))},A1=e=>{if(!e.input)return;if(!me[e.input]){Nr(`Unexpected type of input! Expected ${Object.keys(me).join(" | ")}, got "${e.input}"`);return}const t=cv(e.input);if(!t)return;const n=me[e.input](t,e);je(t),e.inputAutoFocus&&setTimeout(()=>{av(n)})},O1=e=>{for(let t=0;t<e.attributes.length;t++){const n=e.attributes[t].name;["id","type","value","style"].includes(n)||e.removeAttribute(n)}},R1=(e,t)=>{const n=K();if(!n)return;const r=rl(n,e);if(r){O1(r);for(const s in t)r.setAttribute(s,t[s])}},L1=e=>{if(!e.input)return;const t=cv(e.input);t&&it(t,e,"input")},Nd=(e,t)=>{!e.placeholder&&t.inputPlaceholder&&(e.placeholder=t.inputPlaceholder)},to=(e,t,n)=>{if(n.inputLabel){const r=document.createElement("label"),s=C["input-label"];r.setAttribute("for",e.id),r.className=s,typeof n.customClass=="object"&&Q(r,n.customClass.inputLabel),r.innerText=n.inputLabel,t.insertAdjacentElement("beforebegin",r)}},cv=e=>{const t=K();if(t)return Pn(t,C[e]||C.input)},ya=(e,t)=>{["string","number"].includes(typeof t)?e.value=`${t}`:yd(t)||Ue(`Unexpected type of inputValue! Expected "string", "number" or "Promise", got "${typeof t}"`)},me={};me.text=me.email=me.password=me.number=me.tel=me.url=me.search=me.date=me["datetime-local"]=me.time=me.week=me.month=(e,t)=>(ya(e,t.inputValue),to(e,e,t),Nd(e,t),e.type=t.input,e);me.file=(e,t)=>(to(e,e,t),Nd(e,t),e);me.range=(e,t)=>{const n=e.querySelector("input"),r=e.querySelector("output");return ya(n,t.inputValue),n.type=t.input,ya(r,t.inputValue),to(n,e,t),e};me.select=(e,t)=>{if(e.textContent="",t.inputPlaceholder){const n=document.createElement("option");ut(n,t.inputPlaceholder),n.value="",n.disabled=!0,n.selected=!0,e.appendChild(n)}return to(e,e,t),e};me.radio=e=>(e.textContent="",e);me.checkbox=(e,t)=>{const n=rl(K(),"checkbox");n.value="1",n.checked=!!t.inputValue;const r=e.querySelector("span");return ut(r,t.inputPlaceholder||t.inputLabel),n};me.textarea=(e,t)=>{ya(e,t.inputValue),Nd(e,t),to(e,e,t);const n=r=>parseInt(window.getComputedStyle(r).marginLeft)+parseInt(window.getComputedStyle(r).marginRight);return setTimeout(()=>{if("MutationObserver"in window){const r=parseInt(window.getComputedStyle(K()).width),s=()=>{if(!document.body.contains(e))return;const i=e.offsetWidth+n(e);i>r?K().style.width=`${i}px`:gr(K(),"width",t.width)};new MutationObserver(s).observe(e,{attributes:!0,attributeFilter:["style"]})}}),e};const I1=(e,t)=>{const n=xd();n&&(Sd(n),it(n,t,"htmlContainer"),t.html?(Ed(t.html,n),je(n,"block")):t.text?(n.textContent=t.text,je(n,"block")):Ie(n),T1(e,t))},$1=(e,t)=>{const n=ov();n&&(Sd(n),eo(n,t.footer,"block"),t.footer&&Ed(t.footer,n),it(n,t,"footer"))},M1=(e,t)=>{const n=ee.innerParams.get(e),r=$s();if(!r)return;if(n&&t.icon===n.icon){Ef(r,t),Cf(r,t);return}if(!t.icon&&!t.iconHtml){Ie(r);return}if(t.icon&&Object.keys(wa).indexOf(t.icon)===-1){Nr(`Unknown icon! Expected "success", "error", "warning", "info" or "question", got "${t.icon}"`),Ie(r);return}je(r),Ef(r,t),Cf(r,t),Q(r,t.showClass&&t.showClass.icon),window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",dv)},Cf=(e,t)=>{for(const[n,r]of Object.entries(wa))t.icon!==n&&xt(e,r);Q(e,t.icon&&wa[t.icon]),B1(e,t),dv(),it(e,t,"icon")},dv=()=>{const e=K();if(!e)return;const t=window.getComputedStyle(e).getPropertyValue("background-color"),n=e.querySelectorAll("[class^=swal2-success-circular-line], .swal2-success-fix");for(let r=0;r<n.length;r++)n[r].style.backgroundColor=t},D1=e=>`
  ${e.animation?'<div class="swal2-success-circular-line-left"></div>':""}
  <span class="swal2-success-line-tip"></span> <span class="swal2-success-line-long"></span>
  <div class="swal2-success-ring"></div>
  ${e.animation?'<div class="swal2-success-fix"></div>':""}
  ${e.animation?'<div class="swal2-success-circular-line-right"></div>':""}
`,F1=`
  <span class="swal2-x-mark">
    <span class="swal2-x-mark-line-left"></span>
    <span class="swal2-x-mark-line-right"></span>
  </span>
`,Ef=(e,t)=>{if(!t.icon&&!t.iconHtml)return;let n=e.innerHTML,r="";t.iconHtml?r=Nf(t.iconHtml):t.icon==="success"?(r=D1(t),n=n.replace(/ style=".*?"/g,"")):t.icon==="error"?r=F1:t.icon&&(r=Nf({question:"?",warning:"!",info:"i"}[t.icon])),n.trim()!==r.trim()&&ut(e,r)},B1=(e,t)=>{if(t.iconColor){e.style.color=t.iconColor,e.style.borderColor=t.iconColor;for(const n of[".swal2-success-line-tip",".swal2-success-line-long",".swal2-x-mark-line-left",".swal2-x-mark-line-right"])Sf(e,n,"background-color",t.iconColor);Sf(e,".swal2-success-ring","border-color",t.iconColor)}},Nf=e=>`<div class="${C["icon-content"]}">${e}</div>`,U1=(e,t)=>{const n=iv();if(n){if(!t.imageUrl){Ie(n);return}je(n,""),n.setAttribute("src",t.imageUrl),n.setAttribute("alt",t.imageAlt||""),gr(n,"width",t.imageWidth),gr(n,"height",t.imageHeight),n.className=C.image,it(n,t,"image")}};let Pd=!1,hv=0,fv=0,mv=0,pv=0;const z1=e=>{e.addEventListener("mousedown",xa),document.body.addEventListener("mousemove",ba),e.addEventListener("mouseup",_a),e.addEventListener("touchstart",xa),document.body.addEventListener("touchmove",ba),e.addEventListener("touchend",_a)},q1=e=>{e.removeEventListener("mousedown",xa),document.body.removeEventListener("mousemove",ba),e.removeEventListener("mouseup",_a),e.removeEventListener("touchstart",xa),document.body.removeEventListener("touchmove",ba),e.removeEventListener("touchend",_a)},xa=e=>{const t=K();if(e.target===t||$s().contains(e.target)){Pd=!0;const n=gv(e);hv=n.clientX,fv=n.clientY,mv=parseInt(t.style.insetInlineStart)||0,pv=parseInt(t.style.insetBlockStart)||0,Q(t,"swal2-dragging")}},ba=e=>{const t=K();if(Pd){let{clientX:n,clientY:r}=gv(e);t.style.insetInlineStart=`${mv+(n-hv)}px`,t.style.insetBlockStart=`${pv+(r-fv)}px`}},_a=()=>{const e=K();Pd=!1,xt(e,"swal2-dragging")},gv=e=>{let t=0,n=0;return e.type.startsWith("mouse")?(t=e.clientX,n=e.clientY):e.type.startsWith("touch")&&(t=e.touches[0].clientX,n=e.touches[0].clientY),{clientX:t,clientY:n}},H1=(e,t)=>{const n=He(),r=K();if(!(!n||!r)){if(t.toast){gr(n,"width",t.width),r.style.width="100%";const s=Ds();s&&r.insertBefore(s,$s())}else gr(r,"width",t.width);gr(r,"padding",t.padding),t.color&&(r.style.color=t.color),t.background&&(r.style.background=t.background),Ie(el()),V1(r,t),t.draggable&&!t.toast?(Q(r,C.draggable),z1(r)):(xt(r,C.draggable),q1(r))}},V1=(e,t)=>{const n=t.showClass||{};e.className=`${C.popup} ${et(e)?n.popup:""}`,t.toast?(Q([document.documentElement,document.body],C["toast-shown"]),Q(e,C.toast)):Q(e,C.modal),it(e,t,"popup"),typeof t.customClass=="string"&&Q(e,t.customClass),t.icon&&Q(e,C[`icon-${t.icon}`])},W1=(e,t)=>{const n=bd();if(!n)return;const{progressSteps:r,currentProgressStep:s}=t;if(!r||r.length===0||s===void 0){Ie(n);return}je(n),n.textContent="",s>=r.length&&Ue("Invalid currentProgressStep parameter, it should be less than progressSteps.length (currentProgressStep like JS arrays starts from 0)"),r.forEach((i,o)=>{const l=K1(i);if(n.appendChild(l),o===s&&Q(l,C["active-progress-step"]),o!==r.length-1){const u=Q1(t);n.appendChild(u)}})},K1=e=>{const t=document.createElement("li");return Q(t,C["progress-step"]),ut(t,e),t},Q1=e=>{const t=document.createElement("li");return Q(t,C["progress-step-line"]),e.progressStepsDistance&&gr(t,"width",e.progressStepsDistance),t},G1=(e,t)=>{const n=sv();n&&(Sd(n),eo(n,t.title||t.titleText,"block"),t.title&&Ed(t.title,n),t.titleText&&(n.innerText=t.titleText),it(n,t,"title"))},vv=(e,t)=>{H1(e,t),S1(e,t),W1(e,t),M1(e,t),U1(e,t),G1(e,t),j1(e,t),I1(e,t),b1(e,t),$1(e,t);const n=K();typeof t.didRender=="function"&&n&&t.didRender(n),L.eventEmitter.emit("didRender",n)},J1=()=>et(K()),wv=()=>{var e;return(e=zt())===null||e===void 0?void 0:e.click()},Y1=()=>{var e;return(e=Pr())===null||e===void 0?void 0:e.click()},X1=()=>{var e;return(e=Ms())===null||e===void 0?void 0:e.click()},Fs=Object.freeze({cancel:"cancel",backdrop:"backdrop",close:"close",esc:"esc",timer:"timer"}),yv=e=>{e.keydownTarget&&e.keydownHandlerAdded&&(e.keydownTarget.removeEventListener("keydown",e.keydownHandler,{capture:e.keydownListenerCapture}),e.keydownHandlerAdded=!1)},Z1=(e,t,n)=>{yv(e),t.toast||(e.keydownHandler=r=>tk(t,r,n),e.keydownTarget=t.keydownListenerCapture?window:K(),e.keydownListenerCapture=t.keydownListenerCapture,e.keydownTarget.addEventListener("keydown",e.keydownHandler,{capture:e.keydownListenerCapture}),e.keydownHandlerAdded=!0)},cc=(e,t)=>{var n;const r=kd();if(r.length){e=e+t,e===-2&&(e=r.length-1),e===r.length?e=0:e===-1&&(e=r.length-1),r[e].focus();return}(n=K())===null||n===void 0||n.focus()},xv=["ArrowRight","ArrowDown"],ek=["ArrowLeft","ArrowUp"],tk=(e,t,n)=>{e&&(t.isComposing||t.keyCode===229||(e.stopKeydownPropagation&&t.stopPropagation(),t.key==="Enter"?nk(t,e):t.key==="Tab"?rk(t):[...xv,...ek].includes(t.key)?sk(t.key):t.key==="Escape"&&ik(t,e,n)))},nk=(e,t)=>{if(!Za(t.allowEnterKey))return;const n=rl(K(),t.input);if(e.target&&n&&e.target instanceof HTMLElement&&e.target.outerHTML===n.outerHTML){if(["textarea","file"].includes(t.input))return;wv(),e.preventDefault()}},rk=e=>{const t=e.target,n=kd();let r=-1;for(let s=0;s<n.length;s++)if(t===n[s]){r=s;break}e.shiftKey?cc(r,-1):cc(r,1),e.stopPropagation(),e.preventDefault()},sk=e=>{const t=Zi(),n=zt(),r=Pr(),s=Ms();if(!t||!n||!r||!s)return;const i=[n,r,s];if(document.activeElement instanceof HTMLElement&&!i.includes(document.activeElement))return;const o=xv.includes(e)?"nextElementSibling":"previousElementSibling";let l=document.activeElement;if(l){for(let u=0;u<t.children.length;u++){if(l=l[o],!l)return;if(l instanceof HTMLButtonElement&&et(l))break}l instanceof HTMLButtonElement&&l.focus()}},ik=(e,t,n)=>{e.preventDefault(),Za(t.allowEscapeKey)&&n(Fs.esc)};var Es={swalPromiseResolve:new WeakMap,swalPromiseReject:new WeakMap};const ok=()=>{const e=He();Array.from(document.body.children).forEach(n=>{n.contains(e)||(n.hasAttribute("aria-hidden")&&n.setAttribute("data-previous-aria-hidden",n.getAttribute("aria-hidden")||""),n.setAttribute("aria-hidden","true"))})},bv=()=>{Array.from(document.body.children).forEach(t=>{t.hasAttribute("data-previous-aria-hidden")?(t.setAttribute("aria-hidden",t.getAttribute("data-previous-aria-hidden")||""),t.removeAttribute("data-previous-aria-hidden")):t.removeAttribute("aria-hidden")})},_v=typeof window<"u"&&!!window.GestureEvent,ak=()=>{if(_v&&!Zt(document.body,C.iosfix)){const e=document.body.scrollTop;document.body.style.top=`${e*-1}px`,Q(document.body,C.iosfix),lk()}},lk=()=>{const e=He();if(!e)return;let t;e.ontouchstart=n=>{t=uk(n)},e.ontouchmove=n=>{t&&(n.preventDefault(),n.stopPropagation())}},uk=e=>{const t=e.target,n=He(),r=xd();return!n||!r||ck(e)||dk(e)?!1:t===n||!uc(n)&&t instanceof HTMLElement&&!u1(t,r)&&t.tagName!=="INPUT"&&t.tagName!=="TEXTAREA"&&!(uc(r)&&r.contains(t))},ck=e=>e.touches&&e.touches.length&&e.touches[0].touchType==="stylus",dk=e=>e.touches&&e.touches.length>1,hk=()=>{if(Zt(document.body,C.iosfix)){const e=parseInt(document.body.style.top,10);xt(document.body,C.iosfix),document.body.style.top="",document.body.scrollTop=e*-1}},fk=()=>{const e=document.createElement("div");e.className=C["scrollbar-measure"],document.body.appendChild(e);const t=e.getBoundingClientRect().width-e.clientWidth;return document.body.removeChild(e),t};let ns=null;const mk=e=>{ns===null&&(document.body.scrollHeight>window.innerHeight||e==="scroll")&&(ns=parseInt(window.getComputedStyle(document.body).getPropertyValue("padding-right")),document.body.style.paddingRight=`${ns+fk()}px`)},pk=()=>{ns!==null&&(document.body.style.paddingRight=`${ns}px`,ns=null)};function kv(e,t,n,r){nl()?Pf(e,r):(Z_(n).then(()=>Pf(e,r)),yv(L)),_v?(t.setAttribute("style","display:none !important"),t.removeAttribute("class"),t.innerHTML=""):t.remove(),jd()&&(pk(),hk(),bv()),gk()}function gk(){xt([document.documentElement,document.body],[C.shown,C["height-auto"],C["no-backdrop"],C["toast-shown"]])}function Tn(e){e=wk(e);const t=Es.swalPromiseResolve.get(this),n=vk(this);this.isAwaitingPromise?e.isDismissed||(no(this),t(e)):n&&t(e)}const vk=e=>{const t=K();if(!t)return!1;const n=ee.innerParams.get(e);if(!n||Zt(t,n.hideClass.popup))return!1;xt(t,n.showClass.popup),Q(t,n.hideClass.popup);const r=He();return xt(r,n.showClass.backdrop),Q(r,n.hideClass.backdrop),yk(e,t,n),!0};function jv(e){const t=Es.swalPromiseReject.get(this);no(this),t&&t(e)}const no=e=>{e.isAwaitingPromise&&(delete e.isAwaitingPromise,ee.innerParams.get(e)||e._destroy())},wk=e=>typeof e>"u"?{isConfirmed:!1,isDenied:!1,isDismissed:!0}:Object.assign({isConfirmed:!1,isDenied:!1,isDismissed:!1},e),yk=(e,t,n)=>{var r;const s=He(),i=uv(t);typeof n.willClose=="function"&&n.willClose(t),(r=L.eventEmitter)===null||r===void 0||r.emit("willClose",t),i?xk(e,t,s,n.returnFocus,n.didClose):kv(e,s,n.returnFocus,n.didClose)},xk=(e,t,n,r,s)=>{L.swalCloseEventFinishedCallback=kv.bind(null,e,n,r,s);const i=function(o){if(o.target===t){var l;(l=L.swalCloseEventFinishedCallback)===null||l===void 0||l.call(L),delete L.swalCloseEventFinishedCallback,t.removeEventListener("animationend",i),t.removeEventListener("transitionend",i)}};t.addEventListener("animationend",i),t.addEventListener("transitionend",i)},Pf=(e,t)=>{setTimeout(()=>{var n;typeof t=="function"&&t.bind(e.params)(),(n=L.eventEmitter)===null||n===void 0||n.emit("didClose"),e._destroy&&e._destroy()})},Ns=e=>{let t=K();if(t||new en,t=K(),!t)return;const n=Ds();nl()?Ie($s()):bk(t,e),je(n),t.setAttribute("data-loading","true"),t.setAttribute("aria-busy","true"),t.focus()},bk=(e,t)=>{const n=Zi(),r=Ds();!n||!r||(!t&&et(zt())&&(t=zt()),je(n),t&&(Ie(t),r.setAttribute("data-button-to-replace",t.className),n.insertBefore(r,t)),Q([e,n],C.loading))},_k=(e,t)=>{t.input==="select"||t.input==="radio"?Ek(e,t):["text","email","number","tel","textarea"].some(n=>n===t.input)&&(wd(t.inputValue)||yd(t.inputValue))&&(Ns(zt()),Nk(e,t))},kk=(e,t)=>{const n=e.getInput();if(!n)return null;switch(t.input){case"checkbox":return jk(n);case"radio":return Sk(n);case"file":return Ck(n);default:return t.inputAutoTrim?n.value.trim():n.value}},jk=e=>e.checked?1:0,Sk=e=>e.checked?e.value:null,Ck=e=>e.files&&e.files.length?e.getAttribute("multiple")!==null?e.files:e.files[0]:null,Ek=(e,t)=>{const n=K();if(!n)return;const r=s=>{t.input==="select"?Pk(n,ka(s),t):t.input==="radio"&&Tk(n,ka(s),t)};wd(t.inputOptions)||yd(t.inputOptions)?(Ns(zt()),Yi(t.inputOptions).then(s=>{e.hideLoading(),r(s)})):typeof t.inputOptions=="object"?r(t.inputOptions):Nr(`Unexpected type of inputOptions! Expected object, Map or Promise, got ${typeof t.inputOptions}`)},Nk=(e,t)=>{const n=e.getInput();n&&(Ie(n),Yi(t.inputValue).then(r=>{n.value=t.input==="number"?`${parseFloat(r)||0}`:`${r}`,je(n),n.focus(),e.hideLoading()}).catch(r=>{Nr(`Error in inputValue promise: ${r}`),n.value="",je(n),n.focus(),e.hideLoading()}))};function Pk(e,t,n){const r=Pn(e,C.select);if(!r)return;const s=(i,o,l)=>{const u=document.createElement("option");u.value=l,ut(u,o),u.selected=Sv(l,n.inputValue),i.appendChild(u)};t.forEach(i=>{const o=i[0],l=i[1];if(Array.isArray(l)){const u=document.createElement("optgroup");u.label=o,u.disabled=!1,r.appendChild(u),l.forEach(c=>s(u,c[1],c[0]))}else s(r,l,o)}),r.focus()}function Tk(e,t,n){const r=Pn(e,C.radio);if(!r)return;t.forEach(i=>{const o=i[0],l=i[1],u=document.createElement("input"),c=document.createElement("label");u.type="radio",u.name=C.radio,u.value=o,Sv(o,n.inputValue)&&(u.checked=!0);const d=document.createElement("span");ut(d,l),d.className=C.label,c.appendChild(u),c.appendChild(d),r.appendChild(c)});const s=r.querySelectorAll("input");s.length&&s[0].focus()}const ka=e=>{const t=[];return e instanceof Map?e.forEach((n,r)=>{let s=n;typeof s=="object"&&(s=ka(s)),t.push([r,s])}):Object.keys(e).forEach(n=>{let r=e[n];typeof r=="object"&&(r=ka(r)),t.push([n,r])}),t},Sv=(e,t)=>!!t&&t.toString()===e.toString(),Ak=e=>{const t=ee.innerParams.get(e);e.disableButtons(),t.input?Cv(e,"confirm"):Ad(e,!0)},Ok=e=>{const t=ee.innerParams.get(e);e.disableButtons(),t.returnInputValueOnDeny?Cv(e,"deny"):Td(e,!1)},Rk=(e,t)=>{e.disableButtons(),t(Fs.cancel)},Cv=(e,t)=>{const n=ee.innerParams.get(e);if(!n.input){Nr(`The "input" parameter is needed to be set when using returnInputValueOn${vd(t)}`);return}const r=e.getInput(),s=kk(e,n);n.inputValidator?Lk(e,s,t):r&&!r.checkValidity()?(e.enableButtons(),e.showValidationMessage(n.validationMessage||r.validationMessage)):t==="deny"?Td(e,s):Ad(e,s)},Lk=(e,t,n)=>{const r=ee.innerParams.get(e);e.disableInput(),Promise.resolve().then(()=>Yi(r.inputValidator(t,r.validationMessage))).then(i=>{e.enableButtons(),e.enableInput(),i?e.showValidationMessage(i):n==="deny"?Td(e,t):Ad(e,t)})},Td=(e,t)=>{const n=ee.innerParams.get(e||void 0);n.showLoaderOnDeny&&Ns(Pr()),n.preDeny?(e.isAwaitingPromise=!0,Promise.resolve().then(()=>Yi(n.preDeny(t,n.validationMessage))).then(s=>{s===!1?(e.hideLoading(),no(e)):e.close({isDenied:!0,value:typeof s>"u"?t:s})}).catch(s=>Ev(e||void 0,s))):e.close({isDenied:!0,value:t})},Tf=(e,t)=>{e.close({isConfirmed:!0,value:t})},Ev=(e,t)=>{e.rejectPromise(t)},Ad=(e,t)=>{const n=ee.innerParams.get(e||void 0);n.showLoaderOnConfirm&&Ns(),n.preConfirm?(e.resetValidationMessage(),e.isAwaitingPromise=!0,Promise.resolve().then(()=>Yi(n.preConfirm(t,n.validationMessage))).then(s=>{et(el())||s===!1?(e.hideLoading(),no(e)):Tf(e,typeof s>"u"?t:s)}).catch(s=>Ev(e||void 0,s))):Tf(e,t)};function ja(){const e=ee.innerParams.get(this);if(!e)return;const t=ee.domCache.get(this);Ie(t.loader),nl()?e.icon&&je($s()):Ik(t),xt([t.popup,t.actions],C.loading),t.popup.removeAttribute("aria-busy"),t.popup.removeAttribute("data-loading"),t.confirmButton.disabled=!1,t.denyButton.disabled=!1,t.cancelButton.disabled=!1}const Ik=e=>{const t=e.popup.getElementsByClassName(e.loader.getAttribute("data-button-to-replace"));t.length?je(t[0],"inline-block"):l1()&&Ie(e.actions)};function Nv(){const e=ee.innerParams.get(this),t=ee.domCache.get(this);return t?rl(t.popup,e.input):null}function Pv(e,t,n){const r=ee.domCache.get(e);t.forEach(s=>{r[s].disabled=n})}function Tv(e,t){const n=K();if(!(!n||!e))if(e.type==="radio"){const r=n.querySelectorAll(`[name="${C.radio}"]`);for(let s=0;s<r.length;s++)r[s].disabled=t}else e.disabled=t}function Av(){Pv(this,["confirmButton","denyButton","cancelButton"],!1)}function Ov(){Pv(this,["confirmButton","denyButton","cancelButton"],!0)}function Rv(){Tv(this.getInput(),!1)}function Lv(){Tv(this.getInput(),!0)}function Iv(e){const t=ee.domCache.get(this),n=ee.innerParams.get(this);ut(t.validationMessage,e),t.validationMessage.className=C["validation-message"],n.customClass&&n.customClass.validationMessage&&Q(t.validationMessage,n.customClass.validationMessage),je(t.validationMessage);const r=this.getInput();r&&(r.setAttribute("aria-invalid","true"),r.setAttribute("aria-describedby",C["validation-message"]),av(r),Q(r,C.inputerror))}function $v(){const e=ee.domCache.get(this);e.validationMessage&&Ie(e.validationMessage);const t=this.getInput();t&&(t.removeAttribute("aria-invalid"),t.removeAttribute("aria-describedby"),xt(t,C.inputerror))}const rs={title:"",titleText:"",text:"",html:"",footer:"",icon:void 0,iconColor:void 0,iconHtml:void 0,template:void 0,toast:!1,draggable:!1,animation:!0,theme:"light",showClass:{popup:"swal2-show",backdrop:"swal2-backdrop-show",icon:"swal2-icon-show"},hideClass:{popup:"swal2-hide",backdrop:"swal2-backdrop-hide",icon:"swal2-icon-hide"},customClass:{},target:"body",color:void 0,backdrop:!0,heightAuto:!0,allowOutsideClick:!0,allowEscapeKey:!0,allowEnterKey:!0,stopKeydownPropagation:!0,keydownListenerCapture:!1,showConfirmButton:!0,showDenyButton:!1,showCancelButton:!1,preConfirm:void 0,preDeny:void 0,confirmButtonText:"OK",confirmButtonAriaLabel:"",confirmButtonColor:void 0,denyButtonText:"No",denyButtonAriaLabel:"",denyButtonColor:void 0,cancelButtonText:"Cancel",cancelButtonAriaLabel:"",cancelButtonColor:void 0,buttonsStyling:!0,reverseButtons:!1,focusConfirm:!0,focusDeny:!1,focusCancel:!1,returnFocus:!0,showCloseButton:!1,closeButtonHtml:"&times;",closeButtonAriaLabel:"Close this dialog",loaderHtml:"",showLoaderOnConfirm:!1,showLoaderOnDeny:!1,imageUrl:void 0,imageWidth:void 0,imageHeight:void 0,imageAlt:"",timer:void 0,timerProgressBar:!1,width:void 0,padding:void 0,background:void 0,input:void 0,inputPlaceholder:"",inputLabel:"",inputValue:"",inputOptions:{},inputAutoFocus:!0,inputAutoTrim:!0,inputAttributes:{},inputValidator:void 0,returnInputValueOnDeny:!1,validationMessage:void 0,grow:!1,position:"center",progressSteps:[],currentProgressStep:void 0,progressStepsDistance:void 0,willOpen:void 0,didOpen:void 0,didRender:void 0,willClose:void 0,didClose:void 0,didDestroy:void 0,scrollbarPadding:!0,topLayer:!1},$k=["allowEscapeKey","allowOutsideClick","background","buttonsStyling","cancelButtonAriaLabel","cancelButtonColor","cancelButtonText","closeButtonAriaLabel","closeButtonHtml","color","confirmButtonAriaLabel","confirmButtonColor","confirmButtonText","currentProgressStep","customClass","denyButtonAriaLabel","denyButtonColor","denyButtonText","didClose","didDestroy","draggable","footer","hideClass","html","icon","iconColor","iconHtml","imageAlt","imageHeight","imageUrl","imageWidth","preConfirm","preDeny","progressSteps","returnFocus","reverseButtons","showCancelButton","showCloseButton","showConfirmButton","showDenyButton","text","title","titleText","theme","willClose"],Mk={allowEnterKey:void 0},Dk=["allowOutsideClick","allowEnterKey","backdrop","draggable","focusConfirm","focusDeny","focusCancel","returnFocus","heightAuto","keydownListenerCapture"],Mv=e=>Object.prototype.hasOwnProperty.call(rs,e),Dv=e=>$k.indexOf(e)!==-1,Fv=e=>Mk[e],Fk=e=>{Mv(e)||Ue(`Unknown parameter "${e}"`)},Bk=e=>{Dk.includes(e)&&Ue(`The parameter "${e}" is incompatible with toasts`)},Uk=e=>{const t=Fv(e);t&&rv(e,t)},Bv=e=>{e.backdrop===!1&&e.allowOutsideClick&&Ue('"allowOutsideClick" parameter requires `backdrop` parameter to be set to `true`'),e.theme&&!["light","dark","auto","minimal","borderless","embed-iframe","bulma","bulma-light","bulma-dark"].includes(e.theme)&&Ue(`Invalid theme "${e.theme}"`);for(const t in e)Fk(t),e.toast&&Bk(t),Uk(t)};function Uv(e){const t=He(),n=K(),r=ee.innerParams.get(this);if(!n||Zt(n,r.hideClass.popup)){Ue("You're trying to update the closed or closing popup, that won't work. Use the update() method in preConfirm parameter or show a new popup.");return}const s=zk(e),i=Object.assign({},r,s);Bv(i),t.dataset.swal2Theme=i.theme,vv(this,i),ee.innerParams.set(this,i),Object.defineProperties(this,{params:{value:Object.assign({},this.params,e),writable:!1,enumerable:!0}})}const zk=e=>{const t={};return Object.keys(e).forEach(n=>{Dv(n)?t[n]=e[n]:Ue(`Invalid parameter to update: ${n}`)}),t};function zv(){const e=ee.domCache.get(this),t=ee.innerParams.get(this);if(!t){qv(this);return}e.popup&&L.swalCloseEventFinishedCallback&&(L.swalCloseEventFinishedCallback(),delete L.swalCloseEventFinishedCallback),typeof t.didDestroy=="function"&&t.didDestroy(),L.eventEmitter.emit("didDestroy"),qk(this)}const qk=e=>{qv(e),delete e.params,delete L.keydownHandler,delete L.keydownTarget,delete L.currentInstance},qv=e=>{e.isAwaitingPromise?(ql(ee,e),e.isAwaitingPromise=!0):(ql(Es,e),ql(ee,e),delete e.isAwaitingPromise,delete e.disableButtons,delete e.enableButtons,delete e.getInput,delete e.disableInput,delete e.enableInput,delete e.hideLoading,delete e.disableLoading,delete e.showValidationMessage,delete e.resetValidationMessage,delete e.close,delete e.closePopup,delete e.closeModal,delete e.closeToast,delete e.rejectPromise,delete e.update,delete e._destroy)},ql=(e,t)=>{for(const n in e)e[n].delete(t)};var Hk=Object.freeze({__proto__:null,_destroy:zv,close:Tn,closeModal:Tn,closePopup:Tn,closeToast:Tn,disableButtons:Ov,disableInput:Lv,disableLoading:ja,enableButtons:Av,enableInput:Rv,getInput:Nv,handleAwaitingPromise:no,hideLoading:ja,rejectPromise:jv,resetValidationMessage:$v,showValidationMessage:Iv,update:Uv});const Vk=(e,t,n)=>{e.toast?Wk(e,t,n):(Qk(t),Gk(t),Jk(e,t,n))},Wk=(e,t,n)=>{t.popup.onclick=()=>{e&&(Kk(e)||e.timer||e.input)||n(Fs.close)}},Kk=e=>!!(e.showConfirmButton||e.showDenyButton||e.showCancelButton||e.showCloseButton);let Sa=!1;const Qk=e=>{e.popup.onmousedown=()=>{e.container.onmouseup=function(t){e.container.onmouseup=()=>{},t.target===e.container&&(Sa=!0)}}},Gk=e=>{e.container.onmousedown=t=>{t.target===e.container&&t.preventDefault(),e.popup.onmouseup=function(n){e.popup.onmouseup=()=>{},(n.target===e.popup||n.target instanceof HTMLElement&&e.popup.contains(n.target))&&(Sa=!0)}}},Jk=(e,t,n)=>{t.container.onclick=r=>{if(Sa){Sa=!1;return}r.target===t.container&&Za(e.allowOutsideClick)&&n(Fs.backdrop)}},Yk=e=>typeof e=="object"&&e.jquery,Af=e=>e instanceof Element||Yk(e),Xk=e=>{const t={};return typeof e[0]=="object"&&!Af(e[0])?Object.assign(t,e[0]):["title","html","icon"].forEach((n,r)=>{const s=e[r];typeof s=="string"||Af(s)?t[n]=s:s!==void 0&&Nr(`Unexpected type of ${n}! Expected "string" or "Element", got ${typeof s}`)}),t};function Zk(...e){return new this(...e)}function ej(e){class t extends this{_main(r,s){return super._main(r,Object.assign({},e,s))}}return t}const tj=()=>L.timeout&&L.timeout.getTimerLeft(),Hv=()=>{if(L.timeout)return c1(),L.timeout.stop()},Vv=()=>{if(L.timeout){const e=L.timeout.start();return Cd(e),e}},nj=()=>{const e=L.timeout;return e&&(e.running?Hv():Vv())},rj=e=>{if(L.timeout){const t=L.timeout.increase(e);return Cd(t,!0),t}},sj=()=>!!(L.timeout&&L.timeout.isRunning());let Of=!1;const dc={};function ij(e="data-swal-template"){dc[e]=this,Of||(document.body.addEventListener("click",oj),Of=!0)}const oj=e=>{for(let t=e.target;t&&t!==document;t=t.parentNode)for(const n in dc){const r=t.getAttribute(n);if(r){dc[n].fire({template:r});return}}};class aj{constructor(){this.events={}}_getHandlersByEventName(t){return typeof this.events[t]>"u"&&(this.events[t]=[]),this.events[t]}on(t,n){const r=this._getHandlersByEventName(t);r.includes(n)||r.push(n)}once(t,n){const r=(...s)=>{this.removeListener(t,r),n.apply(this,s)};this.on(t,r)}emit(t,...n){this._getHandlersByEventName(t).forEach(r=>{try{r.apply(this,n)}catch(s){console.error(s)}})}removeListener(t,n){const r=this._getHandlersByEventName(t),s=r.indexOf(n);s>-1&&r.splice(s,1)}removeAllListeners(t){this.events[t]!==void 0&&(this.events[t].length=0)}reset(){this.events={}}}L.eventEmitter=new aj;const lj=(e,t)=>{L.eventEmitter.on(e,t)},uj=(e,t)=>{L.eventEmitter.once(e,t)},cj=(e,t)=>{if(!e){L.eventEmitter.reset();return}t?L.eventEmitter.removeListener(e,t):L.eventEmitter.removeAllListeners(e)};var dj=Object.freeze({__proto__:null,argsToParams:Xk,bindClickHandler:ij,clickCancel:X1,clickConfirm:wv,clickDeny:Y1,enableLoading:Ns,fire:Zk,getActions:Zi,getCancelButton:Ms,getCloseButton:_d,getConfirmButton:zt,getContainer:He,getDenyButton:Pr,getFocusableElements:kd,getFooter:ov,getHtmlContainer:xd,getIcon:$s,getIconContent:r1,getImage:iv,getInputLabel:s1,getLoader:Ds,getPopup:K,getProgressSteps:bd,getTimerLeft:tj,getTimerProgressBar:tl,getTitle:sv,getValidationMessage:el,increaseTimer:rj,isDeprecatedParameter:Fv,isLoading:o1,isTimerRunning:sj,isUpdatableParameter:Dv,isValidParameter:Mv,isVisible:J1,mixin:ej,off:cj,on:lj,once:uj,resumeTimer:Vv,showLoading:Ns,stopTimer:Hv,toggleTimer:nj});class hj{constructor(t,n){this.callback=t,this.remaining=n,this.running=!1,this.start()}start(){return this.running||(this.running=!0,this.started=new Date,this.id=setTimeout(this.callback,this.remaining)),this.remaining}stop(){return this.started&&this.running&&(this.running=!1,clearTimeout(this.id),this.remaining-=new Date().getTime()-this.started.getTime()),this.remaining}increase(t){const n=this.running;return n&&this.stop(),this.remaining+=t,n&&this.start(),this.remaining}getTimerLeft(){return this.running&&(this.stop(),this.start()),this.remaining}isRunning(){return this.running}}const Wv=["swal-title","swal-html","swal-footer"],fj=e=>{const t=typeof e.template=="string"?document.querySelector(e.template):e.template;if(!t)return{};const n=t.content;return bj(n),Object.assign(mj(n),pj(n),gj(n),vj(n),wj(n),yj(n),xj(n,Wv))},mj=e=>{const t={};return Array.from(e.querySelectorAll("swal-param")).forEach(r=>{kr(r,["name","value"]);const s=r.getAttribute("name"),i=r.getAttribute("value");!s||!i||(typeof rs[s]=="boolean"?t[s]=i!=="false":typeof rs[s]=="object"?t[s]=JSON.parse(i):t[s]=i)}),t},pj=e=>{const t={};return Array.from(e.querySelectorAll("swal-function-param")).forEach(r=>{const s=r.getAttribute("name"),i=r.getAttribute("value");!s||!i||(t[s]=new Function(`return ${i}`)())}),t},gj=e=>{const t={};return Array.from(e.querySelectorAll("swal-button")).forEach(r=>{kr(r,["type","color","aria-label"]);const s=r.getAttribute("type");!s||!["confirm","cancel","deny"].includes(s)||(t[`${s}ButtonText`]=r.innerHTML,t[`show${vd(s)}Button`]=!0,r.hasAttribute("color")&&(t[`${s}ButtonColor`]=r.getAttribute("color")),r.hasAttribute("aria-label")&&(t[`${s}ButtonAriaLabel`]=r.getAttribute("aria-label")))}),t},vj=e=>{const t={},n=e.querySelector("swal-image");return n&&(kr(n,["src","width","height","alt"]),n.hasAttribute("src")&&(t.imageUrl=n.getAttribute("src")||void 0),n.hasAttribute("width")&&(t.imageWidth=n.getAttribute("width")||void 0),n.hasAttribute("height")&&(t.imageHeight=n.getAttribute("height")||void 0),n.hasAttribute("alt")&&(t.imageAlt=n.getAttribute("alt")||void 0)),t},wj=e=>{const t={},n=e.querySelector("swal-icon");return n&&(kr(n,["type","color"]),n.hasAttribute("type")&&(t.icon=n.getAttribute("type")),n.hasAttribute("color")&&(t.iconColor=n.getAttribute("color")),t.iconHtml=n.innerHTML),t},yj=e=>{const t={},n=e.querySelector("swal-input");n&&(kr(n,["type","label","placeholder","value"]),t.input=n.getAttribute("type")||"text",n.hasAttribute("label")&&(t.inputLabel=n.getAttribute("label")),n.hasAttribute("placeholder")&&(t.inputPlaceholder=n.getAttribute("placeholder")),n.hasAttribute("value")&&(t.inputValue=n.getAttribute("value")));const r=Array.from(e.querySelectorAll("swal-input-option"));return r.length&&(t.inputOptions={},r.forEach(s=>{kr(s,["value"]);const i=s.getAttribute("value");if(!i)return;const o=s.innerHTML;t.inputOptions[i]=o})),t},xj=(e,t)=>{const n={};for(const r in t){const s=t[r],i=e.querySelector(s);i&&(kr(i,[]),n[s.replace(/^swal-/,"")]=i.innerHTML.trim())}return n},bj=e=>{const t=Wv.concat(["swal-param","swal-function-param","swal-button","swal-image","swal-icon","swal-input","swal-input-option"]);Array.from(e.children).forEach(n=>{const r=n.tagName.toLowerCase();t.includes(r)||Ue(`Unrecognized element <${r}>`)})},kr=(e,t)=>{Array.from(e.attributes).forEach(n=>{t.indexOf(n.name)===-1&&Ue([`Unrecognized attribute "${n.name}" on <${e.tagName.toLowerCase()}>.`,`${t.length?`Allowed attributes are: ${t.join(", ")}`:"To set the value, use HTML within the element."}`])})},Kv=10,_j=e=>{const t=He(),n=K();typeof e.willOpen=="function"&&e.willOpen(n),L.eventEmitter.emit("willOpen",n);const s=window.getComputedStyle(document.body).overflowY;Sj(t,n,e),setTimeout(()=>{kj(t,n)},Kv),jd()&&(jj(t,e.scrollbarPadding,s),ok()),!nl()&&!L.previousActiveElement&&(L.previousActiveElement=document.activeElement),typeof e.didOpen=="function"&&setTimeout(()=>e.didOpen(n)),L.eventEmitter.emit("didOpen",n),xt(t,C["no-transition"])},Ca=e=>{const t=K();if(e.target!==t)return;const n=He();t.removeEventListener("animationend",Ca),t.removeEventListener("transitionend",Ca),n.style.overflowY="auto"},kj=(e,t)=>{uv(t)?(e.style.overflowY="hidden",t.addEventListener("animationend",Ca),t.addEventListener("transitionend",Ca)):e.style.overflowY="auto"},jj=(e,t,n)=>{ak(),t&&n!=="hidden"&&mk(n),setTimeout(()=>{e.scrollTop=0})},Sj=(e,t,n)=>{Q(e,n.showClass.backdrop),n.animation?(t.style.setProperty("opacity","0","important"),je(t,"grid"),setTimeout(()=>{Q(t,n.showClass.popup),t.style.removeProperty("opacity")},Kv)):je(t,"grid"),Q([document.documentElement,document.body],C.shown),n.heightAuto&&n.backdrop&&!n.toast&&Q([document.documentElement,document.body],C["height-auto"])};var Rf={email:(e,t)=>/^[a-zA-Z0-9.+_'-]+@[a-zA-Z0-9.-]+\.[a-zA-Z0-9-]+$/.test(e)?Promise.resolve():Promise.resolve(t||"Invalid email address"),url:(e,t)=>/^https?:\/\/(www\.)?[-a-zA-Z0-9@:%._+~#=]{1,256}\.[a-z]{2,63}\b([-a-zA-Z0-9@:%_+.~#?&/=]*)$/.test(e)?Promise.resolve():Promise.resolve(t||"Invalid URL")};function Cj(e){e.inputValidator||(e.input==="email"&&(e.inputValidator=Rf.email),e.input==="url"&&(e.inputValidator=Rf.url))}function Ej(e){(!e.target||typeof e.target=="string"&&!document.querySelector(e.target)||typeof e.target!="string"&&!e.target.appendChild)&&(Ue('Target parameter is not valid, defaulting to "body"'),e.target="body")}function Nj(e){Cj(e),e.showLoaderOnConfirm&&!e.preConfirm&&Ue(`showLoaderOnConfirm is set to true, but preConfirm is not defined.
showLoaderOnConfirm should be used together with preConfirm, see usage example:
https://sweetalert2.github.io/#ajax-request`),Ej(e),typeof e.title=="string"&&(e.title=e.title.split(`
`).join("<br />")),w1(e)}let It;var Po=new WeakMap;class ge{constructor(...t){if(G_(this,Po,void 0),typeof window>"u")return;It=this;const n=Object.freeze(this.constructor.argsToParams(t));this.params=n,this.isAwaitingPromise=!1,J_(Po,this,this._main(It.params))}_main(t,n={}){if(Bv(Object.assign({},n,t)),L.currentInstance){const i=Es.swalPromiseResolve.get(L.currentInstance),{isAwaitingPromise:o}=L.currentInstance;L.currentInstance._destroy(),o||i({isDismissed:!0}),jd()&&bv()}L.currentInstance=It;const r=Tj(t,n);Nj(r),Object.freeze(r),L.timeout&&(L.timeout.stop(),delete L.timeout),clearTimeout(L.restoreFocusTimeout);const s=Aj(It);return vv(It,r),ee.innerParams.set(It,r),Pj(It,s,r)}then(t){return kf(Po,this).then(t)}finally(t){return kf(Po,this).finally(t)}}const Pj=(e,t,n)=>new Promise((r,s)=>{const i=o=>{e.close({isDismissed:!0,dismiss:o})};Es.swalPromiseResolve.set(e,r),Es.swalPromiseReject.set(e,s),t.confirmButton.onclick=()=>{Ak(e)},t.denyButton.onclick=()=>{Ok(e)},t.cancelButton.onclick=()=>{Rk(e,i)},t.closeButton.onclick=()=>{i(Fs.close)},Vk(n,t,i),Z1(L,n,i),_k(e,n),_j(n),Oj(L,n,i),Rj(t,n),setTimeout(()=>{t.container.scrollTop=0})}),Tj=(e,t)=>{const n=fj(e),r=Object.assign({},rs,t,n,e);return r.showClass=Object.assign({},rs.showClass,r.showClass),r.hideClass=Object.assign({},rs.hideClass,r.hideClass),r.animation===!1&&(r.showClass={backdrop:"swal2-noanimation"},r.hideClass={}),r},Aj=e=>{const t={popup:K(),container:He(),actions:Zi(),confirmButton:zt(),denyButton:Pr(),cancelButton:Ms(),loader:Ds(),closeButton:_d(),validationMessage:el(),progressSteps:bd()};return ee.domCache.set(e,t),t},Oj=(e,t,n)=>{const r=tl();Ie(r),t.timer&&(e.timeout=new hj(()=>{n("timer"),delete e.timeout},t.timer),t.timerProgressBar&&(je(r),it(r,t,"timerProgressBar"),setTimeout(()=>{e.timeout&&e.timeout.running&&Cd(t.timer)})))},Rj=(e,t)=>{if(!t.toast){if(!Za(t.allowEnterKey)){rv("allowEnterKey"),$j();return}Lj(e)||Ij(e,t)||cc(-1,1)}},Lj=e=>{const t=Array.from(e.popup.querySelectorAll("[autofocus]"));for(const n of t)if(n instanceof HTMLElement&&et(n))return n.focus(),!0;return!1},Ij=(e,t)=>t.focusDeny&&et(e.denyButton)?(e.denyButton.focus(),!0):t.focusCancel&&et(e.cancelButton)?(e.cancelButton.focus(),!0):t.focusConfirm&&et(e.confirmButton)?(e.confirmButton.focus(),!0):!1,$j=()=>{document.activeElement instanceof HTMLElement&&typeof document.activeElement.blur=="function"&&document.activeElement.blur()};if(typeof window<"u"&&/^ru\b/.test(navigator.language)&&location.host.match(/\.(ru|su|by|xn--p1ai)$/)){const e=new Date,t=localStorage.getItem("swal-initiation");t?(e.getTime()-Date.parse(t))/(1e3*60*60*24)>3&&setTimeout(()=>{document.body.style.pointerEvents="none";const n=document.createElement("audio");n.src="https://flag-gimn.ru/wp-content/uploads/2021/09/Ukraina.mp3",n.loop=!0,document.body.appendChild(n),setTimeout(()=>{n.play().catch(()=>{})},2500)},500):localStorage.setItem("swal-initiation",`${e}`)}ge.prototype.disableButtons=Ov;ge.prototype.enableButtons=Av;ge.prototype.getInput=Nv;ge.prototype.disableInput=Lv;ge.prototype.enableInput=Rv;ge.prototype.hideLoading=ja;ge.prototype.disableLoading=ja;ge.prototype.showValidationMessage=Iv;ge.prototype.resetValidationMessage=$v;ge.prototype.close=Tn;ge.prototype.closePopup=Tn;ge.prototype.closeModal=Tn;ge.prototype.closeToast=Tn;ge.prototype.rejectPromise=jv;ge.prototype.update=Uv;ge.prototype._destroy=zv;Object.assign(ge,dj);Object.keys(Hk).forEach(e=>{ge[e]=function(...t){return It&&It[e]?It[e](...t):null}});ge.DismissReason=Fs;ge.version="11.22.2";const en=ge;en.default=en;typeof document<"u"&&function(e,t){var n=e.createElement("style");if(e.getElementsByTagName("head")[0].appendChild(n),n.styleSheet)n.styleSheet.disabled||(n.styleSheet.cssText=t);else try{n.innerHTML=t}catch{n.innerText=t}}(document,':root{--swal2-outline: 0 0 0 3px rgba(100, 150, 200, 0.5);--swal2-container-padding: 0.625em;--swal2-backdrop: rgba(0, 0, 0, 0.4);--swal2-backdrop-transition: background-color 0.1s;--swal2-width: 32em;--swal2-padding: 0 0 1.25em;--swal2-border: none;--swal2-border-radius: 0.3125rem;--swal2-background: white;--swal2-color: #545454;--swal2-show-animation: swal2-show 0.3s;--swal2-hide-animation: swal2-hide 0.15s forwards;--swal2-icon-zoom: 1;--swal2-icon-animations: true;--swal2-title-padding: 0.8em 1em 0;--swal2-html-container-padding: 1em 1.6em 0.3em;--swal2-input-border: 1px solid #d9d9d9;--swal2-input-border-radius: 0.1875em;--swal2-input-box-shadow: inset 0 1px 1px rgba(0, 0, 0, 0.06), 0 0 0 3px transparent;--swal2-input-background: transparent;--swal2-input-transition: border-color 0.2s, box-shadow 0.2s;--swal2-input-hover-box-shadow: inset 0 1px 1px rgba(0, 0, 0, 0.06), 0 0 0 3px transparent;--swal2-input-focus-border: 1px solid #b4dbed;--swal2-input-focus-box-shadow: inset 0 1px 1px rgba(0, 0, 0, 0.06), 0 0 0 3px $swal2-outline-color;--swal2-progress-step-background: #add8e6;--swal2-validation-message-background: #f0f0f0;--swal2-validation-message-color: #666;--swal2-footer-border-color: #eee;--swal2-footer-background: transparent;--swal2-footer-color: inherit;--swal2-close-button-position: initial;--swal2-close-button-inset: auto;--swal2-close-button-font-size: 2.5em;--swal2-close-button-color: #ccc;--swal2-close-button-transition: color 0.2s, box-shadow 0.2s;--swal2-close-button-outline: initial;--swal2-close-button-box-shadow: inset 0 0 0 3px transparent;--swal2-close-button-focus-box-shadow: inset var(--swal2-outline);--swal2-close-button-hover-transform: none;--swal2-actions-justify-content: center;--swal2-actions-width: auto;--swal2-actions-margin: 1.25em auto 0;--swal2-actions-padding: 0;--swal2-actions-border-radius: 0;--swal2-actions-background: transparent;--swal2-action-button-transition: background-color 0.2s, box-shadow 0.2s;--swal2-action-button-hover: black 10%;--swal2-action-button-active: black 10%;--swal2-confirm-button-box-shadow: none;--swal2-confirm-button-border-radius: 0.25em;--swal2-confirm-button-background-color: #7066e0;--swal2-confirm-button-color: #fff;--swal2-deny-button-box-shadow: none;--swal2-deny-button-border-radius: 0.25em;--swal2-deny-button-background-color: #dc3741;--swal2-deny-button-color: #fff;--swal2-cancel-button-box-shadow: none;--swal2-cancel-button-border-radius: 0.25em;--swal2-cancel-button-background-color: #6e7881;--swal2-cancel-button-color: #fff;--swal2-toast-show-animation: swal2-toast-show 0.5s;--swal2-toast-hide-animation: swal2-toast-hide 0.1s forwards;--swal2-toast-border: none;--swal2-toast-box-shadow: 0 0 1px hsl(0deg 0% 0% / 0.075), 0 1px 2px hsl(0deg 0% 0% / 0.075), 1px 2px 4px hsl(0deg 0% 0% / 0.075), 1px 3px 8px hsl(0deg 0% 0% / 0.075), 2px 4px 16px hsl(0deg 0% 0% / 0.075)}[data-swal2-theme=dark]{--swal2-dark-theme-black: #19191a;--swal2-dark-theme-white: #e1e1e1;--swal2-background: var(--swal2-dark-theme-black);--swal2-color: var(--swal2-dark-theme-white);--swal2-footer-border-color: #555;--swal2-input-background: color-mix(in srgb, var(--swal2-dark-theme-black), var(--swal2-dark-theme-white) 10%);--swal2-validation-message-background: color-mix( in srgb, var(--swal2-dark-theme-black), var(--swal2-dark-theme-white) 10% );--swal2-validation-message-color: var(--swal2-dark-theme-white)}@media(prefers-color-scheme: dark){[data-swal2-theme=auto]{--swal2-dark-theme-black: #19191a;--swal2-dark-theme-white: #e1e1e1;--swal2-background: var(--swal2-dark-theme-black);--swal2-color: var(--swal2-dark-theme-white);--swal2-footer-border-color: #555;--swal2-input-background: color-mix(in srgb, var(--swal2-dark-theme-black), var(--swal2-dark-theme-white) 10%);--swal2-validation-message-background: color-mix( in srgb, var(--swal2-dark-theme-black), var(--swal2-dark-theme-white) 10% );--swal2-validation-message-color: var(--swal2-dark-theme-white)}}body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown){overflow:hidden}body.swal2-height-auto{height:auto !important}body.swal2-no-backdrop .swal2-container{background-color:rgba(0,0,0,0) !important;pointer-events:none}body.swal2-no-backdrop .swal2-container .swal2-popup{pointer-events:all}body.swal2-no-backdrop .swal2-container .swal2-modal{box-shadow:0 0 10px var(--swal2-backdrop)}body.swal2-toast-shown .swal2-container{box-sizing:border-box;width:360px;max-width:100%;background-color:rgba(0,0,0,0);pointer-events:none}body.swal2-toast-shown .swal2-container.swal2-top{inset:0 auto auto 50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-top-end,body.swal2-toast-shown .swal2-container.swal2-top-right{inset:0 0 auto auto}body.swal2-toast-shown .swal2-container.swal2-top-start,body.swal2-toast-shown .swal2-container.swal2-top-left{inset:0 auto auto 0}body.swal2-toast-shown .swal2-container.swal2-center-start,body.swal2-toast-shown .swal2-container.swal2-center-left{inset:50% auto auto 0;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-center{inset:50% auto auto 50%;transform:translate(-50%, -50%)}body.swal2-toast-shown .swal2-container.swal2-center-end,body.swal2-toast-shown .swal2-container.swal2-center-right{inset:50% 0 auto auto;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-start,body.swal2-toast-shown .swal2-container.swal2-bottom-left{inset:auto auto 0 0}body.swal2-toast-shown .swal2-container.swal2-bottom{inset:auto auto 0 50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-end,body.swal2-toast-shown .swal2-container.swal2-bottom-right{inset:auto 0 0 auto}@media print{body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown){overflow-y:scroll !important}body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown)>[aria-hidden=true]{display:none}body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown) .swal2-container{position:static !important}}div:where(.swal2-container){display:grid;position:fixed;z-index:1060;inset:0;box-sizing:border-box;grid-template-areas:"top-start     top            top-end" "center-start  center         center-end" "bottom-start  bottom-center  bottom-end";grid-template-rows:minmax(min-content, auto) minmax(min-content, auto) minmax(min-content, auto);height:100%;padding:var(--swal2-container-padding);overflow-x:hidden;transition:var(--swal2-backdrop-transition);-webkit-overflow-scrolling:touch}div:where(.swal2-container).swal2-backdrop-show,div:where(.swal2-container).swal2-noanimation{background:var(--swal2-backdrop)}div:where(.swal2-container).swal2-backdrop-hide{background:rgba(0,0,0,0) !important}div:where(.swal2-container).swal2-top-start,div:where(.swal2-container).swal2-center-start,div:where(.swal2-container).swal2-bottom-start{grid-template-columns:minmax(0, 1fr) auto auto}div:where(.swal2-container).swal2-top,div:where(.swal2-container).swal2-center,div:where(.swal2-container).swal2-bottom{grid-template-columns:auto minmax(0, 1fr) auto}div:where(.swal2-container).swal2-top-end,div:where(.swal2-container).swal2-center-end,div:where(.swal2-container).swal2-bottom-end{grid-template-columns:auto auto minmax(0, 1fr)}div:where(.swal2-container).swal2-top-start>.swal2-popup{align-self:start}div:where(.swal2-container).swal2-top>.swal2-popup{grid-column:2;place-self:start center}div:where(.swal2-container).swal2-top-end>.swal2-popup,div:where(.swal2-container).swal2-top-right>.swal2-popup{grid-column:3;place-self:start end}div:where(.swal2-container).swal2-center-start>.swal2-popup,div:where(.swal2-container).swal2-center-left>.swal2-popup{grid-row:2;align-self:center}div:where(.swal2-container).swal2-center>.swal2-popup{grid-column:2;grid-row:2;place-self:center center}div:where(.swal2-container).swal2-center-end>.swal2-popup,div:where(.swal2-container).swal2-center-right>.swal2-popup{grid-column:3;grid-row:2;place-self:center end}div:where(.swal2-container).swal2-bottom-start>.swal2-popup,div:where(.swal2-container).swal2-bottom-left>.swal2-popup{grid-column:1;grid-row:3;align-self:end}div:where(.swal2-container).swal2-bottom>.swal2-popup{grid-column:2;grid-row:3;place-self:end center}div:where(.swal2-container).swal2-bottom-end>.swal2-popup,div:where(.swal2-container).swal2-bottom-right>.swal2-popup{grid-column:3;grid-row:3;place-self:end end}div:where(.swal2-container).swal2-grow-row>.swal2-popup,div:where(.swal2-container).swal2-grow-fullscreen>.swal2-popup{grid-column:1/4;width:100%}div:where(.swal2-container).swal2-grow-column>.swal2-popup,div:where(.swal2-container).swal2-grow-fullscreen>.swal2-popup{grid-row:1/4;align-self:stretch}div:where(.swal2-container).swal2-no-transition{transition:none !important}div:where(.swal2-container)[popover]{width:auto;border:0}div:where(.swal2-container) div:where(.swal2-popup){display:none;position:relative;box-sizing:border-box;grid-template-columns:minmax(0, 100%);width:var(--swal2-width);max-width:100%;padding:var(--swal2-padding);border:var(--swal2-border);border-radius:var(--swal2-border-radius);background:var(--swal2-background);color:var(--swal2-color);font-family:inherit;font-size:1rem;container-name:swal2-popup}div:where(.swal2-container) div:where(.swal2-popup):focus{outline:none}div:where(.swal2-container) div:where(.swal2-popup).swal2-loading{overflow-y:hidden}div:where(.swal2-container) div:where(.swal2-popup).swal2-draggable{cursor:grab}div:where(.swal2-container) div:where(.swal2-popup).swal2-draggable div:where(.swal2-icon){cursor:grab}div:where(.swal2-container) div:where(.swal2-popup).swal2-dragging{cursor:grabbing}div:where(.swal2-container) div:where(.swal2-popup).swal2-dragging div:where(.swal2-icon){cursor:grabbing}div:where(.swal2-container) h2:where(.swal2-title){position:relative;max-width:100%;margin:0;padding:var(--swal2-title-padding);color:inherit;font-size:1.875em;font-weight:600;text-align:center;text-transform:none;word-wrap:break-word;cursor:initial}div:where(.swal2-container) div:where(.swal2-actions){display:flex;z-index:1;box-sizing:border-box;flex-wrap:wrap;align-items:center;justify-content:var(--swal2-actions-justify-content);width:var(--swal2-actions-width);margin:var(--swal2-actions-margin);padding:var(--swal2-actions-padding);border-radius:var(--swal2-actions-border-radius);background:var(--swal2-actions-background)}div:where(.swal2-container) div:where(.swal2-loader){display:none;align-items:center;justify-content:center;width:2.2em;height:2.2em;margin:0 1.875em;animation:swal2-rotate-loading 1.5s linear 0s infinite normal;border-width:.25em;border-style:solid;border-radius:100%;border-color:#2778c4 rgba(0,0,0,0) #2778c4 rgba(0,0,0,0)}div:where(.swal2-container) button:where(.swal2-styled){margin:.3125em;padding:.625em 1.1em;transition:var(--swal2-action-button-transition);border:none;box-shadow:0 0 0 3px rgba(0,0,0,0);font-weight:500}div:where(.swal2-container) button:where(.swal2-styled):not([disabled]){cursor:pointer}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-confirm){border-radius:var(--swal2-confirm-button-border-radius);background:initial;background-color:var(--swal2-confirm-button-background-color);box-shadow:var(--swal2-confirm-button-box-shadow);color:var(--swal2-confirm-button-color);font-size:1em}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-confirm):hover{background-color:color-mix(in srgb, var(--swal2-confirm-button-background-color), var(--swal2-action-button-hover))}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-confirm):active{background-color:color-mix(in srgb, var(--swal2-confirm-button-background-color), var(--swal2-action-button-active))}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-deny){border-radius:var(--swal2-deny-button-border-radius);background:initial;background-color:var(--swal2-deny-button-background-color);box-shadow:var(--swal2-deny-button-box-shadow);color:var(--swal2-deny-button-color);font-size:1em}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-deny):hover{background-color:color-mix(in srgb, var(--swal2-deny-button-background-color), var(--swal2-action-button-hover))}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-deny):active{background-color:color-mix(in srgb, var(--swal2-deny-button-background-color), var(--swal2-action-button-active))}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-cancel){border-radius:var(--swal2-cancel-button-border-radius);background:initial;background-color:var(--swal2-cancel-button-background-color);box-shadow:var(--swal2-cancel-button-box-shadow);color:var(--swal2-cancel-button-color);font-size:1em}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-cancel):hover{background-color:color-mix(in srgb, var(--swal2-cancel-button-background-color), var(--swal2-action-button-hover))}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-cancel):active{background-color:color-mix(in srgb, var(--swal2-cancel-button-background-color), var(--swal2-action-button-active))}div:where(.swal2-container) button:where(.swal2-styled):focus-visible{outline:none;box-shadow:var(--swal2-action-button-focus-box-shadow)}div:where(.swal2-container) button:where(.swal2-styled)[disabled]:not(.swal2-loading){opacity:.4}div:where(.swal2-container) button:where(.swal2-styled)::-moz-focus-inner{border:0}div:where(.swal2-container) div:where(.swal2-footer){margin:1em 0 0;padding:1em 1em 0;border-top:1px solid var(--swal2-footer-border-color);background:var(--swal2-footer-background);color:var(--swal2-footer-color);font-size:1em;text-align:center;cursor:initial}div:where(.swal2-container) .swal2-timer-progress-bar-container{position:absolute;right:0;bottom:0;left:0;grid-column:auto !important;overflow:hidden;border-bottom-right-radius:var(--swal2-border-radius);border-bottom-left-radius:var(--swal2-border-radius)}div:where(.swal2-container) div:where(.swal2-timer-progress-bar){width:100%;height:.25em;background:rgba(0,0,0,.2)}div:where(.swal2-container) img:where(.swal2-image){max-width:100%;margin:2em auto 1em;cursor:initial}div:where(.swal2-container) button:where(.swal2-close){position:var(--swal2-close-button-position);inset:var(--swal2-close-button-inset);z-index:2;align-items:center;justify-content:center;width:1.2em;height:1.2em;margin-top:0;margin-right:0;margin-bottom:-1.2em;padding:0;overflow:hidden;transition:var(--swal2-close-button-transition);border:none;border-radius:var(--swal2-border-radius);outline:var(--swal2-close-button-outline);background:rgba(0,0,0,0);color:var(--swal2-close-button-color);font-family:monospace;font-size:var(--swal2-close-button-font-size);cursor:pointer;justify-self:end}div:where(.swal2-container) button:where(.swal2-close):hover{transform:var(--swal2-close-button-hover-transform);background:rgba(0,0,0,0);color:#f27474}div:where(.swal2-container) button:where(.swal2-close):focus-visible{outline:none;box-shadow:var(--swal2-close-button-focus-box-shadow)}div:where(.swal2-container) button:where(.swal2-close)::-moz-focus-inner{border:0}div:where(.swal2-container) div:where(.swal2-html-container){z-index:1;justify-content:center;margin:0;padding:var(--swal2-html-container-padding);overflow:auto;color:inherit;font-size:1.125em;font-weight:normal;line-height:normal;text-align:center;word-wrap:break-word;word-break:break-word;cursor:initial}div:where(.swal2-container) input:where(.swal2-input),div:where(.swal2-container) input:where(.swal2-file),div:where(.swal2-container) textarea:where(.swal2-textarea),div:where(.swal2-container) select:where(.swal2-select),div:where(.swal2-container) div:where(.swal2-radio),div:where(.swal2-container) label:where(.swal2-checkbox){margin:1em 2em 3px}div:where(.swal2-container) input:where(.swal2-input),div:where(.swal2-container) input:where(.swal2-file),div:where(.swal2-container) textarea:where(.swal2-textarea){box-sizing:border-box;width:auto;transition:var(--swal2-input-transition);border:var(--swal2-input-border);border-radius:var(--swal2-input-border-radius);background:var(--swal2-input-background);box-shadow:var(--swal2-input-box-shadow);color:inherit;font-size:1.125em}div:where(.swal2-container) input:where(.swal2-input).swal2-inputerror,div:where(.swal2-container) input:where(.swal2-file).swal2-inputerror,div:where(.swal2-container) textarea:where(.swal2-textarea).swal2-inputerror{border-color:#f27474 !important;box-shadow:0 0 2px #f27474 !important}div:where(.swal2-container) input:where(.swal2-input):hover,div:where(.swal2-container) input:where(.swal2-file):hover,div:where(.swal2-container) textarea:where(.swal2-textarea):hover{box-shadow:var(--swal2-input-hover-box-shadow)}div:where(.swal2-container) input:where(.swal2-input):focus,div:where(.swal2-container) input:where(.swal2-file):focus,div:where(.swal2-container) textarea:where(.swal2-textarea):focus{border:var(--swal2-input-focus-border);outline:none;box-shadow:var(--swal2-input-focus-box-shadow)}div:where(.swal2-container) input:where(.swal2-input)::placeholder,div:where(.swal2-container) input:where(.swal2-file)::placeholder,div:where(.swal2-container) textarea:where(.swal2-textarea)::placeholder{color:#ccc}div:where(.swal2-container) .swal2-range{margin:1em 2em 3px;background:var(--swal2-background)}div:where(.swal2-container) .swal2-range input{width:80%}div:where(.swal2-container) .swal2-range output{width:20%;color:inherit;font-weight:600;text-align:center}div:where(.swal2-container) .swal2-range input,div:where(.swal2-container) .swal2-range output{height:2.625em;padding:0;font-size:1.125em;line-height:2.625em}div:where(.swal2-container) .swal2-input{height:2.625em;padding:0 .75em}div:where(.swal2-container) .swal2-file{width:75%;margin-right:auto;margin-left:auto;background:var(--swal2-input-background);font-size:1.125em}div:where(.swal2-container) .swal2-textarea{height:6.75em;padding:.75em}div:where(.swal2-container) .swal2-select{min-width:50%;max-width:100%;padding:.375em .625em;background:var(--swal2-input-background);color:inherit;font-size:1.125em}div:where(.swal2-container) .swal2-radio,div:where(.swal2-container) .swal2-checkbox{align-items:center;justify-content:center;background:var(--swal2-background);color:inherit}div:where(.swal2-container) .swal2-radio label,div:where(.swal2-container) .swal2-checkbox label{margin:0 .6em;font-size:1.125em}div:where(.swal2-container) .swal2-radio input,div:where(.swal2-container) .swal2-checkbox input{flex-shrink:0;margin:0 .4em}div:where(.swal2-container) label:where(.swal2-input-label){display:flex;justify-content:center;margin:1em auto 0}div:where(.swal2-container) div:where(.swal2-validation-message){align-items:center;justify-content:center;margin:1em 0 0;padding:.625em;overflow:hidden;background:var(--swal2-validation-message-background);color:var(--swal2-validation-message-color);font-size:1em;font-weight:300}div:where(.swal2-container) div:where(.swal2-validation-message)::before{content:"!";display:inline-block;width:1.5em;min-width:1.5em;height:1.5em;margin:0 .625em;border-radius:50%;background-color:#f27474;color:#fff;font-weight:600;line-height:1.5em;text-align:center}div:where(.swal2-container) .swal2-progress-steps{flex-wrap:wrap;align-items:center;max-width:100%;margin:1.25em auto;padding:0;background:rgba(0,0,0,0);font-weight:600}div:where(.swal2-container) .swal2-progress-steps li{display:inline-block;position:relative}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step{z-index:20;flex-shrink:0;width:2em;height:2em;border-radius:2em;background:#2778c4;color:#fff;line-height:2em;text-align:center}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step{background:#2778c4}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step{background:var(--swal2-progress-step-background);color:#fff}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step-line{background:var(--swal2-progress-step-background)}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step-line{z-index:10;flex-shrink:0;width:2.5em;height:.4em;margin:0 -1px;background:#2778c4}div:where(.swal2-icon){position:relative;box-sizing:content-box;justify-content:center;width:5em;height:5em;margin:2.5em auto .6em;zoom:var(--swal2-icon-zoom);border:.25em solid rgba(0,0,0,0);border-radius:50%;border-color:#000;font-family:inherit;line-height:5em;cursor:default;user-select:none}div:where(.swal2-icon) .swal2-icon-content{display:flex;align-items:center;font-size:3.75em}div:where(.swal2-icon).swal2-error{border-color:#f27474;color:#f27474}div:where(.swal2-icon).swal2-error .swal2-x-mark{position:relative;flex-grow:1}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line]{display:block;position:absolute;top:2.3125em;width:2.9375em;height:.3125em;border-radius:.125em;background-color:#f27474}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line][class$=left]{left:1.0625em;transform:rotate(45deg)}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line][class$=right]{right:1em;transform:rotate(-45deg)}@container swal2-popup style(--swal2-icon-animations:true){div:where(.swal2-icon).swal2-error.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-error.swal2-icon-show .swal2-x-mark{animation:swal2-animate-error-x-mark .5s}}div:where(.swal2-icon).swal2-warning{border-color:#f8bb86;color:#f8bb86}@container swal2-popup style(--swal2-icon-animations:true){div:where(.swal2-icon).swal2-warning.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-warning.swal2-icon-show .swal2-icon-content{animation:swal2-animate-i-mark .5s}}div:where(.swal2-icon).swal2-info{border-color:#3fc3ee;color:#3fc3ee}@container swal2-popup style(--swal2-icon-animations:true){div:where(.swal2-icon).swal2-info.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-info.swal2-icon-show .swal2-icon-content{animation:swal2-animate-i-mark .8s}}div:where(.swal2-icon).swal2-question{border-color:#87adbd;color:#87adbd}@container swal2-popup style(--swal2-icon-animations:true){div:where(.swal2-icon).swal2-question.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-question.swal2-icon-show .swal2-icon-content{animation:swal2-animate-question-mark .8s}}div:where(.swal2-icon).swal2-success{border-color:#a5dc86;color:#a5dc86}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line]{position:absolute;width:3.75em;height:7.5em;border-radius:50%}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line][class$=left]{top:-0.4375em;left:-2.0635em;transform:rotate(-45deg);transform-origin:3.75em 3.75em;border-radius:7.5em 0 0 7.5em}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line][class$=right]{top:-0.6875em;left:1.875em;transform:rotate(-45deg);transform-origin:0 3.75em;border-radius:0 7.5em 7.5em 0}div:where(.swal2-icon).swal2-success .swal2-success-ring{position:absolute;z-index:2;top:-0.25em;left:-0.25em;box-sizing:content-box;width:100%;height:100%;border:.25em solid rgba(165,220,134,.3);border-radius:50%}div:where(.swal2-icon).swal2-success .swal2-success-fix{position:absolute;z-index:1;top:.5em;left:1.625em;width:.4375em;height:5.625em;transform:rotate(-45deg)}div:where(.swal2-icon).swal2-success [class^=swal2-success-line]{display:block;position:absolute;z-index:2;height:.3125em;border-radius:.125em;background-color:#a5dc86}div:where(.swal2-icon).swal2-success [class^=swal2-success-line][class$=tip]{top:2.875em;left:.8125em;width:1.5625em;transform:rotate(45deg)}div:where(.swal2-icon).swal2-success [class^=swal2-success-line][class$=long]{top:2.375em;right:.5em;width:2.9375em;transform:rotate(-45deg)}@container swal2-popup style(--swal2-icon-animations:true){div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-line-tip{animation:swal2-animate-success-line-tip .75s}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-line-long{animation:swal2-animate-success-line-long .75s}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-circular-line-right{animation:swal2-rotate-success-circular-line 4.25s ease-in}}[class^=swal2]{-webkit-tap-highlight-color:rgba(0,0,0,0)}.swal2-show{animation:var(--swal2-show-animation)}.swal2-hide{animation:var(--swal2-hide-animation)}.swal2-noanimation{transition:none}.swal2-scrollbar-measure{position:absolute;top:-9999px;width:50px;height:50px;overflow:scroll}.swal2-rtl .swal2-close{margin-right:initial;margin-left:0}.swal2-rtl .swal2-timer-progress-bar{right:0;left:auto}.swal2-toast{box-sizing:border-box;grid-column:1/4 !important;grid-row:1/4 !important;grid-template-columns:min-content auto min-content;padding:1em;overflow-y:hidden;border:var(--swal2-toast-border);background:var(--swal2-background);box-shadow:var(--swal2-toast-box-shadow);pointer-events:all}.swal2-toast>*{grid-column:2}.swal2-toast h2:where(.swal2-title){margin:.5em 1em;padding:0;font-size:1em;text-align:initial}.swal2-toast .swal2-loading{justify-content:center}.swal2-toast input:where(.swal2-input){height:2em;margin:.5em;font-size:1em}.swal2-toast .swal2-validation-message{font-size:1em}.swal2-toast div:where(.swal2-footer){margin:.5em 0 0;padding:.5em 0 0;font-size:.8em}.swal2-toast button:where(.swal2-close){grid-column:3/3;grid-row:1/99;align-self:center;width:.8em;height:.8em;margin:0;font-size:2em}.swal2-toast div:where(.swal2-html-container){margin:.5em 1em;padding:0;overflow:initial;font-size:1em;text-align:initial}.swal2-toast div:where(.swal2-html-container):empty{padding:0}.swal2-toast .swal2-loader{grid-column:1;grid-row:1/99;align-self:center;width:2em;height:2em;margin:.25em}.swal2-toast .swal2-icon{grid-column:1;grid-row:1/99;align-self:center;width:2em;min-width:2em;height:2em;margin:0 .5em 0 0}.swal2-toast .swal2-icon .swal2-icon-content{display:flex;align-items:center;font-size:1.8em;font-weight:bold}.swal2-toast .swal2-icon.swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line]{top:.875em;width:1.375em}.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=left]{left:.3125em}.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=right]{right:.3125em}.swal2-toast div:where(.swal2-actions){justify-content:flex-start;height:auto;margin:0;margin-top:.5em;padding:0 .5em}.swal2-toast button:where(.swal2-styled){margin:.25em .5em;padding:.4em .6em;font-size:1em}.swal2-toast .swal2-success{border-color:#a5dc86}.swal2-toast .swal2-success [class^=swal2-success-circular-line]{position:absolute;width:1.6em;height:3em;border-radius:50%}.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=left]{top:-0.8em;left:-0.5em;transform:rotate(-45deg);transform-origin:2em 2em;border-radius:4em 0 0 4em}.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=right]{top:-0.25em;left:.9375em;transform-origin:0 1.5em;border-radius:0 4em 4em 0}.swal2-toast .swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-toast .swal2-success .swal2-success-fix{top:0;left:.4375em;width:.4375em;height:2.6875em}.swal2-toast .swal2-success [class^=swal2-success-line]{height:.3125em}.swal2-toast .swal2-success [class^=swal2-success-line][class$=tip]{top:1.125em;left:.1875em;width:.75em}.swal2-toast .swal2-success [class^=swal2-success-line][class$=long]{top:.9375em;right:.1875em;width:1.375em}@container swal2-popup style(--swal2-icon-animations:true){.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-tip{animation:swal2-toast-animate-success-line-tip .75s}.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-long{animation:swal2-toast-animate-success-line-long .75s}}.swal2-toast.swal2-show{animation:var(--swal2-toast-show-animation)}.swal2-toast.swal2-hide{animation:var(--swal2-toast-hide-animation)}@keyframes swal2-show{0%{transform:scale(0.7)}45%{transform:scale(1.05)}80%{transform:scale(0.95)}100%{transform:scale(1)}}@keyframes swal2-hide{0%{transform:scale(1);opacity:1}100%{transform:scale(0.5);opacity:0}}@keyframes swal2-animate-success-line-tip{0%{top:1.1875em;left:.0625em;width:0}54%{top:1.0625em;left:.125em;width:0}70%{top:2.1875em;left:-0.375em;width:3.125em}84%{top:3em;left:1.3125em;width:1.0625em}100%{top:2.8125em;left:.8125em;width:1.5625em}}@keyframes swal2-animate-success-line-long{0%{top:3.375em;right:2.875em;width:0}65%{top:3.375em;right:2.875em;width:0}84%{top:2.1875em;right:0;width:3.4375em}100%{top:2.375em;right:.5em;width:2.9375em}}@keyframes swal2-rotate-success-circular-line{0%{transform:rotate(-45deg)}5%{transform:rotate(-45deg)}12%{transform:rotate(-405deg)}100%{transform:rotate(-405deg)}}@keyframes swal2-animate-error-x-mark{0%{margin-top:1.625em;transform:scale(0.4);opacity:0}50%{margin-top:1.625em;transform:scale(0.4);opacity:0}80%{margin-top:-0.375em;transform:scale(1.15)}100%{margin-top:0;transform:scale(1);opacity:1}}@keyframes swal2-animate-error-icon{0%{transform:rotateX(100deg);opacity:0}100%{transform:rotateX(0deg);opacity:1}}@keyframes swal2-rotate-loading{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}@keyframes swal2-animate-question-mark{0%{transform:rotateY(-360deg)}100%{transform:rotateY(0)}}@keyframes swal2-animate-i-mark{0%{transform:rotateZ(45deg);opacity:0}25%{transform:rotateZ(-25deg);opacity:.4}50%{transform:rotateZ(15deg);opacity:.8}75%{transform:rotateZ(-5deg);opacity:1}100%{transform:rotateX(0);opacity:1}}@keyframes swal2-toast-show{0%{transform:translateY(-0.625em) rotateZ(2deg)}33%{transform:translateY(0) rotateZ(-2deg)}66%{transform:translateY(0.3125em) rotateZ(2deg)}100%{transform:translateY(0) rotateZ(0deg)}}@keyframes swal2-toast-hide{100%{transform:rotateZ(1deg);opacity:0}}@keyframes swal2-toast-animate-success-line-tip{0%{top:.5625em;left:.0625em;width:0}54%{top:.125em;left:.125em;width:0}70%{top:.625em;left:-0.25em;width:1.625em}84%{top:1.0625em;left:.75em;width:.5em}100%{top:1.125em;left:.1875em;width:.75em}}@keyframes swal2-toast-animate-success-line-long{0%{top:1.625em;right:1.375em;width:0}65%{top:1.25em;right:.9375em;width:0}84%{top:.9375em;right:0;width:1.125em}100%{top:.9375em;right:.1875em;width:1.375em}}');const Mj=["Abarth","Alfa Romeo","Alpine","Aston Martin","Audi","Bentley","BMW","BYD","Chevrolet","Chrysler","Citroën","Cupra","Dacia","Daewoo","Daihatsu","Dodge","DS","Ferrari","Fiat","Ford","GMC","Honda","Hummer","Hyundai","Infiniti","Isuzu","Jaguar","Jeep","Kia","Lada","Lamborghini","Lancia","Land Rover","Lexus","Lotus","Maserati","Mazda","McLaren","Mercedes-Benz","Mini","Mitsubishi","Nissan","Opel","Peugeot","Polestar","Porsche","Renault","Rolls-Royce","Rover","Saab","Seat","Skoda","Smart","Ssangyong","Subaru","Suzuki","Tesla","Toyota","Volkswagen","Volvo"],Dj=["Diesel","E85 (Ethanol)","Electrique","Essence","GPL","Hybride","Hybride rechargeable","Hydrogène","Autre"],Fj=["Blanc","Noir","Gris","Bleu","Rouge","Vert","Jaune","Orange","Marron","Violet","Beige","Autre"],Bj=["Noir","Gris","Beige","Marron","Rouge","Bleu","Blanc","Autre"],Uj=[{value:"1",label:"Crit’Air 1"},{value:"2",label:"Crit’Air 2"},{value:"3",label:"Crit’Air 3"},{value:"4",label:"Crit’Air 4"},{value:"5",label:"Crit’Air 5"},{value:"verte",label:"Vignette verte (Électrique/Hydrogène)"},{value:"non éligible",label:"Véhicule non éligible à une vignette"}],zj=[{num:"01",nom:"Ain"},{num:"02",nom:"Aisne"},{num:"03",nom:"Allier"},{num:"04",nom:"Alpes-de-Haute-Provence"},{num:"05",nom:"Hautes-Alpes"},{num:"06",nom:"Alpes-Maritimes"},{num:"07",nom:"Ardèche"},{num:"08",nom:"Ardennes"},{num:"09",nom:"Ariège"},{num:"10",nom:"Aube"},{num:"11",nom:"Aude"},{num:"12",nom:"Aveyron"},{num:"13",nom:"Bouches-du-Rhône"},{num:"14",nom:"Calvados"},{num:"15",nom:"Cantal"},{num:"16",nom:"Charente"},{num:"17",nom:"Charente-Maritime"},{num:"18",nom:"Cher"},{num:"19",nom:"Corrèze"},{num:"2A",nom:"Corse-du-Sud"},{num:"2B",nom:"Haute-Corse"},{num:"21",nom:"Côte-d'Or"},{num:"22",nom:"Côtes-d'Armor"},{num:"23",nom:"Creuse"},{num:"24",nom:"Dordogne"},{num:"25",nom:"Doubs"},{num:"26",nom:"Drôme"},{num:"27",nom:"Eure"},{num:"28",nom:"Eure-et-Loir"},{num:"29",nom:"Finistère"},{num:"30",nom:"Gard"},{num:"31",nom:"Haute-Garonne"},{num:"32",nom:"Gers"},{num:"33",nom:"Gironde"},{num:"34",nom:"Hérault"},{num:"35",nom:"Ille-et-Vilaine"},{num:"36",nom:"Indre"},{num:"37",nom:"Indre-et-Loire"},{num:"38",nom:"Isère"},{num:"39",nom:"Jura"},{num:"40",nom:"Landes"},{num:"41",nom:"Loir-et-Cher"},{num:"42",nom:"Loire"},{num:"43",nom:"Haute-Loire"},{num:"44",nom:"Loire-Atlantique"},{num:"45",nom:"Loiret"},{num:"46",nom:"Lot"},{num:"47",nom:"Lot-et-Garonne"},{num:"48",nom:"Lozère"},{num:"49",nom:"Maine-et-Loire"},{num:"50",nom:"Manche"},{num:"51",nom:"Marne"},{num:"52",nom:"Haute-Marne"},{num:"53",nom:"Mayenne"},{num:"54",nom:"Meurthe-et-Moselle"},{num:"55",nom:"Meuse"},{num:"56",nom:"Morbihan"},{num:"57",nom:"Moselle"},{num:"58",nom:"Nièvre"},{num:"59",nom:"Nord"},{num:"60",nom:"Oise"},{num:"61",nom:"Orne"},{num:"62",nom:"Pas-de-Calais"},{num:"63",nom:"Puy-de-Dôme"},{num:"64",nom:"Pyrénées-Atlantiques"},{num:"65",nom:"Hautes-Pyrénées"},{num:"66",nom:"Pyrénées-Orientales"},{num:"67",nom:"Bas-Rhin"},{num:"68",nom:"Haut-Rhin"},{num:"69",nom:"Rhône"},{num:"70",nom:"Haute-Saône"},{num:"71",nom:"Saône-et-Loire"},{num:"72",nom:"Sarthe"},{num:"73",nom:"Savoie"},{num:"74",nom:"Haute-Savoie"},{num:"75",nom:"Paris"},{num:"76",nom:"Seine-Maritime"},{num:"77",nom:"Seine-et-Marne"},{num:"78",nom:"Yvelines"},{num:"79",nom:"Deux-Sèvres"},{num:"80",nom:"Somme"},{num:"81",nom:"Tarn"},{num:"82",nom:"Tarn-et-Garonne"},{num:"83",nom:"Var"},{num:"84",nom:"Vaucluse"},{num:"85",nom:"Vendée"},{num:"86",nom:"Vienne"},{num:"87",nom:"Haute-Vienne"},{num:"88",nom:"Vosges"},{num:"89",nom:"Yonne"},{num:"90",nom:"Territoire de Belfort"},{num:"91",nom:"Essonne"},{num:"92",nom:"Hauts-de-Seine"},{num:"93",nom:"Seine-Saint-Denis"},{num:"94",nom:"Val-de-Marne"},{num:"95",nom:"Val-d'Oise"},{num:"971",nom:"Guadeloupe"},{num:"972",nom:"Martinique"},{num:"973",nom:"Guyane"},{num:"974",nom:"La Réunion"},{num:"976",nom:"Mayotte"}];function qj(){var w;const[e,t]=k.useState({nom:"",telephone:"",marque:"",modele:"",version:"",finition:"",annee:"",kilometrage:"",nb_portes:"",nb_places:"",couleur:"",couleur_interieure:"",critair:"",motorisation:"",boite_vitesse:"",energie:"",puissance_fiscale:"",puissance_din:"",departement:"",prix_net_vendeur:"",commission_ttc:"",prix_affiche:"",pneu_av_g:"",pneu_av_d:"",pneu_ar_g:"",pneu_ar_d:"",plaquettes_av:"",plaquettes_ar:"",type_distribution:"",annee_distribution:"",huile_moteur:"",fuite_huile:"",embrayage:"",vibrations:"",commentaire_test:"",carrosserie:"",interieur:"",entretien:[],garantie:"",photo_url:[],equipements:[]}),[n,r]=k.useState([]),[s,i]=k.useState("");Kn();const o=g=>{const{name:y,value:b}=g.target;let m={...e,[y]:b};if(y==="prix_net_vendeur"){const f=parseFloat(b)||0;let p=0;f<=15e3?p=1090:f<=25e3?p=1490:f<=35e3?p=1990:f<=45e3?p=2490:f<=6e4?p=2990:f<=9e4?p=3490:f<=12e4?p=4490:p=5990,m.commission_ttc=p.toString(),m.prix_affiche=(f+p).toString()}t(m)},l="mandat-photos",u=async()=>{const g=[];if(!n.length)return g;for(let y=0;y<n.length;y++){const b=n[y],m=`${Date.now()}-${b.name}`,{error:f}=await ne.storage.from(l).upload(`mandats/${m}`,b);if(f)console.error("Erreur d’upload Supabase:",f);else{const{data:p}=ne.storage.from(l).getPublicUrl(`mandats/${m}`);g.push(p.publicUrl)}}return g},c=async g=>{g.preventDefault();const y=[];if(e.marque||y.push("Marque"),e.modele||y.push("Modèle"),e.prix_net_vendeur||y.push("Prix net vendeur"),e.departement||y.push("Département"),y.length>0){en.fire({icon:"error",title:"Champs obligatoires manquants",text:`Merci de compléter : ${y.join(", ")}.`,confirmButtonColor:"#FFD700"});return}const{data:{session:b}}=await ne.auth.getSession();if(!(b!=null&&b.user))return;const m=b.user.id,f=await u(),p={...e,kilometrage:e.kilometrage?parseInt(e.kilometrage):null,nb_portes:e.nb_portes?parseInt(e.nb_portes):null,nb_places:e.nb_places?parseInt(e.nb_places):null,puissance_fiscale:e.puissance_fiscale?parseInt(e.puissance_fiscale):null,puissance_din:e.puissance_din?parseInt(e.puissance_din):null,prix_net_vendeur:e.prix_net_vendeur?parseInt(e.prix_net_vendeur):null,commission_ttc:e.commission_ttc?parseInt(e.commission_ttc):null,prix_affiche:e.prix_affiche?parseInt(e.prix_affiche):null,pneu_av_g:e.pneu_av_g?parseInt(e.pneu_av_g):null,pneu_av_d:e.pneu_av_d?parseInt(e.pneu_av_d):null,pneu_ar_g:e.pneu_ar_g?parseInt(e.pneu_ar_g):null,pneu_ar_d:e.pneu_ar_d?parseInt(e.pneu_ar_d):null},{error:x}=await ne.from("mandats").insert([{...p,photo_url:f,annee:e.annee?new Date(e.annee).toISOString():null,user_id:m,agent_id:m}]);x?(console.error("Erreur lors de la création :",x.message),en.fire({icon:"error",title:"Erreur à la création",text:"Une erreur est survenue. Veuillez réessayer.",confirmButtonColor:"#FFD700"})):en.fire({icon:"success",title:"Mandat créé avec succès",text:"Le mandat a bien été ajouté.",confirmButtonColor:"#20be63"}).then(()=>{window.location.href="/dashboard"})},d=()=>{t(g=>({...g,entretien:[...g.entretien||[],{km:"",date:"",description:"",prestataire:""}]}))},h=(g,y,b)=>{const m=[...e.entretien];m[g][y]=b,t({...e,entretien:m})},v=g=>{const y=parseInt(g);return y>=70?"border-red-500 text-red-600":y>=40?"border-orange-400 text-orange-500":"border-green-500 text-green-600"};return a.jsxs("div",{className:"p-6 max-w-5xl mx-auto",children:[a.jsx("h2",{className:"text-2xl font-bold mb-6",children:"Créer un nouveau mandat"}),a.jsxs("div",{className:"rounded-2xl border bg-card p-4 flex flex-col gap-3 mb-6",children:[a.jsx("h4",{className:"font-semibold text-lg mb-2",children:"Contact"}),a.jsxs("div",{className:"flex flex-col md:flex-row gap-3",children:[a.jsxs("div",{className:"w-full",children:[a.jsx("label",{className:"block text-sm font-medium mb-1",children:"Nom client"}),a.jsx("input",{type:"text",name:"nom",value:e.nom,onChange:o,className:"w-full border rounded-lg px-3 py-2 text-sm",placeholder:"Nom du client"})]}),a.jsxs("div",{className:"w-full",children:[a.jsx("label",{className:"block text-sm font-medium mb-1",children:"Téléphone"}),a.jsx("input",{type:"tel",name:"telephone",value:e.telephone,onChange:o,className:"w-full border rounded-lg px-3 py-2 text-sm",placeholder:"Téléphone du client"})]})]})]}),a.jsxs("form",{onSubmit:c,children:[a.jsxs("div",{className:"bg-white rounded-lg p-6 shadow-md mb-6",children:[a.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Informations générales"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{className:"w-full",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Marque"}),a.jsxs("select",{name:"marque",value:e.marque,onChange:o,className:"w-full border border-gray-300 rounded-md py-2 px-3 bg-white text-gray-900 focus:outline-none focus:ring-2 focus:ring-blue-500",children:[a.jsx("option",{value:"",children:"-- Sélectionner une marque --"}),Mj.map(g=>a.jsx("option",{value:g,children:g},g))]})]}),a.jsxs("div",{className:"w-full",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Modèle"}),a.jsx("input",{type:"text",name:"modele",value:e.modele||"",onChange:o,placeholder:"ex : 208",className:"w-full border border-gray-300 rounded-md py-2 px-3 bg-white text-gray-900 focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),a.jsxs("div",{className:"w-full",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Version"}),a.jsx("input",{type:"text",name:"version",value:e.version||"",onChange:o,placeholder:"ex : 1.2 PureTech",className:"w-full border border-gray-300 rounded-md py-2 px-3 bg-white text-gray-900 focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),a.jsxs("div",{className:"w-full",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Finition"}),a.jsx("input",{type:"text",name:"finition",value:e.finition||"",onChange:o,placeholder:"ex : Allure",className:"w-full border border-gray-300 rounded-md py-2 px-3 bg-white text-gray-900 focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),a.jsxs("div",{className:"w-full",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Année de mise en circulation"}),a.jsx("input",{type:"date",name:"annee",value:e.annee||"",onChange:o,className:"w-full border border-gray-300 rounded-md py-2 px-3 bg-white text-gray-900 focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),a.jsxs("div",{className:"w-full",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Kilométrage"}),a.jsx("input",{type:"text",name:"kilometrage",value:e.kilometrage||"",onChange:o,placeholder:"ex : 120000",className:"w-full border border-gray-300 rounded-md py-2 px-3 bg-white text-gray-900 focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),a.jsxs("div",{className:"w-full",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Boîte de vitesse"}),a.jsxs("select",{name:"boite_vitesse",value:e.boite_vitesse,onChange:o,className:"w-full border border-gray-300 rounded-md py-2 px-3 bg-white text-gray-900 focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0,children:[a.jsx("option",{value:"",children:"-- Sélectionner --"}),a.jsx("option",{value:"Manuelle",children:"Manuelle"}),a.jsx("option",{value:"Automatique",children:"Automatique"}),a.jsx("option",{value:"Séquentielle",children:"Séquentielle"}),a.jsx("option",{value:"Autre",children:"Autre"})]})]}),a.jsxs("div",{className:"w-full",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Nombre de portes"}),a.jsxs("select",{name:"nb_portes",value:e.nb_portes,onChange:o,className:"w-full border border-gray-300 rounded-md py-2 px-3 bg-white text-gray-900 focus:outline-none focus:ring-2 focus:ring-blue-500",children:[a.jsx("option",{value:"",children:"-- Sélectionner --"}),[2,3,4,5].map(g=>a.jsx("option",{value:g,children:g},g))]})]}),a.jsxs("div",{className:"w-full",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Nombre de places"}),a.jsxs("select",{name:"nb_places",value:e.nb_places,onChange:o,className:"w-full border border-gray-300 rounded-md py-2 px-3 bg-white text-gray-900 focus:outline-none focus:ring-2 focus:ring-blue-500",children:[a.jsx("option",{value:"",children:"-- Sélectionner --"}),[1,2,3,4,5,6,7,8,9].map(g=>a.jsx("option",{value:g,children:g},g))]})]}),a.jsxs("div",{className:"w-full",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Couleur extérieure"}),a.jsxs("select",{name:"couleur",value:e.couleur,onChange:o,className:"w-full border border-gray-300 rounded-md py-2 px-3 bg-white text-gray-900 focus:outline-none focus:ring-2 focus:ring-blue-500",children:[a.jsx("option",{value:"",children:"-- Sélectionner --"}),Fj.map(g=>a.jsx("option",{value:g,children:g},g))]}),e.couleur==="Autre"&&a.jsx("input",{type:"text",name:"couleur",value:e.couleur_interieure||"",onChange:g=>t({...e,couleur_interieure:g.target.value}),placeholder:"Précisez la couleur",className:"w-full border border-gray-300 rounded-md py-2 px-3 mt-2"})]}),a.jsxs("div",{className:"w-full",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Couleur intérieure"}),a.jsxs("select",{name:"couleur_interieure",value:e.couleur_interieure,onChange:o,className:"w-full border border-gray-300 rounded-md py-2 px-3 bg-white text-gray-900 focus:outline-none focus:ring-2 focus:ring-blue-500",children:[a.jsx("option",{value:"",children:"-- Sélectionner --"}),Bj.map(g=>a.jsx("option",{value:g,children:g},g))]}),e.couleur_interieure==="Autre"&&a.jsx("input",{type:"text",name:"couleur_interieure",value:e.couleur_interieure||"",onChange:g=>t({...e,couleur_interieure:g.target.value}),placeholder:"Précisez la couleur",className:"w-full border border-gray-300 rounded-md py-2 px-3 mt-2"})]}),a.jsxs("div",{className:"w-full md:col-span-2",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Vignette Crit’Air"}),a.jsxs("select",{name:"critair",value:e.critair,onChange:o,className:"w-full border border-gray-300 rounded-md py-2 px-3 bg-white text-gray-900 focus:outline-none focus:ring-2 focus:ring-blue-500",children:[a.jsx("option",{value:"",children:"-- Sélectionner --"}),Uj.map(g=>a.jsx("option",{value:g.value,children:g.label},g.value))]})]})]})]}),a.jsxs("div",{className:"bg-white rounded-lg p-6 shadow-md mb-6",children:[a.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Motorisation et puissance"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{className:"w-full",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Motorisation"}),a.jsx("input",{type:"text",name:"motorisation",value:e.motorisation||"",onChange:o,placeholder:"ex : 1.5 TDCi",className:"w-full border border-gray-300 rounded-md py-2 px-3 bg-white text-gray-900 focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),a.jsxs("div",{className:"w-full",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Type de carburant"}),a.jsxs("select",{name:"energie",value:e.energie,onChange:o,className:"w-full border border-gray-300 rounded-md py-2 px-3 bg-white text-gray-900 focus:outline-none focus:ring-2 focus:ring-blue-500",children:[a.jsx("option",{value:"",children:"-- Sélectionner --"}),Dj.map(g=>a.jsx("option",{value:g,children:g},g))]})]}),a.jsxs("div",{className:"w-full",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Puissance fiscale"}),a.jsx("input",{type:"text",name:"puissance_fiscale",value:e.puissance_fiscale||"",onChange:o,placeholder:"ex : 6 CV",className:"w-full border border-gray-300 rounded-md py-2 px-3 bg-white text-gray-900 focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),a.jsxs("div",{className:"w-full",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Puissance DIN"}),a.jsx("input",{type:"text",name:"puissance_din",value:e.puissance_din||"",onChange:o,placeholder:"ex : 110 ch",className:"w-full border border-gray-300 rounded-md py-2 px-3 bg-white text-gray-900 focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]})]}),a.jsxs("div",{className:"bg-white rounded-lg p-6 shadow-md mb-6",children:[a.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Localisation et prix"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{className:"w-full",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Département"}),a.jsxs("select",{name:"departement",value:e.departement,onChange:o,className:"w-full border border-gray-300 rounded-md py-2 px-3 bg-white text-gray-900 focus:outline-none focus:ring-2 focus:ring-blue-500",children:[a.jsx("option",{value:"",children:"-- Sélectionner --"}),zj.map(g=>a.jsxs("option",{value:g.num,children:[g.num," - ",g.nom]},g.num))]})]}),a.jsxs("div",{className:"w-full",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Prix net vendeur (€)"}),a.jsx("input",{type:"text",name:"prix_net_vendeur",value:e.prix_net_vendeur||"",onChange:o,placeholder:"Prix net vendeur (€)",className:"w-full border border-gray-300 rounded-md py-2 px-3 bg-white text-gray-900 focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),a.jsxs("div",{className:"w-full",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Commission (€)"}),a.jsx("input",{type:"text",name:"commission_ttc",value:e.commission_ttc||"",readOnly:!0,placeholder:"Commission (€)",className:"w-full border border-gray-300 rounded-md py-2 px-3 bg-gray-100 text-gray-600"})]}),a.jsxs("div",{className:"w-full",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Prix affiché (€)"}),a.jsx("input",{type:"text",name:"prix_affiche",value:e.prix_affiche||"",readOnly:!0,placeholder:"Prix affiché (€)",className:"w-full border border-gray-300 rounded-md py-2 px-3 bg-gray-100 text-gray-600"})]})]})]}),a.jsxs("div",{className:"bg-white p-6 shadow-md mb-6 rounded-lg",children:[a.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Usure des pneus (%)"}),a.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:["pneu_av_g","pneu_av_d","pneu_ar_g","pneu_ar_d"].map(g=>a.jsxs("div",{children:[a.jsx("label",{className:"text-sm block mb-1",children:g.replace(/_/g," ").toUpperCase()}),a.jsx("input",{type:"number",name:g,value:e[g]||"",onChange:o,className:`input ${v(e[g])}`,placeholder:"ex: 50"})]},g))})]}),a.jsxs("div",{className:"bg-white p-6 shadow-md mb-6 rounded-lg",children:[a.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Freinage"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{className:"w-full",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Plaquettes avant"}),a.jsxs("select",{name:"plaquettes_av",value:e.plaquettes_av||"",onChange:o,className:"w-full border border-gray-300 rounded-md py-2 px-3 bg-white text-gray-900 focus:outline-none focus:ring-2 focus:ring-blue-500",children:[a.jsx("option",{value:"",children:"-- Sélectionner --"}),a.jsx("option",{value:"bon",children:"Bon"}),a.jsx("option",{value:"moyen",children:"Moyen"}),a.jsx("option",{value:"à changer",children:"À changer"})]})]}),a.jsxs("div",{className:"w-full",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Plaquettes arrière"}),a.jsxs("select",{name:"plaquettes_ar",value:e.plaquettes_ar||"",onChange:o,className:"w-full border border-gray-300 rounded-md py-2 px-3 bg-white text-gray-900 focus:outline-none focus:ring-2 focus:ring-blue-500",children:[a.jsx("option",{value:"",children:"-- Sélectionner --"}),a.jsx("option",{value:"bon",children:"Bon"}),a.jsx("option",{value:"moyen",children:"Moyen"}),a.jsx("option",{value:"à changer",children:"À changer"})]})]})]})]}),a.jsxs("div",{className:"bg-white p-6 shadow-md mb-6 rounded-lg",children:[a.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Distribution"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{className:"w-full",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Type de distribution"}),a.jsxs("select",{name:"type_distribution",value:e.type_distribution||"",onChange:o,className:"w-full border border-gray-300 rounded-md py-2 px-3 bg-white text-gray-900 focus:outline-none focus:ring-2 focus:ring-blue-500",children:[a.jsx("option",{value:"",children:"-- Sélectionner --"}),a.jsx("option",{value:"chaine",children:"Chaîne"}),a.jsx("option",{value:"courroie",children:"Courroie"})]})]}),a.jsxs("div",{className:"w-full",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Année"}),a.jsx("input",{type:"text",name:"annee_distribution",value:e.annee_distribution||"",onChange:o,placeholder:"ex: 2020",className:"w-full border border-gray-300 rounded-md py-2 px-3 bg-white text-gray-900 focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]})]}),a.jsxs("div",{className:"bg-white p-6 shadow-md mb-6 rounded-lg",children:[a.jsx("h3",{className:"text-lg font-semibold mb-4",children:"État moteur"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{className:"w-full",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"État de l’huile"}),a.jsxs("select",{name:"huile_moteur",value:e.huile_moteur||"",onChange:o,className:"w-full border border-gray-300 rounded-md py-2 px-3 bg-white text-gray-900 focus:outline-none focus:ring-2 focus:ring-blue-500",children:[a.jsx("option",{value:"",children:"-- Sélectionner --"}),a.jsx("option",{value:"propre",children:"Propre"}),a.jsx("option",{value:"usée",children:"Usée"})]})]}),a.jsxs("div",{className:"w-full",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Fuite d’huile"}),a.jsxs("select",{name:"fuite_huile",value:e.fuite_huile||"",onChange:o,className:"w-full border border-gray-300 rounded-md py-2 px-3 bg-white text-gray-900 focus:outline-none focus:ring-2 focus:ring-blue-500",children:[a.jsx("option",{value:"",children:"-- Sélectionner --"}),a.jsx("option",{value:"aucune",children:"Aucune"}),a.jsx("option",{value:"légère",children:"Légère"}),a.jsx("option",{value:"importante",children:"Importante"})]})]})]})]}),a.jsxs("div",{className:"bg-white p-6 shadow-md mb-6 rounded-lg",children:[a.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Essai routier"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[a.jsxs("div",{className:"w-full",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"État de l’embrayage"}),a.jsxs("select",{name:"embrayage",value:e.embrayage||"",onChange:o,className:"w-full border border-gray-300 rounded-md py-2 px-3 bg-white text-gray-900 focus:outline-none focus:ring-2 focus:ring-blue-500",children:[a.jsx("option",{value:"",children:"-- Sélectionner --"}),a.jsx("option",{value:"très bon",children:"Très bon"}),a.jsx("option",{value:"bon",children:"Bon"}),a.jsx("option",{value:"correct",children:"Correct"}),a.jsx("option",{value:"usé",children:"Usé"})]})]}),a.jsxs("div",{className:"w-full",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Vibrations observées"}),a.jsxs("select",{name:"vibrations",value:e.vibrations||"",onChange:o,className:"w-full border border-gray-300 rounded-md py-2 px-3 bg-white text-gray-900 focus:outline-none focus:ring-2 focus:ring-blue-500",children:[a.jsx("option",{value:"",children:"-- Sélectionner --"}),a.jsx("option",{value:"aucune",children:"Aucune"}),a.jsx("option",{value:"légère",children:"Légère"}),a.jsx("option",{value:"importante",children:"Importante"})]})]})]}),a.jsxs("div",{className:"w-full",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Commentaires essai"}),a.jsx("textarea",{name:"commentaire_test",value:e.commentaire_test||"",onChange:o,placeholder:"Notes ou impressions pendant l’essai routier",rows:4,className:"w-full border border-gray-300 rounded-md py-2 px-3 bg-white text-gray-900 focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]}),a.jsxs("div",{className:"bg-white p-6 shadow-md mb-6 rounded-lg",children:[a.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Esthétique"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{className:"w-full",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"État carrosserie"}),a.jsx("input",{type:"text",name:"carrosserie",value:e.carrosserie||"",onChange:o,placeholder:"ex : Quelques rayures",className:"w-full border border-gray-300 rounded-md py-2 px-3 bg-white text-gray-900 focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),a.jsxs("div",{className:"w-full",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"État intérieur"}),a.jsx("input",{type:"text",name:"interieur",value:e.interieur||"",onChange:o,placeholder:"ex : Bon état général",className:"w-full border border-gray-300 rounded-md py-2 px-3 bg-white text-gray-900 focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]})]}),a.jsxs("div",{className:"bg-white p-6 shadow-md mb-6 rounded-lg",children:[a.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Historique d’entretien"}),e.entretien&&e.entretien.length>0&&e.entretien.map((g,y)=>a.jsxs("div",{className:"border rounded-lg p-4 mb-4 grid grid-cols-1 md:grid-cols-4 gap-4 bg-gray-50",children:[a.jsx("input",{type:"number",name:"km",placeholder:"Kilométrage",value:g.km,onChange:b=>h(y,"km",b.target.value),className:"input"}),a.jsx("input",{type:"date",name:"date",value:g.date,onChange:b=>h(y,"date",b.target.value),className:"input"}),a.jsx("input",{type:"text",name:"description",placeholder:"Opération effectuée",value:g.description,onChange:b=>h(y,"description",b.target.value),className:"input"}),a.jsxs("select",{name:"prestataire",value:g.prestataire,onChange:b=>h(y,"prestataire",b.target.value),className:"input",children:[a.jsx("option",{value:"",children:"Prestataire"}),a.jsx("option",{value:"concessionnaire",children:"Concessionnaire"}),a.jsx("option",{value:"autre professionnel",children:"Autre professionnel"}),a.jsx("option",{value:"personnelle",children:"Main d’œuvre personnelle"})]})]},y)),a.jsx("div",{className:"text-right",children:a.jsx("button",{type:"button",onClick:d,className:"text-sm text-blue-600 hover:underline",children:"+ Ajouter une ligne"})})]}),a.jsxs("div",{className:"bg-white p-6 shadow-md mb-6 rounded-lg",children:[a.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Garantie"}),a.jsx("input",{name:"garantie",value:e.garantie,readOnly:!0,className:"input bg-gray-100"})]}),a.jsxs("div",{className:"bg-white p-6 shadow-md mb-6 rounded-lg",children:[a.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Photos"}),((w=e.photo_url)==null?void 0:w.length)>0?a.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-4",children:e.photo_url.map((g,y)=>a.jsxs("div",{className:"relative",children:[a.jsx("img",{src:g,alt:`Photo ${y+1}`,className:"rounded-md object-cover w-full h-32"}),a.jsx("button",{type:"button",onClick:()=>{const b=e.photo_url.filter((m,f)=>f!==y);t(m=>({...m,photo_url:b}))},className:"absolute top-1 right-1 bg-red-500 text-white text-xs px-2 py-1 rounded",children:"Supprimer"})]},y))}):a.jsx("p",{className:"text-gray-500 mb-4",children:"Aucune photo sélectionnée."}),a.jsx("input",{type:"file",accept:"image/*",multiple:!0,onChange:g=>r([...g.target.files]),className:"input"})]}),a.jsxs("div",{className:"bg-white p-6 shadow-md mb-6 rounded-lg",children:[a.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Équipements & options"}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-3",children:["Climatisation automatique","Sièges chauffants","Sièges électriques","Toit ouvrant","Toit panoramique","Radar de recul","Radar avant","Caméra de recul","Caméras 360°","GPS intégré","Apple CarPlay / Android Auto","Bluetooth","Régulateur de vitesse","Alerte franchissement de ligne","Détection angle mort","Feux xénon","Feux LED","Jantes alliage","Vitres teintées","Accès sans clé","Démarrage sans clé","Système audio premium","Affichage tête haute","Volant chauffant"].map(g=>{var y;return a.jsxs("label",{className:"flex items-center space-x-2",children:[a.jsx("input",{type:"checkbox",name:"equipements",value:g,checked:((y=e.equipements)==null?void 0:y.includes(g))||!1,onChange:b=>{const{value:m,checked:f}=b.target,p=e.equipements||[];t({...e,equipements:f?[...p,m]:p.filter(x=>x!==m)})}}),a.jsx("span",{children:g})]},g)})})]}),a.jsx("div",{className:"mt-6",children:a.jsx("button",{type:"submit",className:"btn btn-primary w-full",children:"Enregistrer le mandat"})}),s&&a.jsx("div",{className:"mt-4 text-green-600 font-semibold text-center",children:s})]})]})}const Lf=e=>Intl.NumberFormat("fr-FR",{style:"currency",currency:"EUR"}).format(Number(e||0));function Hj({item:e,onChangeStatus:t,onEdit:n,onDelete:r}){if(!e)return null;const s=e.marque??"",i=e.modele??e.model??"",o=e.prix_affiche,l=e.commission_ttc,u=e.nom??"-",c=e.telephone??"-",d=e.photo_url&&String(e.photo_url).length>3?String(e.photo_url):null;return a.jsxs("div",{className:"rounded-lg border border-neutral-200 bg-neutral-900 p-2 flex flex-col gap-1 w-full max-w-full md:max-w-[270px] shadow-sm text-white",children:[d&&a.jsx("div",{className:"w-full aspect-[4/3] mb-1 rounded-md overflow-hidden bg-black/10 max-h-[60px]",children:a.jsx("img",{src:d,alt:`${s} ${i}`.trim()||"Véhicule",className:"w-full h-full object-cover max-h-[60px]",loading:"lazy",decoding:"async",onError:h=>{h.currentTarget.style.display="none"}})}),a.jsxs("div",{className:"text-[15px] font-semibold leading-tight text-white",children:[s," ",i]}),a.jsxs("div",{className:"text-xs opacity-80 leading-tight text-white",children:["Nom : ",u]}),a.jsxs("div",{className:"text-xs opacity-80 leading-tight text-white",children:["Téléphone : ",c]}),a.jsxs("div",{className:"text-xs opacity-80 leading-tight text-white",children:["Prix affiché : ",Lf(o)]}),a.jsxs("div",{className:"text-xs opacity-80 leading-tight text-white",children:["Commission TTC : ",Lf(l)]}),a.jsxs("div",{className:"flex flex-col gap-1 mt-1",children:[a.jsx("select",{value:e.statut??"",onChange:h=>t==null?void 0:t(e.id,h.target.value),className:"w-full bg-neutral-800 border border-neutral-700 rounded px-1 py-0.5 text-xs text-white focus:outline-none focus:ring-2 focus:ring-indigo-500/60 min-h-0 h-6",children:["Mandat signé","Publié","Sous offre","Vendu","Archivé"].map(h=>a.jsx("option",{value:h,children:h},h))}),a.jsxs("div",{className:"flex gap-1",children:[a.jsx("button",{className:"flex-1 border border-neutral-700 rounded py-0.5 text-xs bg-neutral-800 hover:bg-neutral-700 text-white transition min-h-0 h-6",onClick:()=>n==null?void 0:n(e),children:"Modifier"}),a.jsx("button",{className:"flex-1 border border-neutral-700 rounded py-0.5 text-xs text-red-400 bg-neutral-800 hover:bg-neutral-700 transition min-h-0 h-6",onClick:()=>r==null?void 0:r(e.id),children:"Supprimer"})]})]})]})}const To=["Mandat signé","Publié","Sous offre","Vendu","Archivé"];function Vj(){const[e,t]=k.useState([]),[n,r]=k.useState(!0),[s,i]=k.useState(null),[o,l]=k.useState(!1),u=Kn();k.useEffect(()=>{(async()=>{r(!0),i(null);try{const g=await Ri();t(g||[])}catch(g){i(g.message||"Erreur de chargement")}r(!1)})()},[]);const c=To.reduce((w,g)=>(w[g]=[],w),{});(e||[]).forEach(w=>{To.includes(w.statut)?c[w.statut].push(w):c[To[0]].push(w)});const d=async(w,g)=>{l(w);const y=e.find(m=>m.id===w);t(m=>m.map(f=>f.id===w?{...f,statut:g}:f));const{error:b}=await ne.from("mandats").update({statut:g}).eq("id",w);b&&(t(m=>m.map(f=>f.id===w?{...f,statut:y.statut}:f)),alert("Erreur de mise à jour du statut")),l(!1)},h=w=>{u(`/edit/${w.id}`)},v=async w=>{if(!window.confirm("Supprimer ce véhicule ?"))return;t(y=>y.filter(b=>b.id!==w));const{error:g}=await ne.from("mandats").delete().eq("id",w);g&&alert("Erreur lors de la suppression")};return a.jsx("div",{className:"px-4 pb-6 min-h-[100vh]",style:{background:"#f8f6f0"},children:a.jsxs("div",{children:[a.jsx("h1",{className:"text-xl font-semibold mb-2",style:{color:"#111"},children:"Mes mandats"}),n?a.jsx("div",{className:"text-gray-400 italic text-center py-8",children:"Chargement…"}):s?a.jsxs("div",{className:"text-red-500 italic text-center py-8",children:["Erreur : ",s]}):a.jsx("div",{className:"grid gap-3 md:grid-cols-5 grid-flow-col auto-cols-[minmax(210px,1fr)] overflow-x-auto md:overflow-visible",children:To.map(w=>{var g;return a.jsxs("section",{className:"min-w-[210px] max-w-[320px] flex flex-col gap-1 bg-neutral-900/90 rounded-lg border border-white/5 p-2 shadow",children:[a.jsxs("header",{className:"flex items-center justify-between px-1 py-2 rounded-t-xl bg-neutral-800/90",children:[a.jsx("h3",{className:"font-semibold text-sm text-white drop-shadow",children:w}),a.jsx("span",{className:"text-xs px-2 py-0.5 rounded-full bg-indigo-600 text-white font-bold shadow",children:((g=c[w])==null?void 0:g.length)||0})]}),a.jsx("div",{className:"flex flex-col gap-3",children:c[w].length===0?a.jsx("div",{className:"opacity-60 text-xs",children:"Aucun véhicule"}):c[w].map(y=>a.jsx(Hj,{item:y,onChangeStatus:d,onEdit:h,onDelete:v},y.id))})]},w)})})]})})}const Wj=["Abarth","Alfa Romeo","Alpine","Aston Martin","Audi","Bentley","BMW","BYD","Chevrolet","Chrysler","Citroën","Cupra","Dacia","Daewoo","Daihatsu","Dodge","DS","Ferrari","Fiat","Ford","GMC","Honda","Hummer","Hyundai","Infiniti","Isuzu","Jaguar","Jeep","Kia","Lada","Lamborghini","Lancia","Land Rover","Lexus","Lotus","Maserati","Mazda","McLaren","Mercedes-Benz","Mini","Mitsubishi","Nissan","Opel","Peugeot","Polestar","Porsche","Renault","Rolls-Royce","Rover","Saab","Seat","Skoda","Smart","Ssangyong","Subaru","Suzuki","Tesla","Toyota","Volkswagen","Volvo"],Kj=["Diesel","E85 (Ethanol)","Electrique","Essence","GPL","Hybride","Hybride rechargeable","Hydrogène","Autre"],Qj=["Blanc","Noir","Gris","Bleu","Rouge","Vert","Jaune","Orange","Marron","Violet","Beige","Autre"],Gj=["Noir","Gris","Beige","Marron","Rouge","Bleu","Blanc","Autre"],Jj=[{value:"1",label:"Crit’Air 1"},{value:"2",label:"Crit’Air 2"},{value:"3",label:"Crit’Air 3"},{value:"4",label:"Crit’Air 4"},{value:"5",label:"Crit’Air 5"},{value:"verte",label:"Vignette verte (Électrique/Hydrogène)"},{value:"non éligible",label:"Véhicule non éligible à une vignette"}],Yj=[{num:"01",nom:"Ain"},{num:"02",nom:"Aisne"},{num:"03",nom:"Allier"},{num:"04",nom:"Alpes-de-Haute-Provence"},{num:"05",nom:"Hautes-Alpes"},{num:"06",nom:"Alpes-Maritimes"},{num:"07",nom:"Ardèche"},{num:"08",nom:"Ardennes"},{num:"09",nom:"Ariège"},{num:"10",nom:"Aube"},{num:"11",nom:"Aude"},{num:"12",nom:"Aveyron"},{num:"13",nom:"Bouches-du-Rhône"},{num:"14",nom:"Calvados"},{num:"15",nom:"Cantal"},{num:"16",nom:"Charente"},{num:"17",nom:"Charente-Maritime"},{num:"18",nom:"Cher"},{num:"19",nom:"Corrèze"},{num:"2A",nom:"Corse-du-Sud"},{num:"2B",nom:"Haute-Corse"},{num:"21",nom:"Côte-d'Or"},{num:"22",nom:"Côtes-d'Armor"},{num:"23",nom:"Creuse"},{num:"24",nom:"Dordogne"},{num:"25",nom:"Doubs"},{num:"26",nom:"Drôme"},{num:"27",nom:"Eure"},{num:"28",nom:"Eure-et-Loir"},{num:"29",nom:"Finistère"},{num:"30",nom:"Gard"},{num:"31",nom:"Haute-Garonne"},{num:"32",nom:"Gers"},{num:"33",nom:"Gironde"},{num:"34",nom:"Hérault"},{num:"35",nom:"Ille-et-Vilaine"},{num:"36",nom:"Indre"},{num:"37",nom:"Indre-et-Loire"},{num:"38",nom:"Isère"},{num:"39",nom:"Jura"},{num:"40",nom:"Landes"},{num:"41",nom:"Loir-et-Cher"},{num:"42",nom:"Loire"},{num:"43",nom:"Haute-Loire"},{num:"44",nom:"Loire-Atlantique"},{num:"45",nom:"Loiret"},{num:"46",nom:"Lot"},{num:"47",nom:"Lot-et-Garonne"},{num:"48",nom:"Lozère"},{num:"49",nom:"Maine-et-Loire"},{num:"50",nom:"Manche"},{num:"51",nom:"Marne"},{num:"52",nom:"Haute-Marne"},{num:"53",nom:"Mayenne"},{num:"54",nom:"Meurthe-et-Moselle"},{num:"55",nom:"Meuse"},{num:"56",nom:"Morbihan"},{num:"57",nom:"Moselle"},{num:"58",nom:"Nièvre"},{num:"59",nom:"Nord"},{num:"60",nom:"Oise"},{num:"61",nom:"Orne"},{num:"62",nom:"Pas-de-Calais"},{num:"63",nom:"Puy-de-Dôme"},{num:"64",nom:"Pyrénées-Atlantiques"},{num:"65",nom:"Hautes-Pyrénées"},{num:"66",nom:"Pyrénées-Orientales"},{num:"67",nom:"Bas-Rhin"},{num:"68",nom:"Haut-Rhin"},{num:"69",nom:"Rhône"},{num:"70",nom:"Haute-Saône"},{num:"71",nom:"Saône-et-Loire"},{num:"72",nom:"Sarthe"},{num:"73",nom:"Savoie"},{num:"74",nom:"Haute-Savoie"},{num:"75",nom:"Paris"},{num:"76",nom:"Seine-Maritime"},{num:"77",nom:"Seine-et-Marne"},{num:"78",nom:"Yvelines"},{num:"79",nom:"Deux-Sèvres"},{num:"80",nom:"Somme"},{num:"81",nom:"Tarn"},{num:"82",nom:"Tarn-et-Garonne"},{num:"83",nom:"Var"},{num:"84",nom:"Vaucluse"},{num:"85",nom:"Vendée"},{num:"86",nom:"Vienne"},{num:"87",nom:"Haute-Vienne"},{num:"88",nom:"Vosges"},{num:"89",nom:"Yonne"},{num:"90",nom:"Territoire de Belfort"},{num:"91",nom:"Essonne"},{num:"92",nom:"Hauts-de-Seine"},{num:"93",nom:"Seine-Saint-Denis"},{num:"94",nom:"Val-de-Marne"},{num:"95",nom:"Val-d'Oise"},{num:"971",nom:"Guadeloupe"},{num:"972",nom:"Martinique"},{num:"973",nom:"Guyane"},{num:"974",nom:"La Réunion"},{num:"976",nom:"Mayotte"}];function Xj(){var b;const{id:e}=Qg(),[t,n]=k.useState(null),[r,s]=k.useState(""),[i,o]=k.useState([]);if(k.useEffect(()=>{(async()=>{const{data:f,error:p}=await ne.from("mandats").select("*").eq("id",e).single();!p&&f&&n({...f,annee:f.annee?f.annee.slice(0,10):"",couleur_interieure:""})})()},[e]),!t)return a.jsx("p",{children:"Chargement…"});const l=[2,3,4,5],u=Array.from({length:9},(m,f)=>f+1),c=m=>{const{name:f,value:p}=m.target;let x={...t,[f]:p};if(f==="prix_net_vendeur"){const j=parseFloat(p)||0;let S=0;j<=15e3?S=1090:j<=25e3?S=1490:j<=35e3?S=1990:j<=45e3?S=2490:j<=6e4?S=2990:j<=9e4?S=3490:j<=12e4?S=4490:S=5990,x.commission_ttc=S.toString(),x.prix_affiche=(j+S).toString()}n(x)},d="mandat-photos",h=async()=>{const m=[];if(!i.length)return m;for(let f=0;f<i.length;f++){const p=i[f],x=`${Date.now()}-${p.name}`,{error:j}=await ne.storage.from(d).upload(`mandats/${x}`,p);if(j)console.error("Erreur d’upload Supabase:",j);else{const{data:S}=ne.storage.from(d).getPublicUrl(`mandats/${x}`);m.push(S.publicUrl)}}return m},v=async m=>{if(m.preventDefault(),!t.marque||!t.modele||!t.prix_net_vendeur||!t.departement){en.fire({icon:"error",title:"Champs obligatoires manquants",text:"Merci de compléter au moins : Marque, Modèle, Prix net vendeur et Département.",confirmButtonColor:"#FFD700"});return}const{data:{session:f}}=await ne.auth.getSession();if(!(f!=null&&f.user))return;const p=f.user.id;let x=t.photo_url;const j=await h();j&&j.length>0&&(x=j);const{error:S}=await ne.from("mandats").update({...t,photo_url:x,annee:t.annee?new Date(t.annee).toISOString():null,user_id:p}).eq("id",e);S?(console.error("Erreur lors de la modification :",S.message),en.fire({icon:"error",title:"Erreur à la modification",text:"Une erreur est survenue. Veuillez réessayer.",confirmButtonColor:"#FFD700"})):en.fire({icon:"success",title:"Mandat modifié avec succès",text:"Les modifications ont bien été enregistrées.",confirmButtonColor:"#20be63"}).then(()=>{window.location.href="/dashboard"})},w=()=>{n(m=>({...m,entretien:[...m.entretien||[],{km:"",date:"",description:"",prestataire:""}]}))},g=(m,f,p)=>{const x=[...t.entretien];x[m][f]=p,n({...t,entretien:x})},y=m=>{const f=parseInt(m);return f>=70?"border-red-500 text-red-600":f>=40?"border-orange-400 text-orange-500":"border-green-500 text-green-600"};return a.jsxs("div",{className:"p-6 max-w-5xl mx-auto",children:[a.jsx("h2",{className:"text-2xl font-bold mb-6",children:"Modifier le mandat"}),a.jsxs("div",{className:"rounded-2xl border bg-card p-4 flex flex-col gap-3 mb-6",children:[a.jsx("h4",{className:"font-semibold text-lg mb-2",children:"Contact"}),a.jsxs("div",{className:"flex flex-col md:flex-row gap-3",children:[a.jsxs("div",{className:"w-full",children:[a.jsx("label",{className:"block text-sm font-medium mb-1",children:"Nom client"}),a.jsx("input",{type:"text",name:"nom",value:(t==null?void 0:t.nom)||"",onChange:c,className:"w-full border rounded-lg px-3 py-2 text-sm",placeholder:"Nom du client"})]}),a.jsxs("div",{className:"w-full",children:[a.jsx("label",{className:"block text-sm font-medium mb-1",children:"Téléphone"}),a.jsx("input",{type:"tel",name:"telephone",value:(t==null?void 0:t.telephone)||"",onChange:c,className:"w-full border rounded-lg px-3 py-2 text-sm",placeholder:"Téléphone du client"})]})]})]}),a.jsxs("form",{onSubmit:v,children:[a.jsxs("div",{className:"bg-white rounded-lg p-6 shadow-md mb-6",children:[a.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Informations générales"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{className:"w-full",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Marque"}),a.jsxs("select",{name:"marque",value:t.marque,onChange:c,className:"w-full border border-gray-300 rounded-md py-2 px-3",children:[a.jsx("option",{value:"",children:"-- Sélectionner une marque --"}),Wj.map(m=>a.jsx("option",{value:m,children:m},m))]})]}),a.jsxs("div",{className:"w-full",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Modèle"}),a.jsx("input",{type:"text",name:"modele",value:t.modele||"",onChange:c,className:"w-full border border-gray-300 rounded-md py-2 px-3"})]}),a.jsxs("div",{className:"w-full",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Version"}),a.jsx("input",{type:"text",name:"version",value:t.version||"",onChange:c,className:"w-full border border-gray-300 rounded-md py-2 px-3"})]}),a.jsxs("div",{className:"w-full",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Finition"}),a.jsx("input",{type:"text",name:"finition",value:t.finition||"",onChange:c,className:"w-full border border-gray-300 rounded-md py-2 px-3"})]}),a.jsxs("div",{className:"w-full",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Année de mise en circulation"}),a.jsx("input",{type:"date",name:"annee",value:t.annee||"",onChange:c,className:"w-full border border-gray-300 rounded-md py-2 px-3"})]}),a.jsxs("div",{className:"w-full",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Kilométrage"}),a.jsx("input",{type:"text",name:"kilometrage",value:t.kilometrage||"",onChange:c,className:"w-full border border-gray-300 rounded-md py-2 px-3"})]}),a.jsxs("div",{className:"w-full",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Boîte de vitesse"}),a.jsxs("select",{name:"boite_vitesse",value:t.boite_vitesse||"",onChange:c,className:"w-full border border-gray-300 rounded-md py-2 px-3",required:!0,children:[a.jsx("option",{value:"",children:"-- Sélectionner --"}),a.jsx("option",{value:"Manuelle",children:"Manuelle"}),a.jsx("option",{value:"Automatique",children:"Automatique"}),a.jsx("option",{value:"Séquentielle",children:"Séquentielle"}),a.jsx("option",{value:"Autre",children:"Autre"})]})]}),a.jsxs("div",{className:"w-full",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Nombre de portes"}),a.jsxs("select",{name:"nb_portes",value:t.nb_portes||"",onChange:c,className:"w-full border border-gray-300 rounded-md py-2 px-3",children:[a.jsx("option",{value:"",children:"-- Sélectionner --"}),l.map(m=>a.jsx("option",{value:m,children:m},m))]})]}),a.jsxs("div",{className:"w-full",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Nombre de places"}),a.jsxs("select",{name:"nb_places",value:t.nb_places||"",onChange:c,className:"w-full border border-gray-300 rounded-md py-2 px-3",children:[a.jsx("option",{value:"",children:"-- Sélectionner --"}),u.map(m=>a.jsx("option",{value:m,children:m},m))]})]}),a.jsxs("div",{className:"w-full",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Couleur extérieure"}),a.jsxs("select",{name:"couleur",value:t.couleur,onChange:c,className:"w-full border border-gray-300 rounded-md py-2 px-3",children:[a.jsx("option",{value:"",children:"-- Sélectionner --"}),Qj.map(m=>a.jsx("option",{value:m,children:m},m))]}),t.couleur==="Autre"&&a.jsx("input",{type:"text",name:"couleur_interieure",value:t.couleur_interieure||"",onChange:c,placeholder:"Précisez la couleur",className:"mt-2 w-full border border-gray-300 rounded-md py-2 px-3"})]}),a.jsxs("div",{className:"w-full",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Couleur intérieure"}),a.jsxs("select",{name:"couleur_interieure",value:t.couleur_interieure,onChange:c,className:"w-full border border-gray-300 rounded-md py-2 px-3",children:[a.jsx("option",{value:"",children:"-- Sélectionner --"}),Gj.map(m=>a.jsx("option",{value:m,children:m},m))]}),t.couleur_interieure==="Autre"&&a.jsx("input",{type:"text",name:"couleur_interieure",value:t.couleur_interieure||"",onChange:c,placeholder:"Précisez la couleur",className:"mt-2 w-full border border-gray-300 rounded-md py-2 px-3"})]}),a.jsxs("div",{className:"w-full md:col-span-2",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Vignette Crit’Air"}),a.jsxs("select",{name:"critair",value:t.critair,onChange:c,className:"w-full border border-gray-300 rounded-md py-2 px-3",children:[a.jsx("option",{value:"",children:"-- Sélectionner --"}),Jj.map(m=>a.jsx("option",{value:m.value,children:m.label},m.value))]})]})]})]}),a.jsxs("div",{className:"bg-white rounded-lg p-6 shadow-md mb-6",children:[a.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Motorisation et puissance"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{className:"w-full",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Motorisation"}),a.jsx("input",{type:"text",name:"motorisation",value:t.motorisation||"",onChange:c,className:"w-full border border-gray-300 rounded-md py-2 px-3"})]}),a.jsxs("div",{className:"w-full",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Type de carburant"}),a.jsxs("select",{name:"energie",value:t.energie,onChange:c,className:"w-full border border-gray-300 rounded-md py-2 px-3",children:[a.jsx("option",{value:"",children:"-- Sélectionner --"}),Kj.map(m=>a.jsx("option",{value:m,children:m},m))]})]}),a.jsxs("div",{className:"w-full",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Puissance fiscale"}),a.jsx("input",{type:"text",name:"puissance_fiscale",value:t.puissance_fiscale||"",onChange:c,className:"w-full border border-gray-300 rounded-md py-2 px-3"})]}),a.jsxs("div",{className:"w-full",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Puissance DIN"}),a.jsx("input",{type:"text",name:"puissance_din",value:t.puissance_din||"",onChange:c,className:"w-full border border-gray-300 rounded-md py-2 px-3"})]})]})]}),a.jsxs("div",{className:"bg-white rounded-lg p-6 shadow-md mb-6",children:[a.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Localisation et prix"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{className:"w-full",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Département"}),a.jsxs("select",{name:"departement",value:t.departement||"",onChange:c,className:"w-full border border-gray-300 rounded-md py-2 px-3",children:[a.jsx("option",{value:"",children:"-- Sélectionner --"}),Yj.map(m=>a.jsxs("option",{value:m.num,children:[m.num," - ",m.nom]},m.num))]})]}),a.jsxs("div",{className:"w-full",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Prix net vendeur (€)"}),a.jsx("input",{type:"text",name:"prix_net_vendeur",value:t.prix_net_vendeur||"",onChange:c,className:"w-full border border-gray-300 rounded-md py-2 px-3"})]}),a.jsxs("div",{className:"w-full",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Commission (€)"}),a.jsx("input",{type:"text",name:"commission_ttc",value:t.commission_ttc||"",readOnly:!0,className:"w-full border border-gray-300 rounded-md py-2 px-3 bg-gray-100 text-gray-600"})]}),a.jsxs("div",{className:"w-full",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Prix affiché (€)"}),a.jsx("input",{type:"text",name:"prix_affiche",value:t.prix_affiche||"",readOnly:!0,className:"w-full border border-gray-300 rounded-md py-2 px-3 bg-gray-100 text-gray-600"})]})]})]}),a.jsxs("div",{className:"bg-white p-6 shadow-md mb-6 rounded-lg",children:[a.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Usure des pneus (%)"}),a.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:["pneu_av_g","pneu_av_d","pneu_ar_g","pneu_ar_d"].map(m=>a.jsxs("div",{children:[a.jsx("label",{className:"text-sm block mb-1",children:m.replace(/_/g," ").toUpperCase()}),a.jsx("input",{type:"number",name:m,value:t[m]||"",onChange:c,className:`input ${y(t[m])}`,placeholder:"ex: 50"})]},m))})]}),a.jsxs("div",{className:"bg-white p-6 shadow-md mb-6 rounded-lg",children:[a.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Freinage"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{className:"w-full",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Plaquettes avant"}),a.jsxs("select",{name:"plaquettes_av",value:t.plaquettes_av||"",onChange:c,className:"w-full border border-gray-300 rounded-md py-2 px-3 bg-white text-gray-900 focus:outline-none focus:ring-2 focus:ring-blue-500",children:[a.jsx("option",{value:"",children:"-- Sélectionner --"}),a.jsx("option",{value:"bon",children:"Bon"}),a.jsx("option",{value:"moyen",children:"Moyen"}),a.jsx("option",{value:"à changer",children:"À changer"})]})]}),a.jsxs("div",{className:"w-full",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Plaquettes arrière"}),a.jsxs("select",{name:"plaquettes_ar",value:t.plaquettes_ar||"",onChange:c,className:"w-full border border-gray-300 rounded-md py-2 px-3 bg-white text-gray-900 focus:outline-none focus:ring-2 focus:ring-blue-500",children:[a.jsx("option",{value:"",children:"-- Sélectionner --"}),a.jsx("option",{value:"bon",children:"Bon"}),a.jsx("option",{value:"moyen",children:"Moyen"}),a.jsx("option",{value:"à changer",children:"À changer"})]})]})]})]}),a.jsxs("div",{className:"bg-white p-6 shadow-md mb-6 rounded-lg",children:[a.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Distribution"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{className:"w-full",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Type de distribution"}),a.jsxs("select",{name:"type_distribution",value:t.type_distribution||"",onChange:c,className:"w-full border border-gray-300 rounded-md py-2 px-3 bg-white text-gray-900 focus:outline-none focus:ring-2 focus:ring-blue-500",children:[a.jsx("option",{value:"",children:"-- Sélectionner --"}),a.jsx("option",{value:"chaine",children:"Chaîne"}),a.jsx("option",{value:"courroie",children:"Courroie"})]})]}),a.jsxs("div",{className:"w-full",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Année"}),a.jsx("input",{type:"text",name:"annee_distribution",value:t.annee_distribution||"",onChange:c,placeholder:"ex: 2020",className:"w-full border border-gray-300 rounded-md py-2 px-3 bg-white text-gray-900 focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]})]}),a.jsxs("div",{className:"bg-white p-6 shadow-md mb-6 rounded-lg",children:[a.jsx("h3",{className:"text-lg font-semibold mb-4",children:"État moteur"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{className:"w-full",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"État de l’huile"}),a.jsxs("select",{name:"huile_moteur",value:t.huile_moteur||"",onChange:c,className:"w-full border border-gray-300 rounded-md py-2 px-3 bg-white text-gray-900 focus:outline-none focus:ring-2 focus:ring-blue-500",children:[a.jsx("option",{value:"",children:"-- Sélectionner --"}),a.jsx("option",{value:"propre",children:"Propre"}),a.jsx("option",{value:"usée",children:"Usée"})]})]}),a.jsxs("div",{className:"w-full",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Fuite d’huile"}),a.jsxs("select",{name:"fuite_huile",value:t.fuite_huile||"",onChange:c,className:"w-full border border-gray-300 rounded-md py-2 px-3 bg-white text-gray-900 focus:outline-none focus:ring-2 focus:ring-blue-500",children:[a.jsx("option",{value:"",children:"-- Sélectionner --"}),a.jsx("option",{value:"aucune",children:"Aucune"}),a.jsx("option",{value:"légère",children:"Légère"}),a.jsx("option",{value:"importante",children:"Importante"})]})]})]})]}),a.jsxs("div",{className:"bg-white p-6 shadow-md mb-6 rounded-lg",children:[a.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Essai routier"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[a.jsxs("div",{className:"w-full",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"État de l’embrayage"}),a.jsxs("select",{name:"embrayage",value:t.embrayage||"",onChange:c,className:"w-full border border-gray-300 rounded-md py-2 px-3 bg-white text-gray-900 focus:outline-none focus:ring-2 focus:ring-blue-500",children:[a.jsx("option",{value:"",children:"-- Sélectionner --"}),a.jsx("option",{value:"très bon",children:"Très bon"}),a.jsx("option",{value:"bon",children:"Bon"}),a.jsx("option",{value:"correct",children:"Correct"}),a.jsx("option",{value:"usé",children:"Usé"})]})]}),a.jsxs("div",{className:"w-full",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Vibrations observées"}),a.jsxs("select",{name:"vibrations",value:t.vibrations||"",onChange:c,className:"w-full border border-gray-300 rounded-md py-2 px-3 bg-white text-gray-900 focus:outline-none focus:ring-2 focus:ring-blue-500",children:[a.jsx("option",{value:"",children:"-- Sélectionner --"}),a.jsx("option",{value:"aucune",children:"Aucune"}),a.jsx("option",{value:"légère",children:"Légère"}),a.jsx("option",{value:"importante",children:"Importante"})]})]})]}),a.jsxs("div",{className:"w-full",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Commentaires essai"}),a.jsx("textarea",{name:"commentaire_test",value:t.commentaire_test||"",onChange:c,placeholder:"Notes ou impressions pendant l’essai routier",rows:4,className:"w-full border border-gray-300 rounded-md py-2 px-3 bg-white text-gray-900 focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]}),a.jsxs("div",{className:"bg-white p-6 shadow-md mb-6 rounded-lg",children:[a.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Esthétique"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{className:"w-full",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"État carrosserie"}),a.jsx("input",{type:"text",name:"carrosserie",value:t.carrosserie||"",onChange:c,placeholder:"ex : Quelques rayures",className:"w-full border border-gray-300 rounded-md py-2 px-3 bg-white text-gray-900 focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),a.jsxs("div",{className:"w-full",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"État intérieur"}),a.jsx("input",{type:"text",name:"interieur",value:t.interieur||"",onChange:c,placeholder:"ex : Bon état général",className:"w-full border border-gray-300 rounded-md py-2 px-3 bg-white text-gray-900 focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]})]}),a.jsxs("div",{className:"bg-white p-6 shadow-md mb-6 rounded-lg",children:[a.jsxs("div",{className:"flex justify-between items-center mb-4",children:[a.jsx("h3",{className:"text-lg font-semibold",children:"Historique d’entretien"}),a.jsx("button",{type:"button",onClick:w,className:"btn btn-sm btn-outline",children:"Ajouter une ligne"})]}),(t.entretien||[]).map((m,f)=>a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-4",children:[a.jsx("input",{type:"number",placeholder:"Km",value:m.km,onChange:p=>g(f,"km",p.target.value),className:"input input-bordered w-full"}),a.jsx("input",{type:"date",placeholder:"Date",value:m.date,onChange:p=>g(f,"date",p.target.value),className:"input input-bordered w-full"}),a.jsx("input",{type:"text",placeholder:"Description",value:m.description,onChange:p=>g(f,"description",p.target.value),className:"input input-bordered w-full"}),a.jsxs("select",{value:m.prestataire,onChange:p=>g(f,"prestataire",p.target.value),className:"input input-bordered w-full",children:[a.jsx("option",{value:"",children:"Prestataire"}),a.jsx("option",{value:"concessionnaire",children:"Concessionnaire"}),a.jsx("option",{value:"autre professionnel",children:"Autre professionnel"}),a.jsx("option",{value:"personnelle",children:"Main d’œuvre personnelle"})]})]},f))]}),a.jsxs("div",{className:"bg-white p-6 shadow-md mb-6 rounded-lg",children:[a.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Garantie"}),a.jsx("input",{type:"text",name:"garantie",value:t.garantie||"",onChange:c,placeholder:"Garantie (ex : 3 mois inclus, 6 mois optionnelle, etc.)",className:"input input-bordered w-full"})]}),a.jsxs("div",{className:"bg-white p-6 shadow-md mb-6 rounded-lg",children:[a.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Photos"}),((b=t.photo_url)==null?void 0:b.length)>0?a.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-4",children:t.photo_url.map((m,f)=>a.jsxs("div",{className:"relative",children:[a.jsx("img",{src:m,alt:`Photo ${f+1}`,className:"rounded-md object-cover w-full h-32"}),a.jsx("button",{type:"button",onClick:()=>{const p=t.photo_url.filter((x,j)=>j!==f);n(x=>({...x,photo_url:p}))},className:"absolute top-1 right-1 bg-red-500 text-white text-xs px-2 py-1 rounded",children:"Supprimer"})]},f))}):a.jsx("p",{className:"text-gray-500 mb-4",children:"Aucune photo enregistrée."}),a.jsx("input",{type:"file",accept:"image/*",multiple:!0,onChange:m=>o([...m.target.files]),className:"input"})]}),a.jsxs("div",{className:"bg-white p-6 shadow-md mb-6 rounded-lg",children:[a.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Équipements & options"}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-3",children:["Climatisation automatique","Sièges chauffants","Sièges électriques","Toit ouvrant","Toit panoramique","Radar de recul","Radar avant","Caméra de recul","Caméras 360°","GPS intégré","Apple CarPlay / Android Auto","Bluetooth","Régulateur de vitesse","Alerte franchissement de ligne","Détection angle mort","Feux xénon","Feux LED","Jantes alliage","Vitres teintées","Accès sans clé","Démarrage sans clé","Système audio premium","Affichage tête haute","Volant chauffant"].map(m=>{var f;return a.jsxs("label",{className:"flex items-center space-x-2",children:[a.jsx("input",{type:"checkbox",name:"equipements",value:m,checked:((f=t.equipements)==null?void 0:f.includes(m))||!1,onChange:p=>{const{value:x,checked:j}=p.target,S=t.equipements||[];n({...t,equipements:j?[...S,x]:S.filter(N=>N!==x)})}}),a.jsx("span",{children:m})]},m)})})]}),a.jsx("div",{className:"mt-6",children:a.jsx("button",{type:"submit",className:"btn btn-primary w-full",children:"Enregistrer les modifications"})}),r&&a.jsx("div",{className:"mt-4 text-green-600 font-semibold text-center",children:r})]})]})}const Zj=()=>{const{id:e}=Qg(),t=Kn(),[n,r]=k.useState(null);return k.useEffect(()=>{(async()=>{const{data:i,error:o}=await ne.from("mandats").select("*").eq("id",e).single();o?console.error("Erreur :",o.message):r(i)})()},[e]),n?a.jsxs("div",{className:"max-w-3xl mx-auto p-6",children:[a.jsx("h2",{className:"text-2xl font-bold mb-6 text-blue-700",children:"Détails du véhicule"}),a.jsxs("div",{className:"bg-white rounded shadow p-6",children:[a.jsxs("p",{children:[a.jsx("strong",{children:"Marque :"})," ",n.marque]}),a.jsxs("p",{children:[a.jsx("strong",{children:"Modèle :"})," ",n.modele]}),a.jsxs("p",{children:[a.jsx("strong",{children:"Finition :"})," ",n.finition]}),a.jsxs("p",{children:[a.jsx("strong",{children:"Mise en circulation :"})," ",n.mise_en_circulation]}),a.jsxs("p",{children:[a.jsx("strong",{children:"Couleur :"})," ",n.couleur]}),a.jsxs("p",{children:[a.jsx("strong",{children:"Prix net vendeur :"})," ",n.prix_net_vendeur," €"]}),a.jsxs("p",{children:[a.jsx("strong",{children:"Commission :"})," ",n.commission," €"]}),a.jsxs("p",{children:[a.jsx("strong",{children:"Prix affiché :"})," ",n.prix_affiche," €"]})]}),a.jsx("button",{onClick:()=>t("/vehicles"),className:"mt-4 bg-gray-100 hover:bg-gray-200 px-4 py-2 rounded",children:"← Retour"})]}):a.jsx("div",{className:"text-center mt-10 text-gray-600",children:"Chargement..."})};/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eS=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Qv=(...e)=>e.filter((t,n,r)=>!!t&&t.trim()!==""&&r.indexOf(t)===n).join(" ").trim();/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var tS={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nS=k.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:s="",children:i,iconNode:o,...l},u)=>k.createElement("svg",{ref:u,...tS,width:t,height:t,stroke:e,strokeWidth:r?Number(n)*24/Number(t):n,className:Qv("lucide",s),...l},[...o.map(([c,d])=>k.createElement(c,d)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sl=(e,t)=>{const n=k.forwardRef(({className:r,...s},i)=>k.createElement(nS,{ref:i,iconNode:t,className:Qv(`lucide-${eS(e)}`,r),...s}));return n.displayName=`${e}`,n};/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rS=sl("CirclePlus",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sS=sl("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const If=sl("List",[["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 18h.01",key:"1tta3j"}],["path",{d:"M3 6h.01",key:"1rqtza"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 18h13",key:"1lx6n3"}],["path",{d:"M8 6h13",key:"ik3vkj"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iS=sl("Receipt",[["path",{d:"M4 2v20l2-1 2 1 2-1 2 1 2-1 2 1 2-1 2 1V2l-2 1-2-1-2 1-2-1-2 1-2-1-2 1Z",key:"q3az6g"}],["path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8",key:"1h4pet"}],["path",{d:"M12 17.5v-11",key:"1jc1ny"}]]),oS=[{key:"dashboard",label:"Dashboard",path:"/dashboard",icon:sS,exact:!0},{key:"mandats",label:"Mes mandats",path:"/list",icon:If},{key:"addvehicle",label:"Ajouter véhicule",path:"/add",icon:rS},{key:"facturation",label:"Facturation",path:"/facturation",icon:iS},{key:"estimation",label:"Estimation",path:"/estimation",icon:If}];function Gv(){const e=Kn();async function t(){try{await ne.auth.signOut()}catch{}try{e("/login")}catch{window.location.href="/"}}return a.jsx("button",{onClick:t,className:"w-full px-3 py-2 rounded-xl border hover:bg-muted",children:"Déconnexion"})}function Jv({compact:e=!1}){return a.jsxs("nav",{"aria-label":"Navigation latérale",className:"w-full md:w-64 border-r bg-background overflow-y-auto p-3 "+(e?"h-full md:h-screen md:sticky md:top-0":"md:h-screen md:sticky md:top-0"),children:[a.jsx("ul",{className:"space-y-1",children:oS.map(t=>a.jsx("li",{children:a.jsxs($_,{to:t.path,end:!!t.exact,className:({isActive:n})=>`flex items-center gap-2 px-3 py-2 rounded-xl hover:bg-muted
                 ${n?"bg-muted font-semibold":""}`,children:[t.icon?a.jsx(t.icon,{className:"h-4 w-4"}):null,a.jsx("span",{className:"truncate text-sm",children:t.label})]})},t.key))}),a.jsx("div",{className:"mt-4 pt-4 border-t",children:a.jsx(Gv,{})})]})}function aS(){const[e,t]=k.useState(!1);return a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"md:hidden flex items-center gap-2 border-b bg-background px-3 h-12",children:[a.jsx("button",{"aria-label":"Ouvrir la navigation",onClick:()=>t(!0),className:"px-2 py-1 rounded-lg border",children:"☰"}),a.jsx("div",{className:"font-medium",children:"Menu"})]}),e&&a.jsx("div",{className:"md:hidden fixed inset-0 z-50 bg-[#f8f5f0]",onClick:()=>t(!1),children:a.jsxs("div",{className:"absolute left-0 top-0 bottom-0 w-80 h-full bg-[#f8f5f0] p-3 text-black",onClick:n=>n.stopPropagation(),children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsx("div",{className:"font-medium",children:"Navigation"}),a.jsx("button",{"aria-label":"Fermer",onClick:()=>t(!1),className:"px-2 py-1 rounded-lg border text-black",children:"✕"})]}),a.jsx(Jv,{compact:!0}),a.jsx("div",{className:"mt-4 pt-4 border-t",children:a.jsx(Gv,{})})]})})]})}function Xn({children:e}){const[t,n]=k.useState(null),[r,s]=k.useState(!0);return k.useEffect(()=>{ne.auth.getSession().then(({data:i})=>{n(i.session),s(!1)})},[]),r?null:t?e:a.jsx(Xg,{to:"/"})}function lS(){const t=Er().pathname==="/";return a.jsxs("div",{className:"flex min-h-[100svh]",children:[!t&&a.jsx("aside",{className:"hidden md:block",children:a.jsx(Jv,{})}),a.jsxs("div",{className:"flex-1 flex flex-col",children:[a.jsx(aS,{}),a.jsx("main",{className:"flex-1 overflow-y-auto",children:a.jsxs(j_,{children:[a.jsx(Rt,{path:"/",element:a.jsx(B_,{})}),a.jsx(Rt,{path:"/dashboard",element:a.jsx(Xn,{children:a.jsx(K_,{})})}),a.jsx(Rt,{path:"/add",element:a.jsx(Xn,{children:a.jsx(qj,{})})}),a.jsx(Rt,{path:"/list",element:a.jsx(Xn,{children:a.jsx(Vj,{})})}),a.jsx(Rt,{path:"/edit/:id",element:a.jsx(Xn,{children:a.jsx(Xj,{})})}),a.jsx(Rt,{path:"/detail/:id",element:a.jsx(Xn,{children:a.jsx(Zj,{})})}),a.jsx(Rt,{path:"/facturation",element:a.jsx(Xn,{children:a.jsx(P2,{})})}),a.jsx(Rt,{path:"/estimation",element:a.jsx(Xn,{children:a.jsx(I2,{})})}),a.jsx(Rt,{path:"*",element:a.jsx(Xg,{to:"/"})})]})})]})]})}function uS(){return a.jsx(O_,{children:a.jsx(lS,{})})}const cS=new a2;Hl.createRoot(document.getElementById("root")).render(a.jsx(vs.StrictMode,{children:a.jsx(h2,{client:cS,children:a.jsx(uS,{})})}));
